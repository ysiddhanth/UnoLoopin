(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function X1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vm={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function W1(){if(p0)return iu;p0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:c,ref:o!==void 0?o:null,props:l}}return iu.Fragment=e,iu.jsx=t,iu.jsxs=t,iu}var g0;function Z1(){return g0||(g0=1,Vm.exports=W1()),Vm.exports}var w=Z1(),Lm={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function J1(){if(y0)return He;y0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,$={};function F(O,re,fe){this.props=O,this.context=re,this.refs=$,this.updater=fe||R}F.prototype.isReactComponent={},F.prototype.setState=function(O,re){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,re,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=F.prototype;function ue(O,re,fe){this.props=O,this.context=re,this.refs=$,this.updater=fe||R}var ne=ue.prototype=new H;ne.constructor=ue,I(ne,F.prototype),ne.isPureReactComponent=!0;var pe=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function M(O,re,fe,le,Ae,qe){return fe=qe.ref,{$$typeof:r,type:O,key:re,ref:fe!==void 0?fe:null,props:qe}}function x(O,re){return M(O.type,re,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var re={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return re[fe]})}var U=/\/+/g;function j(O,re){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):re.toString(36)}function D(){}function je(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(re){O.status==="pending"&&(O.status="fulfilled",O.value=re)},function(re){O.status==="pending"&&(O.status="rejected",O.reason=re)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Fe(O,re,fe,le,Ae){var qe=typeof O;(qe==="undefined"||qe==="boolean")&&(O=null);var xe=!1;if(O===null)xe=!0;else switch(qe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(O.$$typeof){case r:case e:xe=!0;break;case v:return xe=O._init,Fe(xe(O._payload),re,fe,le,Ae)}}if(xe)return Ae=Ae(O),xe=le===""?"."+j(O,0):le,pe(Ae)?(fe="",xe!=null&&(fe=xe.replace(U,"$&/")+"/"),Fe(Ae,re,fe,"",function(tr){return tr})):Ae!=null&&(C(Ae)&&(Ae=x(Ae,fe+(Ae.key==null||O&&O.key===Ae.key?"":(""+Ae.key).replace(U,"$&/")+"/")+xe)),re.push(Ae)),1;xe=0;var kt=le===""?".":le+":";if(pe(O))for(var gt=0;gt<O.length;gt++)le=O[gt],qe=kt+j(le,gt),xe+=Fe(le,re,fe,qe,Ae);else if(gt=T(O),typeof gt=="function")for(O=gt.call(O),gt=0;!(le=O.next()).done;)le=le.value,qe=kt+j(le,gt++),xe+=Fe(le,re,fe,qe,Ae);else if(qe==="object"){if(typeof O.then=="function")return Fe(je(O),re,fe,le,Ae);throw re=String(O),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function W(O,re,fe){if(O==null)return O;var le=[],Ae=0;return Fe(O,le,"","",function(qe){return re.call(fe,qe,Ae++)}),le}function he(O){if(O._status===-1){var re=O._result;re=re(),re.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=re)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Le(){}return He.Children={map:W,forEach:function(O,re,fe){W(O,function(){re.apply(this,arguments)},fe)},count:function(O){var re=0;return W(O,function(){re++}),re},toArray:function(O){return W(O,function(re){return re})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},He.Component=F,He.Fragment=t,He.Profiler=o,He.PureComponent=ue,He.StrictMode=a,He.Suspense=m,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,He.__COMPILER_RUNTIME={__proto__:null,c:function(O){return de.H.useMemoCache(O)}},He.cache=function(O){return function(){return O.apply(null,arguments)}},He.cloneElement=function(O,re,fe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=I({},O.props),Ae=O.key,qe=void 0;if(re!=null)for(xe in re.ref!==void 0&&(qe=void 0),re.key!==void 0&&(Ae=""+re.key),re)!q.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(le[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)le.children=fe;else if(1<xe){for(var kt=Array(xe),gt=0;gt<xe;gt++)kt[gt]=arguments[gt+2];le.children=kt}return M(O.type,Ae,void 0,void 0,qe,le)},He.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},He.createElement=function(O,re,fe){var le,Ae={},qe=null;if(re!=null)for(le in re.key!==void 0&&(qe=""+re.key),re)q.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ae[le]=re[le]);var xe=arguments.length-2;if(xe===1)Ae.children=fe;else if(1<xe){for(var kt=Array(xe),gt=0;gt<xe;gt++)kt[gt]=arguments[gt+2];Ae.children=kt}if(O&&O.defaultProps)for(le in xe=O.defaultProps,xe)Ae[le]===void 0&&(Ae[le]=xe[le]);return M(O,qe,void 0,void 0,null,Ae)},He.createRef=function(){return{current:null}},He.forwardRef=function(O){return{$$typeof:d,render:O}},He.isValidElement=C,He.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:he}},He.memo=function(O,re){return{$$typeof:g,type:O,compare:re===void 0?null:re}},He.startTransition=function(O){var re=de.T,fe={};de.T=fe;try{var le=O(),Ae=de.S;Ae!==null&&Ae(fe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Le,ge)}catch(qe){ge(qe)}finally{de.T=re}},He.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},He.use=function(O){return de.H.use(O)},He.useActionState=function(O,re,fe){return de.H.useActionState(O,re,fe)},He.useCallback=function(O,re){return de.H.useCallback(O,re)},He.useContext=function(O){return de.H.useContext(O)},He.useDebugValue=function(){},He.useDeferredValue=function(O,re){return de.H.useDeferredValue(O,re)},He.useEffect=function(O,re,fe){var le=de.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(O,re)},He.useId=function(){return de.H.useId()},He.useImperativeHandle=function(O,re,fe){return de.H.useImperativeHandle(O,re,fe)},He.useInsertionEffect=function(O,re){return de.H.useInsertionEffect(O,re)},He.useLayoutEffect=function(O,re){return de.H.useLayoutEffect(O,re)},He.useMemo=function(O,re){return de.H.useMemo(O,re)},He.useOptimistic=function(O,re){return de.H.useOptimistic(O,re)},He.useReducer=function(O,re,fe){return de.H.useReducer(O,re,fe)},He.useRef=function(O){return de.H.useRef(O)},He.useState=function(O){return de.H.useState(O)},He.useSyncExternalStore=function(O,re,fe){return de.H.useSyncExternalStore(O,re,fe)},He.useTransition=function(){return de.H.useTransition()},He.version="19.1.0",He}var v0;function Fp(){return v0||(v0=1,Lm.exports=J1()),Lm.exports}var L=Fp();const Ds=X1(L);var Um={exports:{}},au={},jm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function eR(){return _0||(_0=1,function(r){function e(W,he){var ge=W.length;W.push(he);e:for(;0<ge;){var Le=ge-1>>>1,O=W[Le];if(0<o(O,he))W[Le]=he,W[ge]=O,ge=Le;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var he=W[0],ge=W.pop();if(ge!==he){W[0]=ge;e:for(var Le=0,O=W.length,re=O>>>1;Le<re;){var fe=2*(Le+1)-1,le=W[fe],Ae=fe+1,qe=W[Ae];if(0>o(le,ge))Ae<O&&0>o(qe,le)?(W[Le]=qe,W[Ae]=ge,Le=Ae):(W[Le]=le,W[fe]=ge,Le=fe);else if(Ae<O&&0>o(qe,ge))W[Le]=qe,W[Ae]=ge,Le=Ae;else break e}}return he}function o(W,he){var ge=W.sortIndex-he.sortIndex;return ge!==0?ge:W.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,b=null,T=3,R=!1,I=!1,$=!1,F=!1,H=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function pe(W){for(var he=t(g);he!==null;){if(he.callback===null)a(g);else if(he.startTime<=W)a(g),he.sortIndex=he.expirationTime,e(m,he);else break;he=t(g)}}function de(W){if($=!1,pe(W),!I)if(t(m)!==null)I=!0,q||(q=!0,j());else{var he=t(g);he!==null&&Fe(de,he.startTime-W)}}var q=!1,M=-1,x=5,C=-1;function P(){return F?!0:!(r.unstable_now()-C<x)}function U(){if(F=!1,q){var W=r.unstable_now();C=W;var he=!0;try{e:{I=!1,$&&($=!1,ue(M),M=-1),R=!0;var ge=T;try{t:{for(pe(W),b=t(m);b!==null&&!(b.expirationTime>W&&P());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,T=b.priorityLevel;var O=Le(b.expirationTime<=W);if(W=r.unstable_now(),typeof O=="function"){b.callback=O,pe(W),he=!0;break t}b===t(m)&&a(m),pe(W)}else a(m);b=t(m)}if(b!==null)he=!0;else{var re=t(g);re!==null&&Fe(de,re.startTime-W),he=!1}}break e}finally{b=null,T=ge,R=!1}he=void 0}}finally{he?j():q=!1}}}var j;if(typeof ne=="function")j=function(){ne(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,je=D.port2;D.port1.onmessage=U,j=function(){je.postMessage(null)}}else j=function(){H(U,0)};function Fe(W,he){M=H(function(){W(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(W){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var ge=T;T=he;try{return W()}finally{T=ge}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(W,he){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=T;T=W;try{return he()}finally{T=ge}},r.unstable_scheduleCallback=function(W,he,ge){var Le=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Le+ge:Le):ge=Le,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,W={id:v++,callback:he,priorityLevel:W,startTime:ge,expirationTime:O,sortIndex:-1},ge>Le?(W.sortIndex=ge,e(g,W),t(m)===null&&W===t(g)&&($?(ue(M),M=-1):$=!0,Fe(de,ge-Le))):(W.sortIndex=O,e(m,W),I||R||(I=!0,q||(q=!0,j()))),W},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(W){var he=T;return function(){var ge=T;T=he;try{return W.apply(this,arguments)}finally{T=ge}}}}(zm)),zm}var E0;function tR(){return E0||(E0=1,jm.exports=eR()),jm.exports}var Bm={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function nR(){if(b0)return vn;b0=1;var r=Fp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},vn.flushSync=function(m){var g=c.T,v=a.p;try{if(c.T=null,a.p=2,m)return m()}finally{c.T=g,a.p=v,a.d.f()}},vn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},vn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},vn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:R}):v==="script"&&a.d.X(m,{crossOrigin:b,integrity:T,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},vn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},vn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);a.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},vn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},vn.requestFormReset=function(m){a.d.r(m)},vn.unstable_batchedUpdates=function(m,g){return m(g)},vn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},vn.version="19.1.0",vn}var T0;function jb(){if(T0)return Bm.exports;T0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bm.exports=nR(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function rR(){if(w0)return au;w0=1;var r=tR(),e=Fp(),t=jb();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(a(188))}function m(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,u=i;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return d(f),n;if(p===u)return d(f),i;p=p.sibling}throw Error(a(188))}if(s.return!==u.return)s=f,u=p;else{for(var E=!1,A=f.child;A;){if(A===s){E=!0,s=f,u=p;break}if(A===u){E=!0,u=f,s=p;break}A=A.sibling}if(!E){for(A=p.child;A;){if(A===s){E=!0,s=p,u=f;break}if(A===u){E=!0,u=p,s=f;break}A=A.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function je(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case F:return"Profiler";case $:return"StrictMode";case de:return"Suspense";case q:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case R:return"Portal";case ne:return(n.displayName||"Context")+".Provider";case ue:return(n._context.displayName||"Context")+".Consumer";case pe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:je(n.type)||"Memo";case x:i=n._payload,n=n._init;try{return je(n(i))}catch{}}return null}var Fe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Le=[],O=-1;function re(n){return{current:n}}function fe(n){0>O||(n.current=Le[O],Le[O]=null,O--)}function le(n,i){O++,Le[O]=n.current,n.current=i}var Ae=re(null),qe=re(null),xe=re(null),kt=re(null);function gt(n,i){switch(le(xe,i),le(qe,n),le(Ae,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?q_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=q_(i),n=H_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}fe(Ae),le(Ae,n)}function tr(){fe(Ae),fe(qe),fe(xe)}function St(n){n.memoizedState!==null&&le(kt,n);var i=Ae.current,s=H_(i,n.type);i!==s&&(le(qe,n),le(Ae,s))}function mn(n){qe.current===n&&(fe(Ae),fe(qe)),kt.current===n&&(fe(kt),Jl._currentValue=ge)}var Vr=Object.prototype.hasOwnProperty,hi=r.unstable_scheduleCallback,An=r.unstable_cancelCallback,Wa=r.unstable_shouldYield,$s=r.unstable_requestPaint,Sn=r.unstable_now,sl=r.unstable_getCurrentPriorityLevel,Za=r.unstable_ImmediatePriority,Ki=r.unstable_UserBlockingPriority,fi=r.unstable_NormalPriority,Ar=r.unstable_LowPriority,nr=r.unstable_IdlePriority,Yi=r.log,Qi=r.unstable_setDisableYieldValue,ut=null,$e=null;function pn(n){if(typeof Yi=="function"&&Qi(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ut,n)}catch{}}var Pt=Math.clz32?Math.clz32:Lr,Ks=Math.log,rr=Math.LN2;function Lr(n){return n>>>=0,n===0?32:31-(Ks(n)/rr|0)|0}var Ur=256,jr=4194304;function zn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function di(n,i,s){var u=n.pendingLanes;if(u===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?f=zn(u):(E&=A,E!==0?f=zn(E):s||(s=A&~n,s!==0&&(f=zn(s))))):(A=u&~p,A!==0?f=zn(A):E!==0?f=zn(E):s||(s=u&~n,s!==0&&(f=zn(s)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:f}function ir(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Xi(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(){var n=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),n}function Ja(){var n=jr;return jr<<=1,(jr&62914560)===0&&(jr=4194304),n}function ar(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Sr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Wi(n,i,s,u,f,p){var E=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var A=n.entanglements,N=n.expirationTimes,Q=n.hiddenUpdates;for(s=E&~s;0<s;){var ee=31-Pt(s),ae=1<<ee;A[ee]=0,N[ee]=-1;var X=Q[ee];if(X!==null)for(Q[ee]=null,ee=0;ee<X.length;ee++){var Z=X[ee];Z!==null&&(Z.lane&=-536870913)}s&=~ae}u!==0&&Rn(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~i))}function Rn(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Pt(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|s&4194090}function zr(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var u=31-Pt(s),f=1<<u;f&i|n[u]&i&&(n[u]|=i),s&=~f}}function Br(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Zi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function k(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:u0(n.type))}function B(n,i){var s=he.p;try{return he.p=n,i()}finally{he.p=s}}var Y=Math.random().toString(36).slice(2),ie="__reactFiber$"+Y,ce="__reactProps$"+Y,ye="__reactContainer$"+Y,Ie="__reactEvents$"+Y,Ee="__reactListeners$"+Y,Te="__reactHandles$"+Y,Se="__reactResources$"+Y,Ne="__reactMarker$"+Y;function we(n){delete n[ie],delete n[ce],delete n[Ie],delete n[Ee],delete n[Te]}function Oe(n){var i=n[ie];if(i)return i;for(var s=n.parentNode;s;){if(i=s[ye]||s[ie]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=Y_(n);n!==null;){if(s=n[ie])return s;n=Y_(n)}return i}n=s,s=n.parentNode}return null}function We(n){if(n=n[ie]||n[ye]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function ht(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function ot(n){var i=n[Se];return i||(i=n[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(n){n[Ne]=!0}var Qe=new Set,sr={};function qt(n,i){xn(n,i),xn(n+"Capture",i)}function xn(n,i){for(sr[n]=i,n=0;n<i.length;n++)Qe.add(i[n])}var rn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fr={},Bn={};function Ji(n){return Vr.call(Bn,n)?!0:Vr.call(Fr,n)?!1:rn.test(n)?Bn[n]=!0:(Fr[n]=!0,!1)}function gn(n,i,s){if(Ji(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Cn(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Ue(n,i,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+u)}}var Vt,Fn;function On(n){if(Vt===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Vt=i&&i[1]||"",Fn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vt+n+Fn}var qr=!1;function bt(n,i){if(!n||qr)return"";qr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var X=Z}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(Z){X=Z}n.call(ae.prototype)}}else{try{throw Error()}catch(Z){X=Z}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],A=p[1];if(E&&A){var N=E.split(`
`),Q=A.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===Q.length)for(u=N.length-1,f=Q.length-1;1<=u&&0<=f&&N[u]!==Q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==Q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==Q[f]){var ee=`
`+N[u].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=u&&0<=f);break}}}finally{qr=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?On(s):""}function or(n){switch(n.tag){case 26:case 27:case 5:return On(n.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return bt(n.type,!1);case 11:return bt(n.type.render,!1);case 1:return bt(n.type,!0);case 31:return On("Activity");default:return""}}function pi(n){try{var i="";do i+=or(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ol(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zf(n){var i=ol(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ys(n){n._valueTracker||(n._valueTracker=zf(n))}function ll(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return n&&(u=ol(n)?n.checked?"true":"false":n.value),n=u,n!==s?(i.setValue(n),!0):!1}function es(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Bf=/[\n"\\]/g;function Lt(n){return n.replace(Bf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qn(n,i,s,u,f,p,E,A){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+an(i)):n.value!==""+an(i)&&(n.value=""+an(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?ea(n,E,an(i)):s!=null?ea(n,E,an(s)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+an(A):n.removeAttribute("name")}function ts(n,i,s,u,f,p,E,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+an(s):"",i=i!=null?""+an(i):s,A||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=A?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function ea(n,i,s){i==="number"&&es(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function gi(n,i,s,u){if(n=n.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=i.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&u&&(n[s].defaultSelected=!0)}else{for(s=""+an(s),i=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function yt(n,i,s){if(i!=null&&(i=""+an(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+an(s):""}function ns(n,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(a(92));if(Fe(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=an(i),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u)}function lr(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nc(n,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,s):typeof s!="number"||s===0||rs.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function ul(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&s[f]!==u&&nc(n,f,u)}else for(var p in i)i.hasOwnProperty(p)&&nc(n,p,i[p])}function cl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(n){return qf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var yi=null;function ur(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vi=null,_i=null;function hl(n){var i=We(n);if(i&&(n=i.stateNode)){var s=n[ce]||null;e:switch(n=i.stateNode,i.type){case"input":if(qn(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Lt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==n&&u.form===n.form){var f=u[ce]||null;if(!f)throw Error(a(90));qn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===n.form&&ll(u)}break e;case"textarea":yt(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&gi(n,!!s.multiple,i,!1)}}}var Hr=!1;function rc(n,i,s){if(Hr)return n(i,s);Hr=!0;try{var u=n(i);return u}finally{if(Hr=!1,(vi!==null||_i!==null)&&(Xc(),vi&&(i=vi,n=_i,_i=vi=null,hl(i),n)))for(i=0;i<n.length;i++)hl(n[i])}}function is(n,i){var s=n.stateNode;if(s===null)return null;var u=s[ce]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(Rr)try{var as={};Object.defineProperty(as,"passive",{get:function(){cr=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{cr=!1}var Gr=null,ta=null,Ei=null;function fl(){if(Ei)return Ei;var n,i=ta,s=i.length,u,f="value"in Gr?Gr.value:Gr.textContent,p=f.length;for(n=0;n<s&&i[n]===f[n];n++);var E=s-n;for(u=1;u<=E&&i[s-u]===f[p-u];u++);return Ei=f.slice(n,1<u?1-u:void 0)}function $r(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Kr(){return!0}function dl(){return!1}function Wt(n){function i(s,u,f,p,E){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(s=n[A],this[A]=s?s(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Kr:dl,this.isPropagationStopped=dl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),i}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Wt(ft),ss=v({},ft,{view:0,detail:0}),ic=Wt(ss),Ws,Zs,Yr,os=v({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yr&&(Yr&&n.type==="mousemove"?(Ws=n.screenX-Yr.screenX,Zs=n.screenY-Yr.screenY):Zs=Ws=0,Yr=n),Ws)},movementY:function(n){return"movementY"in n?n.movementY:Zs}}),hr=Wt(os),ac=v({},os,{dataTransfer:0}),Hf=Wt(ac),ls=v({},ss,{relatedTarget:0}),Js=Wt(ls),ml=v({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),eo=Wt(ml),sc=v({},ft,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),to=Wt(sc),Gf=v({},ft,{data:0}),pl=Wt(Gf),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=lc[n])?!!i[n]:!1}function cs(){return gl}var uc=v({},ss,{key:function(n){if(n.key){var i=us[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=$r(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?oc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(n){return n.type==="keypress"?$r(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$r(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),no=Wt(uc),cc=v({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yl=Wt(cc),bi=v({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),hc=Wt(bi),fc=v({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),dc=Wt(fc),mc=v({},os,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ro=Wt(mc),In=v({},ft,{newState:0,oldState:0}),pc=Wt(In),gc=[9,13,27,32],Qr=Rr&&"CompositionEvent"in window,h=null;Rr&&"documentMode"in document&&(h=document.documentMode);var y=Rr&&"TextEvent"in window&&!h,_=Rr&&(!Qr||h&&8<h&&11>=h),S=" ",G=!1;function J(n,i){switch(n){case"keyup":return gc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var rt=!1;function Ht(n,i){switch(n){case"compositionend":return me(i);case"keypress":return i.which!==32?null:(G=!0,S);case"textInput":return n=i.data,n===S&&G?null:n;default:return null}}function it(n,i){if(rt)return n==="compositionend"||!Qr&&J(n,i)?(n=fl(),Ei=ta=Gr=null,rt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Zt[n.type]:i==="textarea"}function Ti(n,i,s,u){vi?_i?_i.push(u):_i=[u]:vi=u,i=nh(i,"onChange"),0<i.length&&(s=new Xs("onChange","change",null,s,u),n.push({event:s,listeners:i}))}var sn=null,Xr=null;function vl(n){U_(n,0)}function yc(n){var i=ht(n);if(ll(i))return n}function ay(n,i){if(n==="change")return i}var sy=!1;if(Rr){var $f;if(Rr){var Kf="oninput"in document;if(!Kf){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Kf=typeof oy.oninput=="function"}$f=Kf}else $f=!1;sy=$f&&(!document.documentMode||9<document.documentMode)}function ly(){sn&&(sn.detachEvent("onpropertychange",uy),Xr=sn=null)}function uy(n){if(n.propertyName==="value"&&yc(Xr)){var i=[];Ti(i,Xr,n,ur(n)),rc(vl,i)}}function RS(n,i,s){n==="focusin"?(ly(),sn=i,Xr=s,sn.attachEvent("onpropertychange",uy)):n==="focusout"&&ly()}function xS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yc(Xr)}function CS(n,i){if(n==="click")return yc(i)}function IS(n,i){if(n==="input"||n==="change")return yc(i)}function NS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Hn=typeof Object.is=="function"?Object.is:NS;function _l(n,i){if(Hn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!Vr.call(i,f)||!Hn(n[f],i[f]))return!1}return!0}function cy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hy(n,i){var s=cy(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=i&&u>=i)return{node:s,offset:i-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cy(s)}}function fy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?fy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function dy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=es(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=es(n.document)}return i}function Yf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var DS=Rr&&"documentMode"in document&&11>=document.documentMode,io=null,Qf=null,El=null,Xf=!1;function my(n,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Xf||io==null||io!==es(u)||(u=io,"selectionStart"in u&&Yf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),El&&_l(El,u)||(El=u,u=nh(Qf,"onSelect"),0<u.length&&(i=new Xs("onSelect","select",null,i,s),n.push({event:i,listeners:u}),i.target=io)))}function hs(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var ao={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Wf={},py={};Rr&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function fs(n){if(Wf[n])return Wf[n];if(!ao[n])return n;var i=ao[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in py)return Wf[n]=i[s];return n}var gy=fs("animationend"),yy=fs("animationiteration"),vy=fs("animationstart"),OS=fs("transitionrun"),MS=fs("transitionstart"),kS=fs("transitioncancel"),_y=fs("transitionend"),Ey=new Map,Zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zf.push("scrollEnd");function xr(n,i){Ey.set(n,i),qt(i,[n])}var by=new WeakMap;function fr(n,i){if(typeof n=="object"&&n!==null){var s=by.get(n);return s!==void 0?s:(i={value:n,source:i,stack:pi(i)},by.set(n,i),i)}return{value:n,source:i,stack:pi(i)}}var dr=[],so=0,Jf=0;function vc(){for(var n=so,i=Jf=so=0;i<n;){var s=dr[i];dr[i++]=null;var u=dr[i];dr[i++]=null;var f=dr[i];dr[i++]=null;var p=dr[i];if(dr[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&Ty(s,f,p)}}function _c(n,i,s,u){dr[so++]=n,dr[so++]=i,dr[so++]=s,dr[so++]=u,Jf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function ed(n,i,s,u){return _c(n,i,s,u),Ec(n)}function oo(n,i){return _c(n,null,null,i),Ec(n)}function Ty(n,i,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var f=!1,p=n.return;p!==null;)p.childLanes|=s,u=p.alternate,u!==null&&(u.childLanes|=s),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&i!==null&&(f=31-Pt(s),n=p.hiddenUpdates,u=n[f],u===null?n[f]=[i]:u.push(i),i.lane=s|536870912),p):null}function Ec(n){if(50<Gl)throw Gl=0,sm=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var lo={};function PS(n,i,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(n,i,s,u){return new PS(n,i,s,u)}function td(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wi(n,i){var s=n.alternate;return s===null?(s=Gn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function wy(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function bc(n,i,s,u,f,p){var E=0;if(u=n,typeof n=="function")td(n)&&(E=1);else if(typeof n=="string")E=L1(n,s,Ae.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Gn(31,s,i,f),n.elementType=C,n.lanes=p,n;case I:return ds(s.children,f,p,i);case $:E=8,f|=24;break;case F:return n=Gn(12,s,i,f|2),n.elementType=F,n.lanes=p,n;case de:return n=Gn(13,s,i,f),n.elementType=de,n.lanes=p,n;case q:return n=Gn(19,s,i,f),n.elementType=q,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:case ne:E=10;break e;case ue:E=9;break e;case pe:E=11;break e;case M:E=14;break e;case x:E=16,u=null;break e}E=29,s=Error(a(130,n===null?"null":typeof n,"")),u=null}return i=Gn(E,s,i,f),i.elementType=n,i.type=u,i.lanes=p,i}function ds(n,i,s,u){return n=Gn(7,n,u,i),n.lanes=s,n}function nd(n,i,s){return n=Gn(6,n,null,i),n.lanes=s,n}function rd(n,i,s){return i=Gn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var uo=[],co=0,Tc=null,wc=0,mr=[],pr=0,ms=null,Ai=1,Si="";function ps(n,i){uo[co++]=wc,uo[co++]=Tc,Tc=n,wc=i}function Ay(n,i,s){mr[pr++]=Ai,mr[pr++]=Si,mr[pr++]=ms,ms=n;var u=Ai;n=Si;var f=32-Pt(u)-1;u&=~(1<<f),s+=1;var p=32-Pt(i)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Ai=1<<32-Pt(i)+f|s<<f|u,Si=p+n}else Ai=1<<p|s<<f|u,Si=n}function id(n){n.return!==null&&(ps(n,1),Ay(n,1,0))}function ad(n){for(;n===Tc;)Tc=uo[--co],uo[co]=null,wc=uo[--co],uo[co]=null;for(;n===ms;)ms=mr[--pr],mr[pr]=null,Si=mr[--pr],mr[pr]=null,Ai=mr[--pr],mr[pr]=null}var Nn=null,It=null,ct=!1,gs=null,Wr=!1,sd=Error(a(519));function ys(n){var i=Error(a(418,""));throw wl(fr(i,n)),sd}function Sy(n){var i=n.stateNode,s=n.type,u=n.memoizedProps;switch(i[ie]=n,i[ce]=u,s){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(s=0;s<Kl.length;s++)Je(Kl[s],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),ts(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ys(i);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),ns(i,u.value,u.defaultValue,u.children),Ys(i)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||F_(i.textContent,s)?(u.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),u.onScroll!=null&&Je("scroll",i),u.onScrollEnd!=null&&Je("scrollend",i),u.onClick!=null&&(i.onclick=rh),i=!0):i=!1,i||ys(n)}function Ry(n){for(Nn=n.return;Nn;)switch(Nn.tag){case 5:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Nn=Nn.return}}function bl(n){if(n!==Nn)return!1;if(!ct)return Ry(n),ct=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Tm(n.type,n.memoizedProps)),s=!s),s&&It&&ys(n),Ry(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){It=Ir(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}It=null}}else i===27?(i=It,ya(n.type)?(n=Rm,Rm=null,It=n):It=i):It=Nn?Ir(n.stateNode.nextSibling):null;return!0}function Tl(){It=Nn=null,ct=!1}function xy(){var n=gs;return n!==null&&(Pn===null?Pn=n:Pn.push.apply(Pn,n),gs=null),n}function wl(n){gs===null?gs=[n]:gs.push(n)}var od=re(null),vs=null,Ri=null;function na(n,i,s){le(od,i._currentValue),i._currentValue=s}function xi(n){n._currentValue=od.current,fe(od)}function ld(n,i,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===s)break;n=n.return}}function ud(n,i,s,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=f;for(var N=0;N<i.length;N++)if(A.context===i[N]){p.lanes|=s,A=p.alternate,A!==null&&(A.lanes|=s),ld(p.return,s,n),u||(E=null);break e}p=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,p=E.alternate,p!==null&&(p.lanes|=s),ld(E,s,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Al(n,i,s,u){n=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var A=f.type;Hn(f.pendingProps.value,E.value)||(n!==null?n.push(A):n=[A])}}else if(f===kt.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Jl):n=[Jl])}f=f.return}n!==null&&ud(i,n,s,u),i.flags|=262144}function Ac(n){for(n=n.firstContext;n!==null;){if(!Hn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function _s(n){vs=n,Ri=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yn(n){return Cy(vs,n)}function Sc(n,i){return vs===null&&_s(n),Cy(n,i)}function Cy(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ri===null){if(n===null)throw Error(a(308));Ri=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ri=Ri.next=i;return s}var VS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},LS=r.unstable_scheduleCallback,US=r.unstable_NormalPriority,$t={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new VS,data:new Map,refCount:0}}function Sl(n){n.refCount--,n.refCount===0&&LS(US,function(){n.controller.abort()})}var Rl=null,hd=0,ho=0,fo=null;function jS(n,i){if(Rl===null){var s=Rl=[];hd=0,ho=dm(),fo={status:"pending",value:void 0,then:function(u){s.push(u)}}}return hd++,i.then(Iy,Iy),i}function Iy(){if(--hd===0&&Rl!==null){fo!==null&&(fo.status="fulfilled");var n=Rl;Rl=null,ho=0,fo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function zS(n,i){var s=[],u={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),u}var Ny=W.S;W.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&jS(n,i),Ny!==null&&Ny(n,i)};var Es=re(null);function fd(){var n=Es.current;return n!==null?n:wt.pooledCache}function Rc(n,i){i===null?le(Es,Es.current):le(Es,i.pool)}function Dy(){var n=fd();return n===null?null:{parent:$t._currentValue,pool:n}}var xl=Error(a(460)),Oy=Error(a(474)),xc=Error(a(542)),dd={then:function(){}};function My(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cc(){}function ky(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(Cc,Cc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Vy(n),n;default:if(typeof i.status=="string")i.then(Cc,Cc);else{if(n=wt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Vy(n),n}throw Cl=i,xl}}var Cl=null;function Py(){if(Cl===null)throw Error(a(459));var n=Cl;return Cl=null,n}function Vy(n){if(n===xl||n===xc)throw Error(a(483))}var ra=!1;function md(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ia(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function aa(n,i,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(mt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Ec(n),Ty(n,null,s),i}return _c(n,u,i,s),Ec(n)}function Il(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,s|=u,i.lanes=s,zr(n,s)}}function gd(n,i){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,s=s.next}while(s!==null);p===null?f=p=i:p=p.next=i}else f=p=i;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var yd=!1;function Nl(){if(yd){var n=fo;if(n!==null)throw n}}function Dl(n,i,s,u){yd=!1;var f=n.updateQueue;ra=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,Q=N.next;N.next=null,E===null?p=Q:E.next=Q,E=N;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==E&&(A===null?ee.firstBaseUpdate=Q:A.next=Q,ee.lastBaseUpdate=N))}if(p!==null){var ae=f.baseState;E=0,ee=Q=N=null,A=p;do{var X=A.lane&-536870913,Z=X!==A.lane;if(Z?(at&X)===X:(u&X)===X){X!==0&&X===ho&&(yd=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ve=n,De=A;X=i;var Et=s;switch(De.tag){case 1:if(Ve=De.payload,typeof Ve=="function"){ae=Ve.call(Et,ae,X);break e}ae=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=De.payload,X=typeof Ve=="function"?Ve.call(Et,ae,X):Ve,X==null)break e;ae=v({},ae,X);break e;case 2:ra=!0}}X=A.callback,X!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(Q=ee=Z,N=ae):ee=ee.next=Z,E|=X;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);ee===null&&(N=ae),f.baseState=N,f.firstBaseUpdate=Q,f.lastBaseUpdate=ee,p===null&&(f.shared.lanes=0),da|=E,n.lanes=E,n.memoizedState=ae}}function Ly(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Uy(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Ly(s[n],i)}var mo=re(null),Ic=re(0);function jy(n,i){n=ki,le(Ic,n),le(mo,i),ki=n|i.baseLanes}function vd(){le(Ic,ki),le(mo,mo.current)}function _d(){ki=Ic.current,fe(mo),fe(Ic)}var sa=0,Ke=null,vt=null,Ut=null,Nc=!1,po=!1,bs=!1,Dc=0,Ol=0,go=null,BS=0;function Dt(){throw Error(a(321))}function Ed(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Hn(n[s],i[s]))return!1;return!0}function bd(n,i,s,u,f,p){return sa=p,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=n===null||n.memoizedState===null?Tv:wv,bs=!1,p=s(u,f),bs=!1,po&&(p=By(i,s,u,f)),zy(n),p}function zy(n){W.H=Lc;var i=vt!==null&&vt.next!==null;if(sa=0,Ut=vt=Ke=null,Nc=!1,Ol=0,go=null,i)throw Error(a(300));n===null||Jt||(n=n.dependencies,n!==null&&Ac(n)&&(Jt=!0))}function By(n,i,s,u){Ke=n;var f=0;do{if(po&&(go=null),Ol=0,po=!1,25<=f)throw Error(a(301));if(f+=1,Ut=vt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=YS,p=i(s,u)}while(po);return p}function FS(){var n=W.H,i=n.useState()[0];return i=typeof i.then=="function"?Ml(i):i,n=n.useState()[0],(vt!==null?vt.memoizedState:null)!==n&&(Ke.flags|=1024),i}function Td(){var n=Dc!==0;return Dc=0,n}function wd(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Ad(n){if(Nc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Nc=!1}sa=0,Ut=vt=Ke=null,po=!1,Ol=Dc=0,go=null}function Mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ke.memoizedState=Ut=n:Ut=Ut.next=n,Ut}function jt(){if(vt===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var i=Ut===null?Ke.memoizedState:Ut.next;if(i!==null)Ut=i,vt=n;else{if(n===null)throw Ke.alternate===null?Error(a(467)):Error(a(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ut===null?Ke.memoizedState=Ut=n:Ut=Ut.next=n}return Ut}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(n){var i=Ol;return Ol+=1,go===null&&(go=[]),n=ky(go,n,i),i=Ke,(Ut===null?i.memoizedState:Ut.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Tv:wv),n}function Oc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ml(n);if(n.$$typeof===ne)return yn(n)}throw Error(a(438,String(n)))}function Rd(n){var i=null,s=Ke.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Sd(),Ke.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),u=0;u<n;u++)s[u]=P;return i.index++,s}function Ci(n,i){return typeof i=="function"?i(n):i}function Mc(n){var i=jt();return xd(i,vt,n)}function xd(n,i,s){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}i.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{i=f.next;var A=E=null,N=null,Q=i,ee=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(at&ae)===ae:(sa&ae)===ae){var X=Q.revertLane;if(X===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===ho&&(ee=!0);else if((sa&X)===X){Q=Q.next,X===ho&&(ee=!0);continue}else ae={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(A=N=ae,E=p):N=N.next=ae,Ke.lanes|=X,da|=X;ae=Q.action,bs&&s(p,ae),p=Q.hasEagerState?Q.eagerState:s(p,ae)}else X={lane:ae,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(A=N=X,E=p):N=N.next=X,Ke.lanes|=ae,da|=ae;Q=Q.next}while(Q!==null&&Q!==i);if(N===null?E=p:N.next=A,!Hn(p,n.memoizedState)&&(Jt=!0,ee&&(s=fo,s!==null)))throw s;n.memoizedState=p,n.baseState=E,n.baseQueue=N,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Cd(n){var i=jt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var u=s.dispatch,f=s.pending,p=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);Hn(p,i.memoizedState)||(Jt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,u]}function Fy(n,i,s){var u=Ke,f=jt(),p=ct;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!Hn((vt||f).memoizedState,s);E&&(f.memoizedState=s,Jt=!0),f=f.queue;var A=Gy.bind(null,u,f,n);if(kl(2048,8,A,[n]),f.getSnapshot!==i||E||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,yo(9,kc(),Hy.bind(null,u,f,s,i),null),wt===null)throw Error(a(349));p||(sa&124)!==0||qy(u,i,s)}return s}function qy(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ke.updateQueue,i===null?(i=Sd(),Ke.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function Hy(n,i,s,u){i.value=s,i.getSnapshot=u,$y(i)&&Ky(n)}function Gy(n,i,s){return s(function(){$y(i)&&Ky(n)})}function $y(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Hn(n,s)}catch{return!0}}function Ky(n){var i=oo(n,2);i!==null&&Xn(i,n,2)}function Id(n){var i=Mn();if(typeof n=="function"){var s=n;if(n=s(),bs){pn(!0);try{s()}finally{pn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:n},i}function Yy(n,i,s,u){return n.baseState=s,xd(n,vt,typeof u=="function"?u:Ci)}function qS(n,i,s,u,f){if(Vc(n))throw Error(a(485));if(n=i.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};W.T!==null?s(!0):p.isTransition=!1,u(p),s=i.pending,s===null?(p.next=i.pending=p,Qy(i,p)):(p.next=s.next,i.pending=s.next=p)}}function Qy(n,i){var s=i.action,u=i.payload,f=n.state;if(i.isTransition){var p=W.T,E={};W.T=E;try{var A=s(f,u),N=W.S;N!==null&&N(E,A),Xy(n,i,A)}catch(Q){Nd(n,i,Q)}finally{W.T=p}}else try{p=s(f,u),Xy(n,i,p)}catch(Q){Nd(n,i,Q)}}function Xy(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Wy(n,i,u)},function(u){return Nd(n,i,u)}):Wy(n,i,s)}function Wy(n,i,s){i.status="fulfilled",i.value=s,Zy(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Qy(n,s)))}function Nd(n,i,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,Zy(i),i=i.next;while(i!==u)}n.action=null}function Zy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Jy(n,i){return i}function ev(n,i){if(ct){var s=wt.formState;if(s!==null){e:{var u=Ke;if(ct){if(It){t:{for(var f=It,p=Wr;f.nodeType!==8;){if(!p){f=null;break t}if(f=Ir(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){It=Ir(f.nextSibling),u=f.data==="F!";break e}}ys(u)}u=!1}u&&(i=s[0])}}return s=Mn(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:i},s.queue=u,s=_v.bind(null,Ke,u),u.dispatch=s,u=Id(!1),p=Pd.bind(null,Ke,!1,u.queue),u=Mn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,s=qS.bind(null,Ke,f,p,s),f.dispatch=s,u.memoizedState=n,[i,s,!1]}function tv(n){var i=jt();return nv(i,vt,n)}function nv(n,i,s){if(i=xd(n,i,Jy)[0],n=Mc(Ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Ml(i)}catch(E){throw E===xl?xc:E}else u=i;i=jt();var f=i.queue,p=f.dispatch;return s!==i.memoizedState&&(Ke.flags|=2048,yo(9,kc(),HS.bind(null,f,s),null)),[u,p,n]}function HS(n,i){n.action=i}function rv(n){var i=jt(),s=vt;if(s!==null)return nv(i,s,n);jt(),i=i.memoizedState,s=jt();var u=s.queue.dispatch;return s.memoizedState=n,[i,u,!1]}function yo(n,i,s,u){return n={tag:n,create:s,deps:u,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=Sd(),Ke.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,i.lastEffect=n),n}function kc(){return{destroy:void 0,resource:void 0}}function iv(){return jt().memoizedState}function Pc(n,i,s,u){var f=Mn();u=u===void 0?null:u,Ke.flags|=n,f.memoizedState=yo(1|i,kc(),s,u)}function kl(n,i,s,u){var f=jt();u=u===void 0?null:u;var p=f.memoizedState.inst;vt!==null&&u!==null&&Ed(u,vt.memoizedState.deps)?f.memoizedState=yo(i,p,s,u):(Ke.flags|=n,f.memoizedState=yo(1|i,p,s,u))}function av(n,i){Pc(8390656,8,n,i)}function sv(n,i){kl(2048,8,n,i)}function ov(n,i){return kl(4,2,n,i)}function lv(n,i){return kl(4,4,n,i)}function uv(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function cv(n,i,s){s=s!=null?s.concat([n]):null,kl(4,4,uv.bind(null,i,n),s)}function Dd(){}function hv(n,i){var s=jt();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Ed(i,u[1])?u[0]:(s.memoizedState=[n,i],n)}function fv(n,i){var s=jt();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Ed(i,u[1]))return u[0];if(u=n(),bs){pn(!0);try{n()}finally{pn(!1)}}return s.memoizedState=[u,i],u}function Od(n,i,s){return s===void 0||(sa&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=p_(),Ke.lanes|=n,da|=n,s)}function dv(n,i,s,u){return Hn(s,i)?s:mo.current!==null?(n=Od(n,s,u),Hn(n,i)||(Jt=!0),n):(sa&42)===0?(Jt=!0,n.memoizedState=s):(n=p_(),Ke.lanes|=n,da|=n,i)}function mv(n,i,s,u,f){var p=he.p;he.p=p!==0&&8>p?p:8;var E=W.T,A={};W.T=A,Pd(n,!1,i,s);try{var N=f(),Q=W.S;if(Q!==null&&Q(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ee=zS(N,u);Pl(n,i,ee,Qn(n))}else Pl(n,i,u,Qn(n))}catch(ae){Pl(n,i,{then:function(){},status:"rejected",reason:ae},Qn())}finally{he.p=p,W.T=E}}function GS(){}function Md(n,i,s,u){if(n.tag!==5)throw Error(a(476));var f=pv(n).queue;mv(n,f,i,ge,s===null?GS:function(){return gv(n),s(u)})}function pv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:ge},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function gv(n){var i=pv(n).next.queue;Pl(n,i,{},Qn())}function kd(){return yn(Jl)}function yv(){return jt().memoizedState}function vv(){return jt().memoizedState}function $S(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Qn();n=ia(s);var u=aa(i,n,s);u!==null&&(Xn(u,i,s),Il(u,i,s)),i={cache:cd()},n.payload=i;return}i=i.return}}function KS(n,i,s){var u=Qn();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Vc(n)?Ev(i,s):(s=ed(n,i,s,u),s!==null&&(Xn(s,n,u),bv(s,i,u)))}function _v(n,i,s){var u=Qn();Pl(n,i,s,u)}function Pl(n,i,s,u){var f={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Vc(n))Ev(i,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,A=p(E,s);if(f.hasEagerState=!0,f.eagerState=A,Hn(A,E))return _c(n,i,f,0),wt===null&&vc(),!1}catch{}finally{}if(s=ed(n,i,f,u),s!==null)return Xn(s,n,u),bv(s,i,u),!0}return!1}function Pd(n,i,s,u){if(u={lane:2,revertLane:dm(),action:u,hasEagerState:!1,eagerState:null,next:null},Vc(n)){if(i)throw Error(a(479))}else i=ed(n,s,u,2),i!==null&&Xn(i,n,2)}function Vc(n){var i=n.alternate;return n===Ke||i!==null&&i===Ke}function Ev(n,i){po=Nc=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function bv(n,i,s){if((s&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,s|=u,i.lanes=s,zr(n,s)}}var Lc={readContext:yn,use:Oc,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},Tv={readContext:yn,use:Oc,useCallback:function(n,i){return Mn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:av,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Pc(4194308,4,uv.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Pc(4194308,4,n,i)},useInsertionEffect:function(n,i){Pc(4,2,n,i)},useMemo:function(n,i){var s=Mn();i=i===void 0?null:i;var u=n();if(bs){pn(!0);try{n()}finally{pn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(n,i,s){var u=Mn();if(s!==void 0){var f=s(i);if(bs){pn(!0);try{s(i)}finally{pn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=KS.bind(null,Ke,n),[u.memoizedState,n]},useRef:function(n){var i=Mn();return n={current:n},i.memoizedState=n},useState:function(n){n=Id(n);var i=n.queue,s=_v.bind(null,Ke,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Dd,useDeferredValue:function(n,i){var s=Mn();return Od(s,n,i)},useTransition:function(){var n=Id(!1);return n=mv.bind(null,Ke,n.queue,!0,!1),Mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var u=Ke,f=Mn();if(ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),wt===null)throw Error(a(349));(at&124)!==0||qy(u,i,s)}f.memoizedState=s;var p={value:s,getSnapshot:i};return f.queue=p,av(Gy.bind(null,u,p,n),[n]),u.flags|=2048,yo(9,kc(),Hy.bind(null,u,p,s,i),null),s},useId:function(){var n=Mn(),i=wt.identifierPrefix;if(ct){var s=Si,u=Ai;s=(u&~(1<<32-Pt(u)-1)).toString(32)+s,i="«"+i+"R"+s,s=Dc++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=BS++,i="«"+i+"r"+s.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:kd,useFormState:ev,useActionState:ev,useOptimistic:function(n){var i=Mn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Pd.bind(null,Ke,!0,s),s.dispatch=i,[n,i]},useMemoCache:Rd,useCacheRefresh:function(){return Mn().memoizedState=$S.bind(null,Ke)}},wv={readContext:yn,use:Oc,useCallback:hv,useContext:yn,useEffect:sv,useImperativeHandle:cv,useInsertionEffect:ov,useLayoutEffect:lv,useMemo:fv,useReducer:Mc,useRef:iv,useState:function(){return Mc(Ci)},useDebugValue:Dd,useDeferredValue:function(n,i){var s=jt();return dv(s,vt.memoizedState,n,i)},useTransition:function(){var n=Mc(Ci)[0],i=jt().memoizedState;return[typeof n=="boolean"?n:Ml(n),i]},useSyncExternalStore:Fy,useId:yv,useHostTransitionStatus:kd,useFormState:tv,useActionState:tv,useOptimistic:function(n,i){var s=jt();return Yy(s,vt,n,i)},useMemoCache:Rd,useCacheRefresh:vv},YS={readContext:yn,use:Oc,useCallback:hv,useContext:yn,useEffect:sv,useImperativeHandle:cv,useInsertionEffect:ov,useLayoutEffect:lv,useMemo:fv,useReducer:Cd,useRef:iv,useState:function(){return Cd(Ci)},useDebugValue:Dd,useDeferredValue:function(n,i){var s=jt();return vt===null?Od(s,n,i):dv(s,vt.memoizedState,n,i)},useTransition:function(){var n=Cd(Ci)[0],i=jt().memoizedState;return[typeof n=="boolean"?n:Ml(n),i]},useSyncExternalStore:Fy,useId:yv,useHostTransitionStatus:kd,useFormState:rv,useActionState:rv,useOptimistic:function(n,i){var s=jt();return vt!==null?Yy(s,vt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:vv},vo=null,Vl=0;function Uc(n){var i=Vl;return Vl+=1,vo===null&&(vo=[]),ky(vo,n,i)}function Ll(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function jc(n,i){throw i.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Av(n){var i=n._init;return i(n._payload)}function Sv(n){function i(z,V){if(n){var K=z.deletions;K===null?(z.deletions=[V],z.flags|=16):K.push(V)}}function s(z,V){if(!n)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function u(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function f(z,V){return z=wi(z,V),z.index=0,z.sibling=null,z}function p(z,V,K){return z.index=K,n?(K=z.alternate,K!==null?(K=K.index,K<V?(z.flags|=67108866,V):K):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function A(z,V,K,te){return V===null||V.tag!==6?(V=nd(K,z.mode,te),V.return=z,V):(V=f(V,K),V.return=z,V)}function N(z,V,K,te){var be=K.type;return be===I?ee(z,V,K.props.children,te,K.key):V!==null&&(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&Av(be)===V.type)?(V=f(V,K.props),Ll(V,K),V.return=z,V):(V=bc(K.type,K.key,K.props,null,z.mode,te),Ll(V,K),V.return=z,V)}function Q(z,V,K,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==K.containerInfo||V.stateNode.implementation!==K.implementation?(V=rd(K,z.mode,te),V.return=z,V):(V=f(V,K.children||[]),V.return=z,V)}function ee(z,V,K,te,be){return V===null||V.tag!==7?(V=ds(K,z.mode,te,be),V.return=z,V):(V=f(V,K),V.return=z,V)}function ae(z,V,K){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=nd(""+V,z.mode,K),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return K=bc(V.type,V.key,V.props,null,z.mode,K),Ll(K,V),K.return=z,K;case R:return V=rd(V,z.mode,K),V.return=z,V;case x:var te=V._init;return V=te(V._payload),ae(z,V,K)}if(Fe(V)||j(V))return V=ds(V,z.mode,K,null),V.return=z,V;if(typeof V.then=="function")return ae(z,Uc(V),K);if(V.$$typeof===ne)return ae(z,Sc(z,V),K);jc(z,V)}return null}function X(z,V,K,te){var be=V!==null?V.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return be!==null?null:A(z,V,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return K.key===be?N(z,V,K,te):null;case R:return K.key===be?Q(z,V,K,te):null;case x:return be=K._init,K=be(K._payload),X(z,V,K,te)}if(Fe(K)||j(K))return be!==null?null:ee(z,V,K,te,null);if(typeof K.then=="function")return X(z,V,Uc(K),te);if(K.$$typeof===ne)return X(z,V,Sc(z,K),te);jc(z,K)}return null}function Z(z,V,K,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(K)||null,A(V,z,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return z=z.get(te.key===null?K:te.key)||null,N(V,z,te,be);case R:return z=z.get(te.key===null?K:te.key)||null,Q(V,z,te,be);case x:var Xe=te._init;return te=Xe(te._payload),Z(z,V,K,te,be)}if(Fe(te)||j(te))return z=z.get(K)||null,ee(V,z,te,be,null);if(typeof te.then=="function")return Z(z,V,K,Uc(te),be);if(te.$$typeof===ne)return Z(z,V,K,Sc(V,te),be);jc(V,te)}return null}function Ve(z,V,K,te){for(var be=null,Xe=null,Re=V,Me=V=0,tn=null;Re!==null&&Me<K.length;Me++){Re.index>Me?(tn=Re,Re=null):tn=Re.sibling;var lt=X(z,Re,K[Me],te);if(lt===null){Re===null&&(Re=tn);break}n&&Re&&lt.alternate===null&&i(z,Re),V=p(lt,V,Me),Xe===null?be=lt:Xe.sibling=lt,Xe=lt,Re=tn}if(Me===K.length)return s(z,Re),ct&&ps(z,Me),be;if(Re===null){for(;Me<K.length;Me++)Re=ae(z,K[Me],te),Re!==null&&(V=p(Re,V,Me),Xe===null?be=Re:Xe.sibling=Re,Xe=Re);return ct&&ps(z,Me),be}for(Re=u(Re);Me<K.length;Me++)tn=Z(Re,z,Me,K[Me],te),tn!==null&&(n&&tn.alternate!==null&&Re.delete(tn.key===null?Me:tn.key),V=p(tn,V,Me),Xe===null?be=tn:Xe.sibling=tn,Xe=tn);return n&&Re.forEach(function(Ta){return i(z,Ta)}),ct&&ps(z,Me),be}function De(z,V,K,te){if(K==null)throw Error(a(151));for(var be=null,Xe=null,Re=V,Me=V=0,tn=null,lt=K.next();Re!==null&&!lt.done;Me++,lt=K.next()){Re.index>Me?(tn=Re,Re=null):tn=Re.sibling;var Ta=X(z,Re,lt.value,te);if(Ta===null){Re===null&&(Re=tn);break}n&&Re&&Ta.alternate===null&&i(z,Re),V=p(Ta,V,Me),Xe===null?be=Ta:Xe.sibling=Ta,Xe=Ta,Re=tn}if(lt.done)return s(z,Re),ct&&ps(z,Me),be;if(Re===null){for(;!lt.done;Me++,lt=K.next())lt=ae(z,lt.value,te),lt!==null&&(V=p(lt,V,Me),Xe===null?be=lt:Xe.sibling=lt,Xe=lt);return ct&&ps(z,Me),be}for(Re=u(Re);!lt.done;Me++,lt=K.next())lt=Z(Re,z,Me,lt.value,te),lt!==null&&(n&&lt.alternate!==null&&Re.delete(lt.key===null?Me:lt.key),V=p(lt,V,Me),Xe===null?be=lt:Xe.sibling=lt,Xe=lt);return n&&Re.forEach(function(Q1){return i(z,Q1)}),ct&&ps(z,Me),be}function Et(z,V,K,te){if(typeof K=="object"&&K!==null&&K.type===I&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case T:e:{for(var be=K.key;V!==null;){if(V.key===be){if(be=K.type,be===I){if(V.tag===7){s(z,V.sibling),te=f(V,K.props.children),te.return=z,z=te;break e}}else if(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&Av(be)===V.type){s(z,V.sibling),te=f(V,K.props),Ll(te,K),te.return=z,z=te;break e}s(z,V);break}else i(z,V);V=V.sibling}K.type===I?(te=ds(K.props.children,z.mode,te,K.key),te.return=z,z=te):(te=bc(K.type,K.key,K.props,null,z.mode,te),Ll(te,K),te.return=z,z=te)}return E(z);case R:e:{for(be=K.key;V!==null;){if(V.key===be)if(V.tag===4&&V.stateNode.containerInfo===K.containerInfo&&V.stateNode.implementation===K.implementation){s(z,V.sibling),te=f(V,K.children||[]),te.return=z,z=te;break e}else{s(z,V);break}else i(z,V);V=V.sibling}te=rd(K,z.mode,te),te.return=z,z=te}return E(z);case x:return be=K._init,K=be(K._payload),Et(z,V,K,te)}if(Fe(K))return Ve(z,V,K,te);if(j(K)){if(be=j(K),typeof be!="function")throw Error(a(150));return K=be.call(K),De(z,V,K,te)}if(typeof K.then=="function")return Et(z,V,Uc(K),te);if(K.$$typeof===ne)return Et(z,V,Sc(z,K),te);jc(z,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,V!==null&&V.tag===6?(s(z,V.sibling),te=f(V,K),te.return=z,z=te):(s(z,V),te=nd(K,z.mode,te),te.return=z,z=te),E(z)):s(z,V)}return function(z,V,K,te){try{Vl=0;var be=Et(z,V,K,te);return vo=null,be}catch(Re){if(Re===xl||Re===xc)throw Re;var Xe=Gn(29,Re,null,z.mode);return Xe.lanes=te,Xe.return=z,Xe}finally{}}}var _o=Sv(!0),Rv=Sv(!1),gr=re(null),Zr=null;function oa(n){var i=n.alternate;le(Kt,Kt.current&1),le(gr,n),Zr===null&&(i===null||mo.current!==null||i.memoizedState!==null)&&(Zr=n)}function xv(n){if(n.tag===22){if(le(Kt,Kt.current),le(gr,n),Zr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Zr=n)}}else la()}function la(){le(Kt,Kt.current),le(gr,gr.current)}function Ii(n){fe(gr),Zr===n&&(Zr=null),fe(Kt)}var Kt=re(0);function zc(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Sm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Vd(n,i,s,u){i=n.memoizedState,s=s(u,i),s=s==null?i:v({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Ld={enqueueSetState:function(n,i,s){n=n._reactInternals;var u=Qn(),f=ia(u);f.payload=i,s!=null&&(f.callback=s),i=aa(n,f,u),i!==null&&(Xn(i,n,u),Il(i,n,u))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var u=Qn(),f=ia(u);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=aa(n,f,u),i!==null&&(Xn(i,n,u),Il(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Qn(),u=ia(s);u.tag=2,i!=null&&(u.callback=i),i=aa(n,u,s),i!==null&&(Xn(i,n,s),Il(i,n,s))}};function Cv(n,i,s,u,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,E):i.prototype&&i.prototype.isPureReactComponent?!_l(s,u)||!_l(f,p):!0}function Iv(n,i,s,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==n&&Ld.enqueueReplaceState(i,i.state,null)}function Ts(n,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(n=n.defaultProps){s===i&&(s=v({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}var Bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Nv(n){Bc(n)}function Dv(n){console.error(n)}function Ov(n){Bc(n)}function Fc(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Mv(n,i,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ud(n,i,s){return s=ia(s),s.tag=3,s.payload={element:null},s.callback=function(){Fc(n,i)},s}function kv(n){return n=ia(n),n.tag=3,n}function Pv(n,i,s,u){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){Mv(i,s,u)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Mv(i,s,u),typeof f!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function QS(n,i,s,u,f){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&Al(i,s,f,!0),s=gr.current,s!==null){switch(s.tag){case 13:return Zr===null?lm():s.alternate===null&&Nt===0&&(Nt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,u===dd?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),cm(n,u,f)),!1;case 22:return s.flags|=65536,u===dd?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),cm(n,u,f)),!1}throw Error(a(435,s.tag))}return cm(n,u,f),lm(),!1}if(ct)return i=gr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==sd&&(n=Error(a(422),{cause:u}),wl(fr(n,s)))):(u!==sd&&(i=Error(a(423),{cause:u}),wl(fr(i,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=fr(u,s),f=Ud(n.stateNode,u,f),gd(n,f),Nt!==4&&(Nt=2)),!1;var p=Error(a(520),{cause:u});if(p=fr(p,s),Hl===null?Hl=[p]:Hl.push(p),Nt!==4&&(Nt=2),i===null)return!0;u=fr(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=Ud(s.stateNode,u,n),gd(s,n),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ma===null||!ma.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=kv(f),Pv(f,n,s,u),gd(s,f),!1}s=s.return}while(s!==null);return!1}var Vv=Error(a(461)),Jt=!1;function on(n,i,s,u){i.child=n===null?Rv(i,null,s,u):_o(i,n.child,s,u)}function Lv(n,i,s,u,f){s=s.render;var p=i.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return _s(i),u=bd(n,i,s,E,p,f),A=Td(),n!==null&&!Jt?(wd(n,i,f),Ni(n,i,f)):(ct&&A&&id(i),i.flags|=1,on(n,i,u,f),i.child)}function Uv(n,i,s,u,f){if(n===null){var p=s.type;return typeof p=="function"&&!td(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,jv(n,i,p,u,f)):(n=bc(s.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!$d(n,f)){var E=p.memoizedProps;if(s=s.compare,s=s!==null?s:_l,s(E,u)&&n.ref===i.ref)return Ni(n,i,f)}return i.flags|=1,n=wi(p,u),n.ref=i.ref,n.return=i,i.child=n}function jv(n,i,s,u,f){if(n!==null){var p=n.memoizedProps;if(_l(p,u)&&n.ref===i.ref)if(Jt=!1,i.pendingProps=u=p,$d(n,f))(n.flags&131072)!==0&&(Jt=!0);else return i.lanes=n.lanes,Ni(n,i,f)}return jd(n,i,s,u,f)}function zv(n,i,s){var u=i.pendingProps,f=u.children,p=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|s:s,n!==null){for(f=i.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return Bv(n,i,u,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Rc(i,p!==null?p.cachePool:null),p!==null?jy(i,p):vd(),xv(i);else return i.lanes=i.childLanes=536870912,Bv(n,i,p!==null?p.baseLanes|s:s,s)}else p!==null?(Rc(i,p.cachePool),jy(i,p),la(),i.memoizedState=null):(n!==null&&Rc(i,null),vd(),la());return on(n,i,f,s),i.child}function Bv(n,i,s,u){var f=fd();return f=f===null?null:{parent:$t._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},n!==null&&Rc(i,null),vd(),xv(i),n!==null&&Al(n,i,u,!0),null}function qc(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function jd(n,i,s,u,f){return _s(i),s=bd(n,i,s,u,void 0,f),u=Td(),n!==null&&!Jt?(wd(n,i,f),Ni(n,i,f)):(ct&&u&&id(i),i.flags|=1,on(n,i,s,f),i.child)}function Fv(n,i,s,u,f,p){return _s(i),i.updateQueue=null,s=By(i,u,s,f),zy(n),u=Td(),n!==null&&!Jt?(wd(n,i,p),Ni(n,i,p)):(ct&&u&&id(i),i.flags|=1,on(n,i,s,p),i.child)}function qv(n,i,s,u,f){if(_s(i),i.stateNode===null){var p=lo,E=s.contextType;typeof E=="object"&&E!==null&&(p=yn(E)),p=new s(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ld,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},md(i),E=s.contextType,p.context=typeof E=="object"&&E!==null?yn(E):lo,p.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Vd(i,s,E,u),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Ld.enqueueReplaceState(p,p.state,null),Dl(i,u,p,f),Nl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){p=i.stateNode;var A=i.memoizedProps,N=Ts(s,A);p.props=N;var Q=p.context,ee=s.contextType;E=lo,typeof ee=="object"&&ee!==null&&(E=yn(ee));var ae=s.getDerivedStateFromProps;ee=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||Q!==E)&&Iv(i,p,u,E),ra=!1;var X=i.memoizedState;p.state=X,Dl(i,u,p,f),Nl(),Q=i.memoizedState,A||X!==Q||ra?(typeof ae=="function"&&(Vd(i,s,ae,u),Q=i.memoizedState),(N=ra||Cv(i,s,N,u,X,Q,E))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Q),p.props=u,p.state=Q,p.context=E,u=N):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,pd(n,i),E=i.memoizedProps,ee=Ts(s,E),p.props=ee,ae=i.pendingProps,X=p.context,Q=s.contextType,N=lo,typeof Q=="object"&&Q!==null&&(N=yn(Q)),A=s.getDerivedStateFromProps,(Q=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ae||X!==N)&&Iv(i,p,u,N),ra=!1,X=i.memoizedState,p.state=X,Dl(i,u,p,f),Nl();var Z=i.memoizedState;E!==ae||X!==Z||ra||n!==null&&n.dependencies!==null&&Ac(n.dependencies)?(typeof A=="function"&&(Vd(i,s,A,u),Z=i.memoizedState),(ee=ra||Cv(i,s,ee,u,X,Z,N)||n!==null&&n.dependencies!==null&&Ac(n.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Z,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Z,N)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Z),p.props=u,p.state=Z,p.context=N,u=ee):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),u=!1)}return p=u,qc(n,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&u?(i.child=_o(i,n.child,null,f),i.child=_o(i,null,s,f)):on(n,i,s,f),i.memoizedState=p.state,n=i.child):n=Ni(n,i,f),n}function Hv(n,i,s,u){return Tl(),i.flags|=256,on(n,i,s,u),i.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(n){return{baseLanes:n,cachePool:Dy()}}function Fd(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=yr),n}function Gv(n,i,s){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Kt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(ct){if(f?oa(i):la(),ct){var A=It,N;if(N=A){e:{for(N=A,A=Wr;N.nodeType!==8;){if(!A){A=null;break e}if(N=Ir(N.nextSibling),N===null){A=null;break e}}A=N}A!==null?(i.memoizedState={dehydrated:A,treeContext:ms!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},N=Gn(18,null,null,0),N.stateNode=A,N.return=i,i.child=N,Nn=i,It=null,N=!0):N=!1}N||ys(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Sm(A)?i.lanes=32:i.lanes=536870912,null;Ii(i)}return A=u.children,u=u.fallback,f?(la(),f=i.mode,A=Hc({mode:"hidden",children:A},f),u=ds(u,f,s,null),A.return=i,u.return=i,A.sibling=u,i.child=A,f=i.child,f.memoizedState=Bd(s),f.childLanes=Fd(n,E,s),i.memoizedState=zd,u):(oa(i),qd(i,A))}if(N=n.memoizedState,N!==null&&(A=N.dehydrated,A!==null)){if(p)i.flags&256?(oa(i),i.flags&=-257,i=Hd(n,i,s)):i.memoizedState!==null?(la(),i.child=n.child,i.flags|=128,i=null):(la(),f=u.fallback,A=i.mode,u=Hc({mode:"visible",children:u.children},A),f=ds(f,A,s,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,_o(i,n.child,null,s),u=i.child,u.memoizedState=Bd(s),u.childLanes=Fd(n,E,s),i.memoizedState=zd,i=f);else if(oa(i),Sm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Q=E.dgst;E=Q,u=Error(a(419)),u.stack="",u.digest=E,wl({value:u,source:null,stack:null}),i=Hd(n,i,s)}else if(Jt||Al(n,i,s,!1),E=(s&n.childLanes)!==0,Jt||E){if(E=wt,E!==null&&(u=s&-s,u=(u&42)!==0?1:Br(u),u=(u&(E.suspendedLanes|s))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,oo(n,u),Xn(E,n,u),Vv;A.data==="$?"||lm(),i=Hd(n,i,s)}else A.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,It=Ir(A.nextSibling),Nn=i,ct=!0,gs=null,Wr=!1,n!==null&&(mr[pr++]=Ai,mr[pr++]=Si,mr[pr++]=ms,Ai=n.id,Si=n.overflow,ms=i),i=qd(i,u.children),i.flags|=4096);return i}return f?(la(),f=u.fallback,A=i.mode,N=n.child,Q=N.sibling,u=wi(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,Q!==null?f=wi(Q,f):(f=ds(f,A,s,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,A=n.child.memoizedState,A===null?A=Bd(s):(N=A.cachePool,N!==null?(Q=$t._currentValue,N=N.parent!==Q?{parent:Q,pool:Q}:N):N=Dy(),A={baseLanes:A.baseLanes|s,cachePool:N}),f.memoizedState=A,f.childLanes=Fd(n,E,s),i.memoizedState=zd,u):(oa(i),s=n.child,n=s.sibling,s=wi(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=s,i.memoizedState=null,s)}function qd(n,i){return i=Hc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Hc(n,i){return n=Gn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Hd(n,i,s){return _o(i,n.child,null,s),n=qd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function $v(n,i,s){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),ld(n.return,i,s)}function Gd(n,i,s,u,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=s,p.tailMode=f)}function Kv(n,i,s){var u=i.pendingProps,f=u.revealOrder,p=u.tail;if(on(n,i,u.children,s),u=Kt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$v(n,s,i);else if(n.tag===19)$v(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(le(Kt,u),f){case"forwards":for(s=i.child,f=null;s!==null;)n=s.alternate,n!==null&&zc(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Gd(i,!1,f,s,p);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&zc(n)===null){i.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}Gd(i,!0,s,null,p);break;case"together":Gd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),da|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Al(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=wi(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=wi(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function $d(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ac(n)))}function XS(n,i,s){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),na(i,$t,n.memoizedState.cache),Tl();break;case 27:case 5:St(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:na(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(oa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Gv(n,i,s):(oa(i),n=Ni(n,i,s),n!==null?n.sibling:null);oa(i);break;case 19:var f=(n.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(Al(n,i,s,!1),u=(s&i.childLanes)!==0),f){if(u)return Kv(n,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Kt,Kt.current),u)break;return null;case 22:case 23:return i.lanes=0,zv(n,i,s);case 24:na(i,$t,n.memoizedState.cache)}return Ni(n,i,s)}function Yv(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)Jt=!0;else{if(!$d(n,s)&&(i.flags&128)===0)return Jt=!1,XS(n,i,s);Jt=(n.flags&131072)!==0}else Jt=!1,ct&&(i.flags&1048576)!==0&&Ay(i,wc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")td(u)?(n=Ts(u,n),i.tag=1,i=qv(null,i,u,n,s)):(i.tag=0,i=jd(null,i,u,n,s));else{if(u!=null){if(f=u.$$typeof,f===pe){i.tag=11,i=Lv(null,i,u,n,s);break e}else if(f===M){i.tag=14,i=Uv(null,i,u,n,s);break e}}throw i=je(u)||u,Error(a(306,i,""))}}return i;case 0:return jd(n,i,i.type,i.pendingProps,s);case 1:return u=i.type,f=Ts(u,i.pendingProps),qv(n,i,u,f,s);case 3:e:{if(gt(i,i.stateNode.containerInfo),n===null)throw Error(a(387));u=i.pendingProps;var p=i.memoizedState;f=p.element,pd(n,i),Dl(i,u,null,s);var E=i.memoizedState;if(u=E.cache,na(i,$t,u),u!==p.cache&&ud(i,[$t],s,!0),Nl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Hv(n,i,u,s);break e}else if(u!==f){f=fr(Error(a(424)),i),wl(f),i=Hv(n,i,u,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(It=Ir(n.firstChild),Nn=i,ct=!0,gs=null,Wr=!0,s=Rv(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Tl(),u===f){i=Ni(n,i,s);break e}on(n,i,u,s)}i=i.child}return i;case 26:return qc(n,i),n===null?(s=Z_(i.type,null,i.pendingProps,null))?i.memoizedState=s:ct||(s=i.type,n=i.pendingProps,u=ih(xe.current).createElement(s),u[ie]=i,u[ce]=n,un(u,s,n),nt(u),i.stateNode=u):i.memoizedState=Z_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return St(i),n===null&&ct&&(u=i.stateNode=Q_(i.type,i.pendingProps,xe.current),Nn=i,Wr=!0,f=It,ya(i.type)?(Rm=f,It=Ir(u.firstChild)):It=f),on(n,i,i.pendingProps.children,s),qc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ct&&((f=u=It)&&(u=A1(u,i.type,i.pendingProps,Wr),u!==null?(i.stateNode=u,Nn=i,It=Ir(u.firstChild),Wr=!1,f=!0):f=!1),f||ys(i)),St(i),f=i.type,p=i.pendingProps,E=n!==null?n.memoizedProps:null,u=p.children,Tm(f,p)?u=null:E!==null&&Tm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=bd(n,i,FS,null,null,s),Jl._currentValue=f),qc(n,i),on(n,i,u,s),i.child;case 6:return n===null&&ct&&((n=s=It)&&(s=S1(s,i.pendingProps,Wr),s!==null?(i.stateNode=s,Nn=i,It=null,n=!0):n=!1),n||ys(i)),null;case 13:return Gv(n,i,s);case 4:return gt(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=_o(i,null,u,s):on(n,i,u,s),i.child;case 11:return Lv(n,i,i.type,i.pendingProps,s);case 7:return on(n,i,i.pendingProps,s),i.child;case 8:return on(n,i,i.pendingProps.children,s),i.child;case 12:return on(n,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,na(i,i.type,u.value),on(n,i,u.children,s),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,_s(i),f=yn(f),u=u(f),i.flags|=1,on(n,i,u,s),i.child;case 14:return Uv(n,i,i.type,i.pendingProps,s);case 15:return jv(n,i,i.type,i.pendingProps,s);case 19:return Kv(n,i,s);case 31:return u=i.pendingProps,s=i.mode,u={mode:u.mode,children:u.children},n===null?(s=Hc(u,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=wi(n.child,u),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return zv(n,i,s);case 24:return _s(i),u=yn($t),n===null?(f=fd(),f===null&&(f=wt,p=cd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),i.memoizedState={parent:u,cache:f},md(i),na(i,$t,f)):((n.lanes&s)!==0&&(pd(n,i),Dl(i,null,null,s),Nl()),f=n.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),na(i,$t,u)):(u=p.cache,na(i,$t,u),u!==f.cache&&ud(i,[$t],s,!0))),on(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Di(n){n.flags|=4}function Qv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!r0(i)){if(i=gr.current,i!==null&&((at&4194048)===at?Zr!==null:(at&62914560)!==at&&(at&536870912)===0||i!==Zr))throw Cl=dd,Oy;n.flags|=8192}}function Gc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ja():536870912,n.lanes|=i,wo|=i)}function Ul(n,i){if(!ct)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function xt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(i)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=s,i}function WS(n,i,s){var u=i.pendingProps;switch(ad(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return xt(i),null;case 3:return s=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),xi($t),tr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(bl(i)?Di(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xy())),xt(i),null;case 26:return s=i.memoizedState,n===null?(Di(i),s!==null?(xt(i),Qv(i,s)):(xt(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Di(i),xt(i),Qv(i,s)):(xt(i),i.flags&=-16777217):(n.memoizedProps!==u&&Di(i),xt(i),i.flags&=-16777217),null;case 27:mn(i),s=xe.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Di(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return xt(i),null}n=Ae.current,bl(i)?Sy(i):(n=Q_(f,u,s),i.stateNode=n,Di(i))}return xt(i),null;case 5:if(mn(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Di(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return xt(i),null}if(n=Ae.current,bl(i))Sy(i);else{switch(f=ih(xe.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(s,{is:u.is}):f.createElement(s)}}n[ie]=i,n[ce]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(un(n,s,u),s){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Di(i)}}return xt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Di(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(n=xe.current,bl(i)){if(n=i.stateNode,s=i.memoizedProps,u=null,f=Nn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[ie]=i,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||F_(n.nodeValue,s)),n||ys(i)}else n=ih(n).createTextNode(u),n[ie]=i,i.stateNode=n}return xt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=bl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ie]=i}else Tl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),f=!1}else f=xy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=u!==null,n=n!==null&&n.memoizedState!==null,s){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Gc(i,i.updateQueue),xt(i),null;case 4:return tr(),n===null&&ym(i.stateNode.containerInfo),xt(i),null;case 10:return xi(i.type),xt(i),null;case 19:if(fe(Kt),f=i.memoizedState,f===null)return xt(i),null;if(u=(i.flags&128)!==0,p=f.rendering,p===null)if(u)Ul(f,!1);else{if(Nt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=zc(n),p!==null){for(i.flags|=128,Ul(f,!1),n=p.updateQueue,i.updateQueue=n,Gc(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)wy(s,n),s=s.sibling;return le(Kt,Kt.current&1|2),i.child}n=n.sibling}f.tail!==null&&Sn()>Yc&&(i.flags|=128,u=!0,Ul(f,!1),i.lanes=4194304)}else{if(!u)if(n=zc(p),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Gc(i,n),Ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!ct)return xt(i),null}else 2*Sn()-f.renderingStartTime>Yc&&s!==536870912&&(i.flags|=128,u=!0,Ul(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(n=f.last,n!==null?n.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Sn(),i.sibling=null,n=Kt.current,le(Kt,u?n&1|2:n&1),i):(xt(i),null);case 22:case 23:return Ii(i),_d(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),s=i.updateQueue,s!==null&&Gc(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),n!==null&&fe(Es),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),xi($t),xt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ZS(n,i){switch(ad(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return xi($t),tr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return mn(i),null;case 13:if(Ii(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Tl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return fe(Kt),null;case 4:return tr(),null;case 10:return xi(i.type),null;case 22:case 23:return Ii(i),_d(),n!==null&&fe(Es),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return xi($t),null;case 25:return null;default:return null}}function Xv(n,i){switch(ad(i),i.tag){case 3:xi($t),tr();break;case 26:case 27:case 5:mn(i);break;case 4:tr();break;case 13:Ii(i);break;case 19:fe(Kt);break;case 10:xi(i.type);break;case 22:case 23:Ii(i),_d(),n!==null&&fe(Es);break;case 24:xi($t)}}function jl(n,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&n)===n){u=void 0;var p=s.create,E=s.inst;u=p(),E.destroy=u}s=s.next}while(s!==f)}}catch(A){Tt(i,i.return,A)}}function ua(n,i,s){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=i;var N=s,Q=A;try{Q()}catch(ee){Tt(f,N,ee)}}}u=u.next}while(u!==p)}}catch(ee){Tt(i,i.return,ee)}}function Wv(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Uy(i,s)}catch(u){Tt(n,n.return,u)}}}function Zv(n,i,s){s.props=Ts(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){Tt(n,i,u)}}function zl(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(f){Tt(n,i,f)}}function Jr(n,i){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(f){Tt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Tt(n,i,f)}else s.current=null}function Jv(n){var i=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(f){Tt(n,n.return,f)}}function Kd(n,i,s){try{var u=n.stateNode;_1(u,n.type,s,i),u[ce]=i}catch(f){Tt(n,n.return,f)}}function e_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ya(n.type)||n.tag===4}function Yd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||e_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ya(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qd(n,i,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=rh));else if(u!==4&&(u===27&&ya(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Qd(n,i,s),n=n.sibling;n!==null;)Qd(n,i,s),n=n.sibling}function $c(n,i,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(u!==4&&(u===27&&ya(n.type)&&(s=n.stateNode),n=n.child,n!==null))for($c(n,i,s),n=n.sibling;n!==null;)$c(n,i,s),n=n.sibling}function t_(n){var i=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);un(i,u,s),i[ie]=n,i[ce]=s}catch(p){Tt(n,n.return,p)}}var Oi=!1,Ot=!1,Xd=!1,n_=typeof WeakSet=="function"?WeakSet:Set,en=null;function JS(n,i){if(n=n.containerInfo,Em=ch,n=dy(n),Yf(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var E=0,A=-1,N=-1,Q=0,ee=0,ae=n,X=null;t:for(;;){for(var Z;ae!==s||f!==0&&ae.nodeType!==3||(A=E+f),ae!==p||u!==0&&ae.nodeType!==3||(N=E+u),ae.nodeType===3&&(E+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)X=ae,ae=Z;for(;;){if(ae===n)break t;if(X===s&&++Q===f&&(A=E),X===p&&++ee===u&&(N=E),(Z=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=Z}s=A===-1||N===-1?null:{start:A,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(bm={focusedElem:n,selectionRange:s},ch=!1,en=i;en!==null;)if(i=en,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,en=n;else for(;en!==null;){switch(i=en,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,s=i,f=p.memoizedProps,p=p.memoizedState,u=s.stateNode;try{var Ve=Ts(s.type,f,s.elementType===s.type);n=u.getSnapshotBeforeUpdate(Ve,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(De){Tt(s,s.return,De)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Am(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Am(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,en=n;break}en=i.return}}function r_(n,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:ca(n,s),u&4&&jl(5,s);break;case 1:if(ca(n,s),u&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(E){Tt(s,s.return,E)}else{var f=Ts(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Tt(s,s.return,E)}}u&64&&Wv(s),u&512&&zl(s,s.return);break;case 3:if(ca(n,s),u&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Uy(n,i)}catch(E){Tt(s,s.return,E)}}break;case 27:i===null&&u&4&&t_(s);case 26:case 5:ca(n,s),i===null&&u&4&&Jv(s),u&512&&zl(s,s.return);break;case 12:ca(n,s);break;case 13:ca(n,s),u&4&&s_(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=l1.bind(null,s),R1(n,s))));break;case 22:if(u=s.memoizedState!==null||Oi,!u){i=i!==null&&i.memoizedState!==null||Ot,f=Oi;var p=Ot;Oi=u,(Ot=i)&&!p?ha(n,s,(s.subtreeFlags&8772)!==0):ca(n,s),Oi=f,Ot=p}break;case 30:break;default:ca(n,s)}}function i_(n){var i=n.alternate;i!==null&&(n.alternate=null,i_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&we(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Rt=null,kn=!1;function Mi(n,i,s){for(s=s.child;s!==null;)a_(n,i,s),s=s.sibling}function a_(n,i,s){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ut,s)}catch{}switch(s.tag){case 26:Ot||Jr(s,i),Mi(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||Jr(s,i);var u=Rt,f=kn;ya(s.type)&&(Rt=s.stateNode,kn=!1),Mi(n,i,s),Ql(s.stateNode),Rt=u,kn=f;break;case 5:Ot||Jr(s,i);case 6:if(u=Rt,f=kn,Rt=null,Mi(n,i,s),Rt=u,kn=f,Rt!==null)if(kn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(p){Tt(s,i,p)}else try{Rt.removeChild(s.stateNode)}catch(p){Tt(s,i,p)}break;case 18:Rt!==null&&(kn?(n=Rt,K_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),ru(n)):K_(Rt,s.stateNode));break;case 4:u=Rt,f=kn,Rt=s.stateNode.containerInfo,kn=!0,Mi(n,i,s),Rt=u,kn=f;break;case 0:case 11:case 14:case 15:Ot||ua(2,s,i),Ot||ua(4,s,i),Mi(n,i,s);break;case 1:Ot||(Jr(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&Zv(s,i,u)),Mi(n,i,s);break;case 21:Mi(n,i,s);break;case 22:Ot=(u=Ot)||s.memoizedState!==null,Mi(n,i,s),Ot=u;break;default:Mi(n,i,s)}}function s_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ru(n)}catch(s){Tt(i,i.return,s)}}function e1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new n_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new n_),i;default:throw Error(a(435,n.tag))}}function Wd(n,i){var s=e1(n);i.forEach(function(u){var f=u1.bind(null,n,u);s.has(u)||(s.add(u),u.then(f,f))})}function $n(n,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u],p=n,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(ya(A.type)){Rt=A.stateNode,kn=!1;break e}break;case 5:Rt=A.stateNode,kn=!1;break e;case 3:case 4:Rt=A.stateNode.containerInfo,kn=!0;break e}A=A.return}if(Rt===null)throw Error(a(160));a_(p,E,f),Rt=null,kn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)o_(i,n),i=i.sibling}var Cr=null;function o_(n,i){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:$n(i,n),Kn(n),u&4&&(ua(3,n,n.return),jl(3,n),ua(5,n,n.return));break;case 1:$n(i,n),Kn(n),u&512&&(Ot||s===null||Jr(s,s.return)),u&64&&Oi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var f=Cr;if($n(i,n),Kn(n),u&512&&(Ot||s===null||Jr(s,s.return)),u&4){var p=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ne]||p[ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),un(p,u,s),p[ie]=n,nt(p),u=p;break e;case"link":var E=t0("link","href",f).get(u+(s.href||""));if(E){for(var A=0;A<E.length;A++)if(p=E[A],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(A,1);break t}}p=f.createElement(u),un(p,u,s),f.head.appendChild(p);break;case"meta":if(E=t0("meta","content",f).get(u+(s.content||""))){for(A=0;A<E.length;A++)if(p=E[A],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(A,1);break t}}p=f.createElement(u),un(p,u,s),f.head.appendChild(p);break;default:throw Error(a(468,u))}p[ie]=n,nt(p),u=p}n.stateNode=u}else n0(f,n.type,n.stateNode);else n.stateNode=e0(f,u,n.memoizedProps);else p!==u?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,u===null?n0(f,n.type,n.stateNode):e0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Kd(n,n.memoizedProps,s.memoizedProps)}break;case 27:$n(i,n),Kn(n),u&512&&(Ot||s===null||Jr(s,s.return)),s!==null&&u&4&&Kd(n,n.memoizedProps,s.memoizedProps);break;case 5:if($n(i,n),Kn(n),u&512&&(Ot||s===null||Jr(s,s.return)),n.flags&32){f=n.stateNode;try{lr(f,"")}catch(Z){Tt(n,n.return,Z)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Kd(n,f,s!==null?s.memoizedProps:f)),u&1024&&(Xd=!0);break;case 6:if($n(i,n),Kn(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(Z){Tt(n,n.return,Z)}}break;case 3:if(oh=null,f=Cr,Cr=ah(i.containerInfo),$n(i,n),Cr=f,Kn(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{ru(i.containerInfo)}catch(Z){Tt(n,n.return,Z)}Xd&&(Xd=!1,l_(n));break;case 4:u=Cr,Cr=ah(n.stateNode.containerInfo),$n(i,n),Kn(n),Cr=u;break;case 12:$n(i,n),Kn(n);break;case 13:$n(i,n),Kn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rm=Sn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Wd(n,u)));break;case 22:f=n.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,Q=Oi,ee=Ot;if(Oi=Q||f,Ot=ee||N,$n(i,n),Ot=ee,Oi=Q,Kn(n),u&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||N||Oi||Ot||ws(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){N=s=i;try{if(p=N.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=N.stateNode;var ae=N.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){Tt(N,N.return,Z)}}}else if(i.tag===6){if(s===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(Z){Tt(N,N.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Wd(n,s))));break;case 19:$n(i,n),Kn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Wd(n,u)));break;case 30:break;case 21:break;default:$n(i,n),Kn(n)}}function Kn(n){var i=n.flags;if(i&2){try{for(var s,u=n.return;u!==null;){if(e_(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,p=Yd(n);$c(n,p,f);break;case 5:var E=s.stateNode;s.flags&32&&(lr(E,""),s.flags&=-33);var A=Yd(n);$c(n,A,E);break;case 3:case 4:var N=s.stateNode.containerInfo,Q=Yd(n);Qd(n,Q,N);break;default:throw Error(a(161))}}catch(ee){Tt(n,n.return,ee)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function l_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ca(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r_(n,i.alternate,i),i=i.sibling}function ws(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ua(4,i,i.return),ws(i);break;case 1:Jr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Zv(i,i.return,s),ws(i);break;case 27:Ql(i.stateNode);case 26:case 5:Jr(i,i.return),ws(i);break;case 22:i.memoizedState===null&&ws(i);break;case 30:ws(i);break;default:ws(i)}n=n.sibling}}function ha(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:ha(f,p,s),jl(4,p);break;case 1:if(ha(f,p,s),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){Tt(u,u.return,Q)}if(u=p,f=u.updateQueue,f!==null){var A=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Ly(N[f],A)}catch(Q){Tt(u,u.return,Q)}}s&&E&64&&Wv(p),zl(p,p.return);break;case 27:t_(p);case 26:case 5:ha(f,p,s),s&&u===null&&E&4&&Jv(p),zl(p,p.return);break;case 12:ha(f,p,s);break;case 13:ha(f,p,s),s&&E&4&&s_(f,p);break;case 22:p.memoizedState===null&&ha(f,p,s),zl(p,p.return);break;case 30:break;default:ha(f,p,s)}i=i.sibling}}function Zd(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Sl(s))}function Jd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Sl(n))}function ei(n,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(n,i,s,u),i=i.sibling}function u_(n,i,s,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ei(n,i,s,u),f&2048&&jl(9,i);break;case 1:ei(n,i,s,u);break;case 3:ei(n,i,s,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Sl(n)));break;case 12:if(f&2048){ei(n,i,s,u),n=i.stateNode;try{var p=i.memoizedProps,E=p.id,A=p.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Tt(i,i.return,N)}}else ei(n,i,s,u);break;case 13:ei(n,i,s,u);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?ei(n,i,s,u):Bl(n,i):p._visibility&2?ei(n,i,s,u):(p._visibility|=2,Eo(n,i,s,u,(i.subtreeFlags&10256)!==0)),f&2048&&Zd(E,i);break;case 24:ei(n,i,s,u),f&2048&&Jd(i.alternate,i);break;default:ei(n,i,s,u)}}function Eo(n,i,s,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,E=i,A=s,N=u,Q=E.flags;switch(E.tag){case 0:case 11:case 15:Eo(p,E,A,N,f),jl(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?Eo(p,E,A,N,f):Bl(p,E):(ee._visibility|=2,Eo(p,E,A,N,f)),f&&Q&2048&&Zd(E.alternate,E);break;case 24:Eo(p,E,A,N,f),f&&Q&2048&&Jd(E.alternate,E);break;default:Eo(p,E,A,N,f)}i=i.sibling}}function Bl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,u=i,f=u.flags;switch(u.tag){case 22:Bl(s,u),f&2048&&Zd(u.alternate,u);break;case 24:Bl(s,u),f&2048&&Jd(u.alternate,u);break;default:Bl(s,u)}i=i.sibling}}var Fl=8192;function bo(n){if(n.subtreeFlags&Fl)for(n=n.child;n!==null;)c_(n),n=n.sibling}function c_(n){switch(n.tag){case 26:bo(n),n.flags&Fl&&n.memoizedState!==null&&j1(Cr,n.memoizedState,n.memoizedProps);break;case 5:bo(n);break;case 3:case 4:var i=Cr;Cr=ah(n.stateNode.containerInfo),bo(n),Cr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Fl,Fl=16777216,bo(n),Fl=i):bo(n));break;default:bo(n)}}function h_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ql(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];en=u,d_(u,n)}h_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)f_(n),n=n.sibling}function f_(n){switch(n.tag){case 0:case 11:case 15:ql(n),n.flags&2048&&ua(9,n,n.return);break;case 3:ql(n);break;case 12:ql(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Kc(n)):ql(n);break;default:ql(n)}}function Kc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];en=u,d_(u,n)}h_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ua(8,i,i.return),Kc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Kc(i));break;default:Kc(i)}n=n.sibling}}function d_(n,i){for(;en!==null;){var s=en;switch(s.tag){case 0:case 11:case 15:ua(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Sl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,en=u;else e:for(s=n;en!==null;){u=en;var f=u.sibling,p=u.return;if(i_(u),u===s){en=null;break e}if(f!==null){f.return=p,en=f;break e}en=p}}}var t1={getCacheForType:function(n){var i=yn($t),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},n1=typeof WeakMap=="function"?WeakMap:Map,mt=0,wt=null,Ze=null,at=0,pt=0,Yn=null,fa=!1,To=!1,em=!1,ki=0,Nt=0,da=0,As=0,tm=0,yr=0,wo=0,Hl=null,Pn=null,nm=!1,rm=0,Yc=1/0,Qc=null,ma=null,ln=0,pa=null,Ao=null,So=0,im=0,am=null,m_=null,Gl=0,sm=null;function Qn(){if((mt&2)!==0&&at!==0)return at&-at;if(W.T!==null){var n=ho;return n!==0?n:dm()}return k()}function p_(){yr===0&&(yr=(at&536870912)===0||ct?mi():536870912);var n=gr.current;return n!==null&&(n.flags|=32),yr}function Xn(n,i,s){(n===wt&&(pt===2||pt===9)||n.cancelPendingCommit!==null)&&(Ro(n,0),ga(n,at,yr,!1)),Sr(n,s),((mt&2)===0||n!==wt)&&(n===wt&&((mt&2)===0&&(As|=s),Nt===4&&ga(n,at,yr,!1)),ti(n))}function g_(n,i,s){if((mt&6)!==0)throw Error(a(327));var u=!s&&(i&124)===0&&(i&n.expiredLanes)===0||ir(n,i),f=u?a1(n,i):um(n,i,!0),p=u;do{if(f===0){To&&!u&&ga(n,i,0,!1);break}else{if(s=n.current.alternate,p&&!r1(s)){f=um(n,i,!1),p=!1;continue}if(f===2){if(p=i,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var A=n;f=Hl;var N=A.current.memoizedState.isDehydrated;if(N&&(Ro(A,E).flags|=256),E=um(A,E,!1),E!==2){if(em&&!N){A.errorRecoveryDisabledLanes|=p,As|=p,f=4;break e}p=Pn,Pn=f,p!==null&&(Pn===null?Pn=p:Pn.push.apply(Pn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Ro(n,0),ga(n,i,0,!0);break}e:{switch(u=n,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ga(u,i,yr,!fa);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=rm+300-Sn(),10<f)){if(ga(u,i,yr,!fa),di(u,0,!0)!==0)break e;u.timeoutHandle=G_(y_.bind(null,u,s,Pn,Qc,nm,i,yr,As,wo,fa,p,2,-0,0),f);break e}y_(u,s,Pn,Qc,nm,i,yr,As,wo,fa,p,0,-0,0)}}break}while(!0);ti(n)}function y_(n,i,s,u,f,p,E,A,N,Q,ee,ae,X,Z){if(n.timeoutHandle=-1,ae=i.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:U1},c_(i),ae=z1(),ae!==null)){n.cancelPendingCommit=ae(A_.bind(null,n,i,p,s,u,f,E,A,N,ee,1,X,Z)),ga(n,p,E,!Q);return}A_(n,i,p,s,u,f,E,A,N)}function r1(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var f=s[u],p=f.getSnapshot;f=f.value;try{if(!Hn(p(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ga(n,i,s,u){i&=~tm,i&=~As,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var p=31-Pt(f),E=1<<p;u[p]=-1,f&=~E}s!==0&&Rn(n,s,i)}function Xc(){return(mt&6)===0?($l(0),!1):!0}function om(){if(Ze!==null){if(pt===0)var n=Ze.return;else n=Ze,Ri=vs=null,Ad(n),vo=null,Vl=0,n=Ze;for(;n!==null;)Xv(n.alternate,n),n=n.return;Ze=null}}function Ro(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,b1(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),om(),wt=n,Ze=s=wi(n.current,null),at=i,pt=0,Yn=null,fa=!1,To=ir(n,i),em=!1,wo=yr=tm=As=da=Nt=0,Pn=Hl=null,nm=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-Pt(u),p=1<<f;i|=n[f],u&=~p}return ki=i,vc(),s}function v_(n,i){Ke=null,W.H=Lc,i===xl||i===xc?(i=Py(),pt=3):i===Oy?(i=Py(),pt=4):pt=i===Vv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yn=i,Ze===null&&(Nt=1,Fc(n,fr(i,n.current)))}function __(){var n=W.H;return W.H=Lc,n===null?Lc:n}function E_(){var n=W.A;return W.A=t1,n}function lm(){Nt=4,fa||(at&4194048)!==at&&gr.current!==null||(To=!0),(da&134217727)===0&&(As&134217727)===0||wt===null||ga(wt,at,yr,!1)}function um(n,i,s){var u=mt;mt|=2;var f=__(),p=E_();(wt!==n||at!==i)&&(Qc=null,Ro(n,i)),i=!1;var E=Nt;e:do try{if(pt!==0&&Ze!==null){var A=Ze,N=Yn;switch(pt){case 8:om(),E=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(i=!0);var Q=pt;if(pt=0,Yn=null,xo(n,A,N,Q),s&&To){E=0;break e}break;default:Q=pt,pt=0,Yn=null,xo(n,A,N,Q)}}i1(),E=Nt;break}catch(ee){v_(n,ee)}while(!0);return i&&n.shellSuspendCounter++,Ri=vs=null,mt=u,W.H=f,W.A=p,Ze===null&&(wt=null,at=0,vc()),E}function i1(){for(;Ze!==null;)b_(Ze)}function a1(n,i){var s=mt;mt|=2;var u=__(),f=E_();wt!==n||at!==i?(Qc=null,Yc=Sn()+500,Ro(n,i)):To=ir(n,i);e:do try{if(pt!==0&&Ze!==null){i=Ze;var p=Yn;t:switch(pt){case 1:pt=0,Yn=null,xo(n,i,p,1);break;case 2:case 9:if(My(p)){pt=0,Yn=null,T_(i);break}i=function(){pt!==2&&pt!==9||wt!==n||(pt=7),ti(n)},p.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:My(p)?(pt=0,Yn=null,T_(i)):(pt=0,Yn=null,xo(n,i,p,7));break;case 5:var E=null;switch(Ze.tag){case 26:E=Ze.memoizedState;case 5:case 27:var A=Ze;if(!E||r0(E)){pt=0,Yn=null;var N=A.sibling;if(N!==null)Ze=N;else{var Q=A.return;Q!==null?(Ze=Q,Wc(Q)):Ze=null}break t}}pt=0,Yn=null,xo(n,i,p,5);break;case 6:pt=0,Yn=null,xo(n,i,p,6);break;case 8:om(),Nt=6;break e;default:throw Error(a(462))}}s1();break}catch(ee){v_(n,ee)}while(!0);return Ri=vs=null,W.H=u,W.A=f,mt=s,Ze!==null?0:(wt=null,at=0,vc(),Nt)}function s1(){for(;Ze!==null&&!Wa();)b_(Ze)}function b_(n){var i=Yv(n.alternate,n,ki);n.memoizedProps=n.pendingProps,i===null?Wc(n):Ze=i}function T_(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=Fv(s,i,i.pendingProps,i.type,void 0,at);break;case 11:i=Fv(s,i,i.pendingProps,i.type.render,i.ref,at);break;case 5:Ad(i);default:Xv(s,i),i=Ze=wy(i,ki),i=Yv(s,i,ki)}n.memoizedProps=n.pendingProps,i===null?Wc(n):Ze=i}function xo(n,i,s,u){Ri=vs=null,Ad(i),vo=null,Vl=0;var f=i.return;try{if(QS(n,f,i,s,at)){Nt=1,Fc(n,fr(s,n.current)),Ze=null;return}}catch(p){if(f!==null)throw Ze=f,p;Nt=1,Fc(n,fr(s,n.current)),Ze=null;return}i.flags&32768?(ct||u===1?n=!0:To||(at&536870912)!==0?n=!1:(fa=n=!0,(u===2||u===9||u===3||u===6)&&(u=gr.current,u!==null&&u.tag===13&&(u.flags|=16384))),w_(i,n)):Wc(i)}function Wc(n){var i=n;do{if((i.flags&32768)!==0){w_(i,fa);return}n=i.return;var s=WS(i.alternate,i,ki);if(s!==null){Ze=s;return}if(i=i.sibling,i!==null){Ze=i;return}Ze=i=n}while(i!==null);Nt===0&&(Nt=5)}function w_(n,i){do{var s=ZS(n.alternate,n);if(s!==null){s.flags&=32767,Ze=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Ze=n;return}Ze=n=s}while(n!==null);Nt=6,Ze=null}function A_(n,i,s,u,f,p,E,A,N){n.cancelPendingCommit=null;do Zc();while(ln!==0);if((mt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=Jf,Wi(n,s,p,E,A,N),n===wt&&(Ze=wt=null,at=0),Ao=i,pa=n,So=s,im=p,am=f,m_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,c1(fi,function(){return I_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=he.p,he.p=2,E=mt,mt|=4;try{JS(n,i,s)}finally{mt=E,he.p=f,W.T=u}}ln=1,S_(),R_(),x_()}}function S_(){if(ln===1){ln=0;var n=pa,i=Ao,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var u=he.p;he.p=2;var f=mt;mt|=4;try{o_(i,n);var p=bm,E=dy(n.containerInfo),A=p.focusedElem,N=p.selectionRange;if(E!==A&&A&&A.ownerDocument&&fy(A.ownerDocument.documentElement,A)){if(N!==null&&Yf(A)){var Q=N.start,ee=N.end;if(ee===void 0&&(ee=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ee,A.value.length);else{var ae=A.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Ve=A.textContent.length,De=Math.min(N.start,Ve),Et=N.end===void 0?De:Math.min(N.end,Ve);!Z.extend&&De>Et&&(E=Et,Et=De,De=E);var z=hy(A,De),V=hy(A,Et);if(z&&V&&(Z.rangeCount!==1||Z.anchorNode!==z.node||Z.anchorOffset!==z.offset||Z.focusNode!==V.node||Z.focusOffset!==V.offset)){var K=ae.createRange();K.setStart(z.node,z.offset),Z.removeAllRanges(),De>Et?(Z.addRange(K),Z.extend(V.node,V.offset)):(K.setEnd(V.node,V.offset),Z.addRange(K))}}}}for(ae=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var te=ae[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}ch=!!Em,bm=Em=null}finally{mt=f,he.p=u,W.T=s}}n.current=i,ln=2}}function R_(){if(ln===2){ln=0;var n=pa,i=Ao,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var u=he.p;he.p=2;var f=mt;mt|=4;try{r_(n,i.alternate,i)}finally{mt=f,he.p=u,W.T=s}}ln=3}}function x_(){if(ln===4||ln===3){ln=0,$s();var n=pa,i=Ao,s=So,u=m_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ln=5:(ln=0,Ao=pa=null,C_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ma=null),Zi(s),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,f=he.p,he.p=2,W.T=null;try{for(var p=n.onRecoverableError,E=0;E<u.length;E++){var A=u[E];p(A.value,{componentStack:A.stack})}}finally{W.T=i,he.p=f}}(So&3)!==0&&Zc(),ti(n),f=n.pendingLanes,(s&4194090)!==0&&(f&42)!==0?n===sm?Gl++:(Gl=0,sm=n):Gl=0,$l(0)}}function C_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Sl(i)))}function Zc(n){return S_(),R_(),x_(),I_()}function I_(){if(ln!==5)return!1;var n=pa,i=im;im=0;var s=Zi(So),u=W.T,f=he.p;try{he.p=32>s?32:s,W.T=null,s=am,am=null;var p=pa,E=So;if(ln=0,Ao=pa=null,So=0,(mt&6)!==0)throw Error(a(331));var A=mt;if(mt|=4,f_(p.current),u_(p,p.current,E,s),mt=A,$l(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ut,p)}catch{}return!0}finally{he.p=f,W.T=u,C_(n,i)}}function N_(n,i,s){i=fr(s,i),i=Ud(n.stateNode,i,2),n=aa(n,i,2),n!==null&&(Sr(n,2),ti(n))}function Tt(n,i,s){if(n.tag===3)N_(n,n,s);else for(;i!==null;){if(i.tag===3){N_(i,n,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ma===null||!ma.has(u))){n=fr(s,n),s=kv(2),u=aa(i,s,2),u!==null&&(Pv(s,u,i,n),Sr(u,2),ti(u));break}}i=i.return}}function cm(n,i,s){var u=n.pingCache;if(u===null){u=n.pingCache=new n1;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(s)||(em=!0,f.add(s),n=o1.bind(null,n,i,s),i.then(n,n))}function o1(n,i,s){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,wt===n&&(at&s)===s&&(Nt===4||Nt===3&&(at&62914560)===at&&300>Sn()-rm?(mt&2)===0&&Ro(n,0):tm|=s,wo===at&&(wo=0)),ti(n)}function D_(n,i){i===0&&(i=Ja()),n=oo(n,i),n!==null&&(Sr(n,i),ti(n))}function l1(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),D_(n,s)}function u1(n,i){var s=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),D_(n,s)}function c1(n,i){return hi(n,i)}var Jc=null,Co=null,hm=!1,eh=!1,fm=!1,Ss=0;function ti(n){n!==Co&&n.next===null&&(Co===null?Jc=Co=n:Co=Co.next=n),eh=!0,hm||(hm=!0,f1())}function $l(n,i){if(!fm&&eh){fm=!0;do for(var s=!1,u=Jc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-Pt(42|n)+1)-1,p&=f&~(E&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,P_(u,p))}else p=at,p=di(u,u===wt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ir(u,p)||(s=!0,P_(u,p));u=u.next}while(s);fm=!1}}function h1(){O_()}function O_(){eh=hm=!1;var n=0;Ss!==0&&(E1()&&(n=Ss),Ss=0);for(var i=Sn(),s=null,u=Jc;u!==null;){var f=u.next,p=M_(u,i);p===0?(u.next=null,s===null?Jc=f:s.next=f,f===null&&(Co=s)):(s=u,(n!==0||(p&3)!==0)&&(eh=!0)),u=f}$l(n)}function M_(n,i){for(var s=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-Pt(p),A=1<<E,N=f[E];N===-1?((A&s)===0||(A&u)!==0)&&(f[E]=Xi(A,i)):N<=i&&(n.expiredLanes|=A),p&=~A}if(i=wt,s=at,s=di(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===i&&(pt===2||pt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&An(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||ir(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(u!==null&&An(u),Zi(s)){case 2:case 8:s=Ki;break;case 32:s=fi;break;case 268435456:s=nr;break;default:s=fi}return u=k_.bind(null,n),s=hi(s,u),n.callbackPriority=i,n.callbackNode=s,i}return u!==null&&u!==null&&An(u),n.callbackPriority=2,n.callbackNode=null,2}function k_(n,i){if(ln!==0&&ln!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Zc()&&n.callbackNode!==s)return null;var u=at;return u=di(n,n===wt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(g_(n,u,i),M_(n,Sn()),n.callbackNode!=null&&n.callbackNode===s?k_.bind(null,n):null)}function P_(n,i){if(Zc())return null;g_(n,i,!0)}function f1(){T1(function(){(mt&6)!==0?hi(Za,h1):O_()})}function dm(){return Ss===0&&(Ss=mi()),Ss}function V_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Qs(""+n)}function L_(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function d1(n,i,s,u,f){if(i==="submit"&&s&&s.stateNode===f){var p=V_((f[ce]||null).action),E=u.submitter;E&&(i=(i=E[ce]||null)?V_(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var A=new Xs("action","action",null,u,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ss!==0){var N=E?L_(f,E):new FormData(f);Md(s,{pending:!0,data:N,method:f.method,action:p},null,N)}}else typeof p=="function"&&(A.preventDefault(),N=E?L_(f,E):new FormData(f),Md(s,{pending:!0,data:N,method:f.method,action:p},p,N))},currentTarget:f}]})}}for(var mm=0;mm<Zf.length;mm++){var pm=Zf[mm],m1=pm.toLowerCase(),p1=pm[0].toUpperCase()+pm.slice(1);xr(m1,"on"+p1)}xr(gy,"onAnimationEnd"),xr(yy,"onAnimationIteration"),xr(vy,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(OS,"onTransitionRun"),xr(MS,"onTransitionStart"),xr(kS,"onTransitionCancel"),xr(_y,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function U_(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var E=u.length-1;0<=E;E--){var A=u[E],N=A.instance,Q=A.currentTarget;if(A=A.listener,N!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=Q;try{p(f)}catch(ee){Bc(ee)}f.currentTarget=null,p=N}else for(E=0;E<u.length;E++){if(A=u[E],N=A.instance,Q=A.currentTarget,A=A.listener,N!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=Q;try{p(f)}catch(ee){Bc(ee)}f.currentTarget=null,p=N}}}}function Je(n,i){var s=i[Ie];s===void 0&&(s=i[Ie]=new Set);var u=n+"__bubble";s.has(u)||(j_(i,n,2,!1),s.add(u))}function gm(n,i,s){var u=0;i&&(u|=4),j_(s,n,u,i)}var th="_reactListening"+Math.random().toString(36).slice(2);function ym(n){if(!n[th]){n[th]=!0,Qe.forEach(function(s){s!=="selectionchange"&&(g1.has(s)||gm(s,!1,n),gm(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[th]||(i[th]=!0,gm("selectionchange",!1,i))}}function j_(n,i,s,u){switch(u0(i)){case 2:var f=q1;break;case 8:f=H1;break;default:f=Dm}s=f.bind(null,i,s,n),f=void 0,!cr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,s,{capture:!0,passive:f}):n.addEventListener(i,s,!0):f!==void 0?n.addEventListener(i,s,{passive:f}):n.addEventListener(i,s,!1)}function vm(n,i,s,u,f){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=Oe(A),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=p=E;continue e}A=A.parentNode}}u=u.return}rc(function(){var Q=p,ee=ur(s),ae=[];e:{var X=Ey.get(n);if(X!==void 0){var Z=Xs,Ve=n;switch(n){case"keypress":if($r(s)===0)break e;case"keydown":case"keyup":Z=no;break;case"focusin":Ve="focus",Z=Js;break;case"focusout":Ve="blur",Z=Js;break;case"beforeblur":case"afterblur":Z=Js;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=hc;break;case gy:case yy:case vy:Z=eo;break;case _y:Z=dc;break;case"scroll":case"scrollend":Z=ic;break;case"wheel":Z=ro;break;case"copy":case"cut":case"paste":Z=to;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=yl;break;case"toggle":case"beforetoggle":Z=pc}var De=(i&4)!==0,Et=!De&&(n==="scroll"||n==="scrollend"),z=De?X!==null?X+"Capture":null:X;De=[];for(var V=Q,K;V!==null;){var te=V;if(K=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||K===null||z===null||(te=is(V,z),te!=null&&De.push(Yl(V,te,K))),Et)break;V=V.return}0<De.length&&(X=new Z(X,Ve,null,s,ee),ae.push({event:X,listeners:De}))}}if((i&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",X&&s!==yi&&(Ve=s.relatedTarget||s.fromElement)&&(Oe(Ve)||Ve[ye]))break e;if((Z||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Ve=s.relatedTarget||s.toElement,Z=Q,Ve=Ve?Oe(Ve):null,Ve!==null&&(Et=l(Ve),De=Ve.tag,Ve!==Et||De!==5&&De!==27&&De!==6)&&(Ve=null)):(Z=null,Ve=Q),Z!==Ve)){if(De=hr,te="onMouseLeave",z="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(De=yl,te="onPointerLeave",z="onPointerEnter",V="pointer"),Et=Z==null?X:ht(Z),K=Ve==null?X:ht(Ve),X=new De(te,V+"leave",Z,s,ee),X.target=Et,X.relatedTarget=K,te=null,Oe(ee)===Q&&(De=new De(z,V+"enter",Ve,s,ee),De.target=K,De.relatedTarget=Et,te=De),Et=te,Z&&Ve)t:{for(De=Z,z=Ve,V=0,K=De;K;K=Io(K))V++;for(K=0,te=z;te;te=Io(te))K++;for(;0<V-K;)De=Io(De),V--;for(;0<K-V;)z=Io(z),K--;for(;V--;){if(De===z||z!==null&&De===z.alternate)break t;De=Io(De),z=Io(z)}De=null}else De=null;Z!==null&&z_(ae,X,Z,De,!1),Ve!==null&&Et!==null&&z_(ae,Et,Ve,De,!0)}}e:{if(X=Q?ht(Q):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var be=ay;else if(Gt(X))if(sy)be=IS;else{be=xS;var Xe=RS}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&cl(Q.elementType)&&(be=ay):be=CS;if(be&&(be=be(n,Q))){Ti(ae,be,s,ee);break e}Xe&&Xe(n,X,Q),n==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&ea(X,"number",X.value)}switch(Xe=Q?ht(Q):window,n){case"focusin":(Gt(Xe)||Xe.contentEditable==="true")&&(io=Xe,Qf=Q,El=null);break;case"focusout":El=Qf=io=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,my(ae,s,ee);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":my(ae,s,ee)}var Re;if(Qr)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else rt?J(n,s)&&(Me="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(_&&s.locale!=="ko"&&(rt||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&rt&&(Re=fl()):(Gr=ee,ta="value"in Gr?Gr.value:Gr.textContent,rt=!0)),Xe=nh(Q,Me),0<Xe.length&&(Me=new pl(Me,n,null,s,ee),ae.push({event:Me,listeners:Xe}),Re?Me.data=Re:(Re=me(s),Re!==null&&(Me.data=Re)))),(Re=y?Ht(n,s):it(n,s))&&(Me=nh(Q,"onBeforeInput"),0<Me.length&&(Xe=new pl("onBeforeInput","beforeinput",null,s,ee),ae.push({event:Xe,listeners:Me}),Xe.data=Re)),d1(ae,n,Q,s,ee)}U_(ae,i)})}function Yl(n,i,s){return{instance:n,listener:i,currentTarget:s}}function nh(n,i){for(var s=i+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=is(n,s),f!=null&&u.unshift(Yl(n,f,p)),f=is(n,i),f!=null&&u.push(Yl(n,f,p))),n.tag===3)return u;n=n.return}return[]}function Io(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function z_(n,i,s,u,f){for(var p=i._reactName,E=[];s!==null&&s!==u;){var A=s,N=A.alternate,Q=A.stateNode;if(A=A.tag,N!==null&&N===u)break;A!==5&&A!==26&&A!==27||Q===null||(N=Q,f?(Q=is(s,p),Q!=null&&E.unshift(Yl(s,Q,N))):f||(Q=is(s,p),Q!=null&&E.push(Yl(s,Q,N)))),s=s.return}E.length!==0&&n.push({event:i,listeners:E})}var y1=/\r\n?/g,v1=/\u0000|\uFFFD/g;function B_(n){return(typeof n=="string"?n:""+n).replace(y1,`
`).replace(v1,"")}function F_(n,i){return i=B_(i),B_(n)===i}function rh(){}function _t(n,i,s,u,f,p){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||lr(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&lr(n,""+u);break;case"className":Cn(n,"class",u);break;case"tabIndex":Cn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(n,s,u);break;case"style":ul(n,u,p);break;case"data":if(i!=="object"){Cn(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Qs(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&_t(n,i,"name",f.name,f,null),_t(n,i,"formEncType",f.formEncType,f,null),_t(n,i,"formMethod",f.formMethod,f,null),_t(n,i,"formTarget",f.formTarget,f,null)):(_t(n,i,"encType",f.encType,f,null),_t(n,i,"method",f.method,f,null),_t(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Qs(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=rh);break;case"onScroll":u!=null&&Je("scroll",n);break;case"onScrollEnd":u!=null&&Je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=Qs(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Je("beforetoggle",n),Je("toggle",n),gn(n,"popover",u);break;case"xlinkActuate":Ue(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ue(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ue(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ue(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ue(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ue(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ue(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ue(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ue(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":gn(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ff.get(s)||s,gn(n,s,u))}}function _m(n,i,s,u,f,p){switch(s){case"style":ul(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof u=="string"?lr(n,u):(typeof u=="number"||typeof u=="bigint")&&lr(n,""+u);break;case"onScroll":u!=null&&Je("scroll",n);break;case"onScrollEnd":u!=null&&Je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=rh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),p=n[ce]||null,p=p!=null?p[s]:null,typeof p=="function"&&n.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,u,f);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):gn(n,s,u)}}}function un(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",n),Je("load",n);var u=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var E=s[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(n,i,p,E,s,null)}}f&&_t(n,i,"srcSet",s.srcSet,s,null),u&&_t(n,i,"src",s.src,s,null);return;case"input":Je("invalid",n);var A=p=E=f=null,N=null,Q=null;for(u in s)if(s.hasOwnProperty(u)){var ee=s[u];if(ee!=null)switch(u){case"name":f=ee;break;case"type":E=ee;break;case"checked":N=ee;break;case"defaultChecked":Q=ee;break;case"value":p=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,i));break;default:_t(n,i,u,ee,s,null)}}ts(n,p,A,N,Q,E,f,!1),Ys(n);return;case"select":Je("invalid",n),u=E=p=null;for(f in s)if(s.hasOwnProperty(f)&&(A=s[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:_t(n,i,f,A,s,null)}i=p,s=E,n.multiple=!!u,i!=null?gi(n,!!u,i,!1):s!=null&&gi(n,!!u,s,!0);return;case"textarea":Je("invalid",n),p=f=u=null;for(E in s)if(s.hasOwnProperty(E)&&(A=s[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:_t(n,i,E,A,s,null)}ns(n,u,f,p),Ys(n);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(u=s[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:_t(n,i,N,u,s,null)}return;case"dialog":Je("beforetoggle",n),Je("toggle",n),Je("cancel",n),Je("close",n);break;case"iframe":case"object":Je("load",n);break;case"video":case"audio":for(u=0;u<Kl.length;u++)Je(Kl[u],n);break;case"image":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"embed":case"source":case"link":Je("error",n),Je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in s)if(s.hasOwnProperty(Q)&&(u=s[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(n,i,Q,u,s,null)}return;default:if(cl(i)){for(ee in s)s.hasOwnProperty(ee)&&(u=s[ee],u!==void 0&&_m(n,i,ee,u,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(u=s[A],u!=null&&_t(n,i,A,u,s,null))}function _1(n,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,A=null,N=null,Q=null,ee=null;for(Z in s){var ae=s[Z];if(s.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":N=ae;default:u.hasOwnProperty(Z)||_t(n,i,Z,null,u,ae)}}for(var X in u){var Z=u[X];if(ae=s[X],u.hasOwnProperty(X)&&(Z!=null||ae!=null))switch(X){case"type":p=Z;break;case"name":f=Z;break;case"checked":Q=Z;break;case"defaultChecked":ee=Z;break;case"value":E=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Z!==ae&&_t(n,i,X,Z,u,ae)}}qn(n,E,A,N,Q,ee,p,f);return;case"select":Z=E=A=X=null;for(p in s)if(N=s[p],s.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":Z=N;default:u.hasOwnProperty(p)||_t(n,i,p,null,u,N)}for(f in u)if(p=u[f],N=s[f],u.hasOwnProperty(f)&&(p!=null||N!=null))switch(f){case"value":X=p;break;case"defaultValue":A=p;break;case"multiple":E=p;default:p!==N&&_t(n,i,f,p,u,N)}i=A,s=E,u=Z,X!=null?gi(n,!!s,X,!1):!!u!=!!s&&(i!=null?gi(n,!!s,i,!0):gi(n,!!s,s?[]:"",!1));return;case"textarea":Z=X=null;for(A in s)if(f=s[A],s.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:_t(n,i,A,null,u,f)}for(E in u)if(f=u[E],p=s[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":X=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&_t(n,i,E,f,u,p)}yt(n,X,Z);return;case"option":for(var Ve in s)if(X=s[Ve],s.hasOwnProperty(Ve)&&X!=null&&!u.hasOwnProperty(Ve))switch(Ve){case"selected":n.selected=!1;break;default:_t(n,i,Ve,null,u,X)}for(N in u)if(X=u[N],Z=s[N],u.hasOwnProperty(N)&&X!==Z&&(X!=null||Z!=null))switch(N){case"selected":n.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:_t(n,i,N,X,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in s)X=s[De],s.hasOwnProperty(De)&&X!=null&&!u.hasOwnProperty(De)&&_t(n,i,De,null,u,X);for(Q in u)if(X=u[Q],Z=s[Q],u.hasOwnProperty(Q)&&X!==Z&&(X!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:_t(n,i,Q,X,u,Z)}return;default:if(cl(i)){for(var Et in s)X=s[Et],s.hasOwnProperty(Et)&&X!==void 0&&!u.hasOwnProperty(Et)&&_m(n,i,Et,void 0,u,X);for(ee in u)X=u[ee],Z=s[ee],!u.hasOwnProperty(ee)||X===Z||X===void 0&&Z===void 0||_m(n,i,ee,X,u,Z);return}}for(var z in s)X=s[z],s.hasOwnProperty(z)&&X!=null&&!u.hasOwnProperty(z)&&_t(n,i,z,null,u,X);for(ae in u)X=u[ae],Z=s[ae],!u.hasOwnProperty(ae)||X===Z||X==null&&Z==null||_t(n,i,ae,X,u,Z)}var Em=null,bm=null;function ih(n){return n.nodeType===9?n:n.ownerDocument}function q_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Tm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wm=null;function E1(){var n=window.event;return n&&n.type==="popstate"?n===wm?!1:(wm=n,!0):(wm=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(n){return $_.resolve(null).then(n).catch(w1)}:G_;function w1(n){setTimeout(function(){throw n})}function ya(n){return n==="head"}function K_(n,i){var s=i,u=0,f=0;do{var p=s.nextSibling;if(n.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<u&&8>u){s=u;var E=n.ownerDocument;if(s&1&&Ql(E.documentElement),s&2&&Ql(E.body),s&4)for(s=E.head,Ql(s),E=s.firstChild;E;){var A=E.nextSibling,N=E.nodeName;E[Ne]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=A}}if(f===0){n.removeChild(p),ru(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:u=s.charCodeAt(0)-48;else u=0;s=p}while(s);ru(i)}function Am(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Am(s),we(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function A1(n,i,s,u){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ne])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Ir(n.nextSibling),n===null)break}return null}function S1(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Ir(n.nextSibling),n===null))return null;return n}function Sm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function R1(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Ir(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Rm=null;function Y_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function Q_(n,i,s){switch(i=ih(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Ql(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);we(n)}var vr=new Map,X_=new Set;function ah(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Pi=he.d;he.d={f:x1,r:C1,D:I1,C:N1,L:D1,m:O1,X:k1,S:M1,M:P1};function x1(){var n=Pi.f(),i=Xc();return n||i}function C1(n){var i=We(n);i!==null&&i.tag===5&&i.type==="form"?gv(i):Pi.r(n)}var No=typeof document>"u"?null:document;function W_(n,i,s){var u=No;if(u&&typeof i=="string"&&i){var f=Lt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),X_.has(f)||(X_.add(f),n={rel:n,crossOrigin:s,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),un(i,"link",n),nt(i),u.head.appendChild(i)))}}function I1(n){Pi.D(n),W_("dns-prefetch",n,null)}function N1(n,i){Pi.C(n,i),W_("preconnect",n,i)}function D1(n,i,s){Pi.L(n,i,s);var u=No;if(u&&n&&i){var f='link[rel="preload"][as="'+Lt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Lt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Lt(s.imageSizes)+'"]')):f+='[href="'+Lt(n)+'"]';var p=f;switch(i){case"style":p=Do(n);break;case"script":p=Oo(n)}vr.has(p)||(n=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),vr.set(p,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Xl(p))||i==="script"&&u.querySelector(Wl(p))||(i=u.createElement("link"),un(i,"link",n),nt(i),u.head.appendChild(i)))}}function O1(n,i){Pi.m(n,i);var s=No;if(s&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Lt(u)+'"][href="'+Lt(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Oo(n)}if(!vr.has(p)&&(n=v({rel:"modulepreload",href:n},i),vr.set(p,n),s.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Wl(p)))return}u=s.createElement("link"),un(u,"link",n),nt(u),s.head.appendChild(u)}}}function M1(n,i,s){Pi.S(n,i,s);var u=No;if(u&&n){var f=ot(u).hoistableStyles,p=Do(n);i=i||"default";var E=f.get(p);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(Xl(p)))A.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},s),(s=vr.get(p))&&xm(n,s);var N=E=u.createElement("link");nt(N),un(N,"link",n),N._p=new Promise(function(Q,ee){N.onload=Q,N.onerror=ee}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,sh(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(p,E)}}}function k1(n,i){Pi.X(n,i);var s=No;if(s&&n){var u=ot(s).hoistableScripts,f=Oo(n),p=u.get(f);p||(p=s.querySelector(Wl(f)),p||(n=v({src:n,async:!0},i),(i=vr.get(f))&&Cm(n,i),p=s.createElement("script"),nt(p),un(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function P1(n,i){Pi.M(n,i);var s=No;if(s&&n){var u=ot(s).hoistableScripts,f=Oo(n),p=u.get(f);p||(p=s.querySelector(Wl(f)),p||(n=v({src:n,async:!0,type:"module"},i),(i=vr.get(f))&&Cm(n,i),p=s.createElement("script"),nt(p),un(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function Z_(n,i,s,u){var f=(f=xe.current)?ah(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Do(s.href),s=ot(f).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Do(s.href);var p=ot(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(Xl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),vr.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},vr.set(n,s),p||V1(f,n,s,E.state))),i&&u===null)throw Error(a(528,""));return E}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oo(s),s=ot(f).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Do(n){return'href="'+Lt(n)+'"'}function Xl(n){return'link[rel="stylesheet"]['+n+"]"}function J_(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function V1(n,i,s,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),un(i,"link",s),nt(i),n.head.appendChild(i))}function Oo(n){return'[src="'+Lt(n)+'"]'}function Wl(n){return"script[async]"+n}function e0(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Lt(s.href)+'"]');if(u)return i.instance=u,nt(u),u;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),nt(u),un(u,"style",f),sh(u,s.precedence,n),i.instance=u;case"stylesheet":f=Do(s.href);var p=n.querySelector(Xl(f));if(p)return i.state.loading|=4,i.instance=p,nt(p),p;u=J_(s),(f=vr.get(f))&&xm(u,f),p=(n.ownerDocument||n).createElement("link"),nt(p);var E=p;return E._p=new Promise(function(A,N){E.onload=A,E.onerror=N}),un(p,"link",u),i.state.loading|=4,sh(p,s.precedence,n),i.instance=p;case"script":return p=Oo(s.src),(f=n.querySelector(Wl(p)))?(i.instance=f,nt(f),f):(u=s,(f=vr.get(p))&&(u=v({},s),Cm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),nt(f),un(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,sh(u,s.precedence,n));return i.instance}function sh(n,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===i)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function xm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Cm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var oh=null;function t0(n,i,s){if(oh===null){var u=new Map,f=oh=new Map;f.set(s,u)}else f=oh,u=f.get(s),u||(u=new Map,f.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var p=s[f];if(!(p[Ne]||p[ie]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=n+E;var A=u.get(E);A?A.push(p):u.set(E,[p])}}return u}function n0(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function L1(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function r0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Zl=null;function U1(){}function j1(n,i,s){if(Zl===null)throw Error(a(475));var u=Zl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Do(s.href),p=n.querySelector(Xl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=lh.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=p,nt(p);return}p=n.ownerDocument||n,s=J_(s),(f=vr.get(f))&&xm(s,f),p=p.createElement("link"),nt(p);var E=p;E._p=new Promise(function(A,N){E.onload=A,E.onerror=N}),un(p,"link",s),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=lh.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function z1(){if(Zl===null)throw Error(a(475));var n=Zl;return n.stylesheets&&n.count===0&&Im(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Im(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function lh(){if(this.count--,this.count===0){if(this.stylesheets)Im(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uh=null;function Im(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uh=new Map,i.forEach(B1,n),uh=null,lh.call(n))}function B1(n,i){if(!(i.state.loading&4)){var s=uh.get(n);if(s)var u=s.get(null);else{s=new Map,uh.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),u=E)}u&&s.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),p=s.get(E)||u,p===u&&s.set(null,f),s.set(E,f),this.count++,u=lh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Jl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function F1(n,i,s,u,f,p,E,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function i0(n,i,s,u,f,p,E,A,N,Q,ee,ae){return n=new F1(n,i,s,E,A,N,Q,ae),i=1,p===!0&&(i|=24),p=Gn(3,null,null,i),n.current=p,p.stateNode=n,i=cd(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:s,cache:i},md(p),n}function a0(n){return n?(n=lo,n):lo}function s0(n,i,s,u,f,p){f=a0(f),u.context===null?u.context=f:u.pendingContext=f,u=ia(i),u.payload={element:s},p=p===void 0?null:p,p!==null&&(u.callback=p),s=aa(n,u,i),s!==null&&(Xn(s,n,i),Il(s,n,i))}function o0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Nm(n,i){o0(n,i),(n=n.alternate)&&o0(n,i)}function l0(n){if(n.tag===13){var i=oo(n,67108864);i!==null&&Xn(i,n,67108864),Nm(n,67108864)}}var ch=!0;function q1(n,i,s,u){var f=W.T;W.T=null;var p=he.p;try{he.p=2,Dm(n,i,s,u)}finally{he.p=p,W.T=f}}function H1(n,i,s,u){var f=W.T;W.T=null;var p=he.p;try{he.p=8,Dm(n,i,s,u)}finally{he.p=p,W.T=f}}function Dm(n,i,s,u){if(ch){var f=Om(u);if(f===null)vm(n,i,u,hh,s),c0(n,u);else if($1(f,n,i,s,u))u.stopPropagation();else if(c0(n,u),i&4&&-1<G1.indexOf(n)){for(;f!==null;){var p=We(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=zn(p.pendingLanes);if(E!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var N=1<<31-Pt(E);A.entanglements[1]|=N,E&=~N}ti(p),(mt&6)===0&&(Yc=Sn()+500,$l(0))}}break;case 13:A=oo(p,2),A!==null&&Xn(A,p,2),Xc(),Nm(p,2)}if(p=Om(u),p===null&&vm(n,i,u,hh,s),p===f)break;f=p}f!==null&&u.stopPropagation()}else vm(n,i,u,null,s)}}function Om(n){return n=ur(n),Mm(n)}var hh=null;function Mm(n){if(hh=null,n=Oe(n),n!==null){var i=l(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=c(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return hh=n,null}function u0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sl()){case Za:return 2;case Ki:return 8;case fi:case Ar:return 32;case nr:return 268435456;default:return 32}default:return 32}}var km=!1,va=null,_a=null,Ea=null,eu=new Map,tu=new Map,ba=[],G1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c0(n,i){switch(n){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":eu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(i.pointerId)}}function nu(n,i,s,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=We(i),i!==null&&l0(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function $1(n,i,s,u,f){switch(i){case"focusin":return va=nu(va,n,i,s,u,f),!0;case"dragenter":return _a=nu(_a,n,i,s,u,f),!0;case"mouseover":return Ea=nu(Ea,n,i,s,u,f),!0;case"pointerover":var p=f.pointerId;return eu.set(p,nu(eu.get(p)||null,n,i,s,u,f)),!0;case"gotpointercapture":return p=f.pointerId,tu.set(p,nu(tu.get(p)||null,n,i,s,u,f)),!0}return!1}function h0(n){var i=Oe(n.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){n.blockedOn=i,B(n.priority,function(){if(s.tag===13){var u=Qn();u=Br(u);var f=oo(s,u);f!==null&&Xn(f,s,u),Nm(s,u)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Om(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);yi=u,s.target.dispatchEvent(u),yi=null}else return i=We(s),i!==null&&l0(i),n.blockedOn=s,!1;i.shift()}return!0}function f0(n,i,s){fh(n)&&s.delete(i)}function K1(){km=!1,va!==null&&fh(va)&&(va=null),_a!==null&&fh(_a)&&(_a=null),Ea!==null&&fh(Ea)&&(Ea=null),eu.forEach(f0),tu.forEach(f0)}function dh(n,i){n.blockedOn===i&&(n.blockedOn=null,km||(km=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,K1)))}var mh=null;function d0(n){mh!==n&&(mh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mh===n&&(mh=null);for(var i=0;i<n.length;i+=3){var s=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(Mm(u||s)===null)continue;break}var p=We(s);p!==null&&(n.splice(i,3),i-=3,Md(p,{pending:!0,data:f,method:s.method,action:u},u,f))}}))}function ru(n){function i(N){return dh(N,n)}va!==null&&dh(va,n),_a!==null&&dh(_a,n),Ea!==null&&dh(Ea,n),eu.forEach(i),tu.forEach(i);for(var s=0;s<ba.length;s++){var u=ba[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ba.length&&(s=ba[0],s.blockedOn===null);)h0(s),s.blockedOn===null&&ba.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var f=s[u],p=s[u+1],E=f[ce]||null;if(typeof p=="function")E||d0(s);else if(E){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[ce]||null)A=E.formAction;else if(Mm(f)!==null)continue}else A=E.action;typeof A=="function"?s[u+1]=A:(s.splice(u,3),u-=3),d0(s)}}}function Pm(n){this._internalRoot=n}ph.prototype.render=Pm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,u=Qn();s0(s,u,n,i,null,null)},ph.prototype.unmount=Pm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;s0(n.current,2,null,n,null,null),Xc(),i[ye]=null}};function ph(n){this._internalRoot=n}ph.prototype.unstable_scheduleHydration=function(n){if(n){var i=k();n={blockedOn:null,target:n,priority:i};for(var s=0;s<ba.length&&i!==0&&i<ba[s].priority;s++);ba.splice(s,0,n),s===0&&h0(n)}};var m0=e.version;if(m0!=="19.1.0")throw Error(a(527,m0,"19.1.0"));he.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Y1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{ut=gh.inject(Y1),$e=gh}catch{}}return au.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,u="",f=Nv,p=Dv,E=Ov,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=i0(n,1,!1,null,null,s,u,f,p,E,A,null),n[ye]=i.current,ym(n),new Pm(i)},au.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var u=!1,f="",p=Nv,E=Dv,A=Ov,N=null,Q=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(Q=s.formState)),i=i0(n,1,!0,i,s??null,u,f,p,E,A,N,Q),i.context=a0(null),s=i.current,u=Qn(),u=Br(u),f=ia(u),f.callback=null,aa(s,f,u),s=u,i.current.lanes=s,Sr(i,s),ti(i),n[ye]=i.current,ym(n),new ph(i)},au.version="19.1.0",au}var A0;function iR(){if(A0)return Um.exports;A0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Um.exports=rR(),Um.exports}var aR=iR(),su={},S0;function sR(){if(S0)return su;S0=1,Object.defineProperty(su,"__esModule",{value:!0}),su.parse=c,su.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,R){const I=new l,$=T.length;if($<2)return I;const F=(R==null?void 0:R.decode)||v;let H=0;do{const ue=T.indexOf("=",H);if(ue===-1)break;const ne=T.indexOf(";",H),pe=ne===-1?$:ne;if(ue>pe){H=T.lastIndexOf(";",ue-1)+1;continue}const de=d(T,H,ue),q=m(T,ue,de),M=T.slice(de,q);if(I[M]===void 0){let x=d(T,ue+1,pe),C=m(T,pe,x);const P=F(T.slice(x,C));I[M]=P}H=pe+1}while(H<$);return I}function d(T,R,I){do{const $=T.charCodeAt(R);if($!==32&&$!==9)return R}while(++R<I);return I}function m(T,R,I){for(;R>I;){const $=T.charCodeAt(--R);if($!==32&&$!==9)return R+1}return I}function g(T,R,I){const $=(I==null?void 0:I.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const F=$(R);if(!e.test(F))throw new TypeError(`argument val is invalid: ${R}`);let H=T+"="+F;if(!I)return H;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);H+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);H+="; Domain="+I.domain}if(I.path){if(!a.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);H+="; Path="+I.path}if(I.expires){if(!b(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);H+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(H+="; HttpOnly"),I.secure&&(H+="; Secure"),I.partitioned&&(H+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return H}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return o.call(T)==="[object Date]"}return su}sR();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zb=r=>{throw TypeError(r)},oR=(r,e,t)=>e.has(r)||zb("Cannot "+t),Fm=(r,e,t)=>(oR(r,e,"read from private field"),t?t.call(r):e.get(r)),lR=(r,e,t)=>e.has(r)?zb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),R0="popstate";function uR(r={}){function e(a,o){let{pathname:l,search:c,hash:d}=a.location;return Ru("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:Pa(o)}return hR(e,t,null,r)}function Ge(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ft(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cR(){return Math.random().toString(36).substring(2,10)}function x0(r,e){return{usr:r.state,key:r.key,idx:e}}function Ru(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?qa(e):e,state:t,key:e&&e.key||a||cR()}}function Pa({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function qa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function hR(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,c=o.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let F=v(),H=F==null?null:F-g;g=F,m&&m({action:d,location:$.location,delta:H})}function T(F,H){d="PUSH";let ue=Ru($.location,F,H);g=v()+1;let ne=x0(ue,g),pe=$.createHref(ue);try{c.pushState(ne,"",pe)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(pe)}l&&m&&m({action:d,location:$.location,delta:1})}function R(F,H){d="REPLACE";let ue=Ru($.location,F,H);g=v();let ne=x0(ue,g),pe=$.createHref(ue);c.replaceState(ne,"",pe),l&&m&&m({action:d,location:$.location,delta:0})}function I(F){return Bb(F)}let $={get action(){return d},get location(){return r(o,c)},listen(F){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(R0,b),m=F,()=>{o.removeEventListener(R0,b),m=null}},createHref(F){return e(o,F)},createURL:I,encodeLocation(F){let H=I(F);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:R,go(F){return c.go(F)}};return $}function Bb(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Pa(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var hu,C0=class{constructor(r){if(lR(this,hu,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(Fm(this,hu).has(r))return Fm(this,hu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Fm(this,hu).set(r,e)}};hu=new WeakMap;var fR=new Set(["lazy","caseSensitive","path","id","index","children"]);function dR(r){return fR.has(r)}var mR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function pR(r){return mR.has(r)}function gR(r){return r.index===!0}function Uh(r,e,t=[],a={}){return r.map((o,l)=>{let c=[...t,String(l)],d=typeof o.id=="string"?o.id:c.join("-");if(Ge(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ge(!a[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),gR(o)){let m={...o,...e(o),id:d};return a[d]=m,m}else{let m={...o,...e(o),id:d,children:void 0};return a[d]=m,o.children&&(m.children=Uh(o.children,e,c,a)),m}})}function Sa(r,e,t="/"){return Sh(r,e,t,!1)}function Sh(r,e,t,a){let o=typeof e=="string"?qa(e):e,l=wr(o.pathname||"/",t);if(l==null)return null;let c=Fb(r);vR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=IR(l);d=xR(c[m],g,a)}return d}function yR(r,e){let{route:t,pathname:a,params:o}=r;return{id:t.id,pathname:a,params:o,data:e[t.id],handle:t.handle}}function Fb(r,e=[],t=[],a=""){let o=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Ge(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=ri([a,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(Ge(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Fb(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:SR(g,l.index),routesMeta:v})};return r.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let m of qb(l.path))o(l,c,m)}),e}function qb(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let c=qb(a.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&d.push(...c),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function vR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:RR(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var _R=/^:[\w-]+$/,ER=3,bR=2,TR=1,wR=10,AR=-2,I0=r=>r==="*";function SR(r,e){let t=r.split("/"),a=t.length;return t.some(I0)&&(a+=AR),e&&(a+=bR),t.filter(o=>!I0(o)).reduce((o,l)=>o+(_R.test(l)?ER:l===""?TR:wR),a)}function RR(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function xR(r,e,t=!1){let{routesMeta:a}=r,o={},l="/",c=[];for(let d=0;d<a.length;++d){let m=a[d],g=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=jh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!b&&g&&t&&!a[a.length-1].route.index&&(b=jh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:ri([l,b.pathname]),pathnameBase:OR(ri([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=ri([l,b.pathnameBase]))}return c}function jh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=CR(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:b},T)=>{if(v==="*"){let I=d[T]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const R=d[T];return b&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function CR(r,e=!1,t=!0){Ft(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function IR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ft(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function wr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function NR(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?qa(r):r;return{pathname:t?t.startsWith("/")?t:DR(t,e):e,search:MR(a),hash:kR(o)}}function DR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function qm(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hb(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qp(r){let e=Hb(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function Hp(r,e,t,a=!1){let o;typeof r=="string"?o=qa(r):(o={...r},Ge(!o.pathname||!o.pathname.includes("?"),qm("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),qm("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),qm("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!a&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}d=b>=0?e[b]:"/"}let m=NR(o,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var ri=r=>r.join("/").replace(/\/\/+/g,"/"),OR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),MR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,zh=class{constructor(r,e,t,a=!1){this.status=r,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function xu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Gb=["POST","PUT","PATCH","DELETE"],PR=new Set(Gb),VR=["GET",...Gb],LR=new Set(VR),UR=new Set([301,302,303,307,308]),jR=new Set([307,308]),Hm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ou={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BR=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),$b="remix-router-transitions",Kb=Symbol("ResetLoaderData");function FR(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ge(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||BR,l={},c=Uh(r.routes,o,void 0,l),d,m=r.basename||"/",g=r.dataStrategy||KR,v={unstable_middleware:!1,...r.future},b=null,T=new Set,R=null,I=null,$=null,F=r.hydrationData!=null,H=Sa(c,r.history.location,m),ue=!1,ne=null,pe;if(H==null&&!r.patchRoutesOnNavigation){let k=_r(404,{pathname:r.history.location.pathname}),{matches:B,route:Y}=B0(c);pe=!0,H=B,ne={[Y.id]:k}}else if(H&&!r.hydrationData&&Rn(H,c,r.history.location.pathname).active&&(H=null),H)if(H.some(k=>k.route.lazy))pe=!1;else if(!H.some(k=>k.route.loader))pe=!0;else{let k=r.hydrationData?r.hydrationData.loaderData:null,B=r.hydrationData?r.hydrationData.errors:null;if(B){let Y=H.findIndex(ie=>B[ie.route.id]!==void 0);pe=H.slice(0,Y+1).every(ie=>!up(ie.route,k,B))}else pe=H.every(Y=>!up(Y.route,k,B))}else{pe=!1,H=[];let k=Rn(null,c,r.history.location.pathname);k.active&&k.matches&&(ue=!0,H=k.matches)}let de,q={historyAction:r.history.action,location:r.history.location,matches:H,initialized:pe,navigation:Hm,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ne,fetchers:new Map,blockers:new Map},M="POP",x=!1,C,P=!1,U=new Map,j=null,D=!1,je=!1,Fe=new Set,W=new Map,he=0,ge=-1,Le=new Map,O=new Set,re=new Map,fe=new Map,le=new Set,Ae=new Map,qe,xe=null;function kt(){if(b=r.history.listen(({action:k,location:B,delta:Y})=>{if(qe){qe(),qe=void 0;return}Ft(Ae.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Xi({currentLocation:q.location,nextLocation:B,historyAction:k});if(ie&&Y!=null){let ce=new Promise(ye=>{qe=ye});r.history.go(Y*-1),ir(ie,{state:"blocked",location:B,proceed(){ir(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),ce.then(()=>r.history.go(Y))},reset(){let ye=new Map(q.blockers);ye.set(ie,ou),St({blockers:ye})}});return}return An(k,B)}),t){ix(e,U);let k=()=>ax(e,U);e.addEventListener("pagehide",k),j=()=>e.removeEventListener("pagehide",k)}return q.initialized||An("POP",q.location,{initialHydration:!0}),de}function gt(){b&&b(),j&&j(),T.clear(),C&&C.abort(),q.fetchers.forEach((k,B)=>Pt(B)),q.blockers.forEach((k,B)=>di(B))}function tr(k){return T.add(k),()=>T.delete(k)}function St(k,B={}){q={...q,...k};let Y=[],ie=[];q.fetchers.forEach((ce,ye)=>{ce.state==="idle"&&(le.has(ye)?Y.push(ye):ie.push(ye))}),le.forEach(ce=>{!q.fetchers.has(ce)&&!W.has(ce)&&Y.push(ce)}),[...T].forEach(ce=>ce(q,{deletedFetchers:Y,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),Y.forEach(ce=>Pt(ce)),ie.forEach(ce=>q.fetchers.delete(ce))}function mn(k,B,{flushSync:Y}={}){var Se,Ne;let ie=q.actionData!=null&&q.navigation.formMethod!=null&&Zn(q.navigation.formMethod)&&q.navigation.state==="loading"&&((Se=k.state)==null?void 0:Se._isRedirect)!==!0,ce;B.actionData?Object.keys(B.actionData).length>0?ce=B.actionData:ce=null:ie?ce=q.actionData:ce=null;let ye=B.loaderData?j0(q.loaderData,B.loaderData,B.matches||[],B.errors):q.loaderData,Ie=q.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((we,Oe)=>Ie.set(Oe,ou)));let Ee=x===!0||q.navigation.formMethod!=null&&Zn(q.navigation.formMethod)&&((Ne=k.state)==null?void 0:Ne._isRedirect)!==!0;d&&(c=d,d=void 0),D||M==="POP"||(M==="PUSH"?r.history.push(k,k.state):M==="REPLACE"&&r.history.replace(k,k.state));let Te;if(M==="POP"){let we=U.get(q.location.pathname);we&&we.has(k.pathname)?Te={currentLocation:q.location,nextLocation:k}:U.has(k.pathname)&&(Te={currentLocation:k,nextLocation:q.location})}else if(P){let we=U.get(q.location.pathname);we?we.add(k.pathname):(we=new Set([k.pathname]),U.set(q.location.pathname,we)),Te={currentLocation:q.location,nextLocation:k}}St({...B,actionData:ce,loaderData:ye,historyAction:M,location:k,initialized:!0,navigation:Hm,revalidation:"idle",restoreScrollPosition:Wi(k,B.matches||q.matches),preventScrollReset:Ee,blockers:Ie},{viewTransitionOpts:Te,flushSync:Y===!0}),M="POP",x=!1,P=!1,D=!1,je=!1,xe==null||xe.resolve(),xe=null}async function Vr(k,B){if(typeof k=="number"){r.history.go(k);return}let Y=lp(q.location,q.matches,m,k,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:ie,submission:ce,error:ye}=N0(!1,Y,B),Ie=q.location,Ee=Ru(q.location,ie,B&&B.state);Ee={...Ee,...r.history.encodeLocation(Ee)};let Te=B&&B.replace!=null?B.replace:void 0,Se="PUSH";Te===!0?Se="REPLACE":Te===!1||ce!=null&&Zn(ce.formMethod)&&ce.formAction===q.location.pathname+q.location.search&&(Se="REPLACE");let Ne=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,we=(B&&B.flushSync)===!0,Oe=Xi({currentLocation:Ie,nextLocation:Ee,historyAction:Se});if(Oe){ir(Oe,{state:"blocked",location:Ee,proceed(){ir(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Vr(k,B)},reset(){let We=new Map(q.blockers);We.set(Oe,ou),St({blockers:We})}});return}await An(Se,Ee,{submission:ce,pendingError:ye,preventScrollReset:Ne,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:we})}function hi(){xe||(xe=sx()),Qi(),St({revalidation:"loading"});let k=xe.promise;return q.navigation.state==="submitting"?k:q.navigation.state==="idle"?(An(q.historyAction,q.location,{startUninterruptedRevalidation:!0}),k):(An(M||q.historyAction,q.navigation.location,{overrideNavigation:q.navigation,enableViewTransition:P===!0}),k)}async function An(k,B,Y){C&&C.abort(),C=null,M=k,D=(Y&&Y.startUninterruptedRevalidation)===!0,Sr(q.location,q.matches),x=(Y&&Y.preventScrollReset)===!0,P=(Y&&Y.enableViewTransition)===!0;let ie=d||c,ce=Y&&Y.overrideNavigation,ye=Y!=null&&Y.initialHydration&&q.matches&&q.matches.length>0&&!ue?q.matches:Sa(ie,B,m),Ie=(Y&&Y.flushSync)===!0;if(ye&&q.initialized&&!je&&JR(q.location,B)&&!(Y&&Y.submission&&Zn(Y.submission.formMethod))){mn(B,{matches:ye},{flushSync:Ie});return}let Ee=Rn(ye,ie,B.pathname);if(Ee.active&&Ee.matches&&(ye=Ee.matches),!ye){let{error:ot,notFoundMatches:nt,route:Qe}=mi(B.pathname);mn(B,{matches:nt,loaderData:{},errors:{[Qe.id]:ot}},{flushSync:Ie});return}C=new AbortController;let Te=Mo(r.history,B,C.signal,Y&&Y.submission),Se=new C0(r.unstable_getContext?await r.unstable_getContext():void 0),Ne;if(Y&&Y.pendingError)Ne=[xs(ye).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Zn(Y.submission.formMethod)){let ot=await Wa(Te,B,Y.submission,ye,Se,Ee.active,Y&&Y.initialHydration===!0,{replace:Y.replace,flushSync:Ie});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[nt,Qe]=ot.pendingActionResult;if(Wn(Qe)&&xu(Qe.error)&&Qe.error.status===404){C=null,mn(B,{matches:ot.matches,loaderData:{},errors:{[nt]:Qe.error}});return}}ye=ot.matches||ye,Ne=ot.pendingActionResult,ce=Gm(B,Y.submission),Ie=!1,Ee.active=!1,Te=Mo(r.history,Te.url,Te.signal)}let{shortCircuited:we,matches:Oe,loaderData:We,errors:ht}=await $s(Te,B,ye,Se,Ee.active,ce,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ie,Ne);we||(C=null,mn(B,{matches:Oe||ye,...z0(Ne),loaderData:We,errors:ht}))}async function Wa(k,B,Y,ie,ce,ye,Ie,Ee={}){Qi();let Te=nx(B,Y);if(St({navigation:Te},{flushSync:Ee.flushSync===!0}),ye){let we=await zr(ie,B.pathname,k.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let Oe=xs(we.partialMatches).route.id;return{matches:we.partialMatches,pendingActionResult:[Oe,{type:"error",error:we.error}]}}else if(we.matches)ie=we.matches;else{let{notFoundMatches:Oe,error:We,route:ht}=mi(B.pathname);return{matches:Oe,pendingActionResult:[ht.id,{type:"error",error:We}]}}}let Se,Ne=fu(ie,B);if(!Ne.route.action&&!Ne.route.lazy)Se={type:"error",error:_r(405,{method:k.method,pathname:B.pathname,routeId:Ne.route.id})};else{let we=jo(o,l,k,ie,Ne,Ie?[]:a,ce),Oe=await nr(k,we,ce,null);if(Se=Oe[Ne.route.id],!Se){for(let We of ie)if(Oe[We.route.id]){Se=Oe[We.route.id];break}}if(k.signal.aborted)return{shortCircuited:!0}}if(Cs(Se)){let we;return Ee&&Ee.replace!=null?we=Ee.replace:we=V0(Se.response.headers.get("Location"),new URL(k.url),m)===q.location.pathname+q.location.search,await Ar(k,Se,!0,{submission:Y,replace:we}),{shortCircuited:!0}}if(Wn(Se)){let we=xs(ie,Ne.route.id);return(Ee&&Ee.replace)!==!0&&(M="PUSH"),{matches:ie,pendingActionResult:[we.route.id,Se,Ne.route.id]}}return{matches:ie,pendingActionResult:[Ne.route.id,Se]}}async function $s(k,B,Y,ie,ce,ye,Ie,Ee,Te,Se,Ne,we){let Oe=ye||Gm(B,Ie),We=Ie||Ee||q0(Oe),ht=!D&&!Se;if(ce){if(ht){let Vt=Sn(we);St({navigation:Oe,...Vt!==void 0?{actionData:Vt}:{}},{flushSync:Ne})}let Ue=await zr(Y,B.pathname,k.signal);if(Ue.type==="aborted")return{shortCircuited:!0};if(Ue.type==="error"){let Vt=xs(Ue.partialMatches).route.id;return{matches:Ue.partialMatches,loaderData:{},errors:{[Vt]:Ue.error}}}else if(Ue.matches)Y=Ue.matches;else{let{error:Vt,notFoundMatches:Fn,route:On}=mi(B.pathname);return{matches:Fn,loaderData:{},errors:{[On.id]:Vt}}}}let ot=d||c,{dsMatches:nt,revalidatingFetchers:Qe}=D0(k,ie,o,l,r.history,q,Y,We,B,Se?[]:a,Se===!0,je,Fe,le,re,O,ot,m,r.patchRoutesOnNavigation!=null,we);if(ge=++he,!r.dataStrategy&&!nt.some(Ue=>Ue.shouldLoad)&&Qe.length===0){let Ue=Ur();return mn(B,{matches:Y,loaderData:{},errors:we&&Wn(we[1])?{[we[0]]:we[1].error}:null,...z0(we),...Ue?{fetchers:new Map(q.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(ht){let Ue={};if(!ce){Ue.navigation=Oe;let Vt=Sn(we);Vt!==void 0&&(Ue.actionData=Vt)}Qe.length>0&&(Ue.fetchers=sl(Qe)),St(Ue,{flushSync:Ne})}Qe.forEach(Ue=>{rr(Ue.key),Ue.controller&&W.set(Ue.key,Ue.controller)});let sr=()=>Qe.forEach(Ue=>rr(Ue.key));C&&C.signal.addEventListener("abort",sr);let{loaderResults:qt,fetcherResults:xn}=await Yi(nt,Qe,k,ie);if(k.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",sr),Qe.forEach(Ue=>W.delete(Ue.key));let rn=yh(qt);if(rn)return await Ar(k,rn.result,!0,{replace:Te}),{shortCircuited:!0};if(rn=yh(xn),rn)return O.add(rn.key),await Ar(k,rn.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:Fr,errors:Bn}=U0(q,Y,qt,we,Qe,xn);Se&&q.errors&&(Bn={...q.errors,...Bn});let Ji=Ur(),gn=jr(ge),Cn=Ji||gn||Qe.length>0;return{matches:Y,loaderData:Fr,errors:Bn,...Cn?{fetchers:new Map(q.fetchers)}:{}}}function Sn(k){if(k&&!Wn(k[1]))return{[k[0]]:k[1].data};if(q.actionData)return Object.keys(q.actionData).length===0?null:q.actionData}function sl(k){return k.forEach(B=>{let Y=q.fetchers.get(B.key),ie=lu(void 0,Y?Y.data:void 0);q.fetchers.set(B.key,ie)}),new Map(q.fetchers)}async function Za(k,B,Y,ie){rr(k);let ce=(ie&&ie.flushSync)===!0,ye=d||c,Ie=lp(q.location,q.matches,m,Y,B,ie==null?void 0:ie.relative),Ee=Sa(ye,Ie,m),Te=Rn(Ee,ye,Ie);if(Te.active&&Te.matches&&(Ee=Te.matches),!Ee){$e(k,B,_r(404,{pathname:Ie}),{flushSync:ce});return}let{path:Se,submission:Ne,error:we}=N0(!0,Ie,ie);if(we){$e(k,B,we,{flushSync:ce});return}let Oe=fu(Ee,Se),We=new C0(r.unstable_getContext?await r.unstable_getContext():void 0),ht=(ie&&ie.preventScrollReset)===!0;if(Ne&&Zn(Ne.formMethod)){await Ki(k,B,Se,Oe,Ee,We,Te.active,ce,ht,Ne);return}re.set(k,{routeId:B,path:Se}),await fi(k,B,Se,Oe,Ee,We,Te.active,ce,ht,Ne)}async function Ki(k,B,Y,ie,ce,ye,Ie,Ee,Te,Se){Qi(),re.delete(k);function Ne(bt){if(!bt.route.action&&!bt.route.lazy){let or=_r(405,{method:Se.formMethod,pathname:Y,routeId:B});return $e(k,B,or,{flushSync:Ee}),!0}return!1}if(!Ie&&Ne(ie))return;let we=q.fetchers.get(k);ut(k,rx(Se,we),{flushSync:Ee});let Oe=new AbortController,We=Mo(r.history,Y,Oe.signal,Se);if(Ie){let bt=await zr(ce,Y,We.signal,k);if(bt.type==="aborted")return;if(bt.type==="error"){$e(k,B,bt.error,{flushSync:Ee});return}else if(bt.matches){if(ce=bt.matches,ie=fu(ce,Y),Ne(ie))return}else{$e(k,B,_r(404,{pathname:Y}),{flushSync:Ee});return}}W.set(k,Oe);let ht=he,ot=jo(o,l,We,ce,ie,a,ye),Qe=(await nr(We,ot,ye,k))[ie.route.id];if(We.signal.aborted){W.get(k)===Oe&&W.delete(k);return}if(le.has(k)){if(Cs(Qe)||Wn(Qe)){ut(k,Aa(void 0));return}}else{if(Cs(Qe))if(W.delete(k),ge>ht){ut(k,Aa(void 0));return}else return O.add(k),ut(k,lu(Se)),Ar(We,Qe,!1,{fetcherSubmission:Se,preventScrollReset:Te});if(Wn(Qe)){$e(k,B,Qe.error);return}}let sr=q.navigation.location||q.location,qt=Mo(r.history,sr,Oe.signal),xn=d||c,rn=q.navigation.state!=="idle"?Sa(xn,q.navigation.location,m):q.matches;Ge(rn,"Didn't find any matches after fetcher action");let Fr=++he;Le.set(k,Fr);let Bn=lu(Se,Qe.data);q.fetchers.set(k,Bn);let{dsMatches:Ji,revalidatingFetchers:gn}=D0(qt,ye,o,l,r.history,q,rn,Se,sr,a,!1,je,Fe,le,re,O,xn,m,r.patchRoutesOnNavigation!=null,[ie.route.id,Qe]);gn.filter(bt=>bt.key!==k).forEach(bt=>{let or=bt.key,pi=q.fetchers.get(or),an=lu(void 0,pi?pi.data:void 0);q.fetchers.set(or,an),rr(or),bt.controller&&W.set(or,bt.controller)}),St({fetchers:new Map(q.fetchers)});let Cn=()=>gn.forEach(bt=>rr(bt.key));Oe.signal.addEventListener("abort",Cn);let{loaderResults:Ue,fetcherResults:Vt}=await Yi(Ji,gn,qt,ye);if(Oe.signal.aborted)return;if(Oe.signal.removeEventListener("abort",Cn),Le.delete(k),W.delete(k),gn.forEach(bt=>W.delete(bt.key)),q.fetchers.has(k)){let bt=Aa(Qe.data);q.fetchers.set(k,bt)}let Fn=yh(Ue);if(Fn)return Ar(qt,Fn.result,!1,{preventScrollReset:Te});if(Fn=yh(Vt),Fn)return O.add(Fn.key),Ar(qt,Fn.result,!1,{preventScrollReset:Te});let{loaderData:On,errors:qr}=U0(q,rn,Ue,void 0,gn,Vt);jr(Fr),q.navigation.state==="loading"&&Fr>ge?(Ge(M,"Expected pending action"),C&&C.abort(),mn(q.navigation.location,{matches:rn,loaderData:On,errors:qr,fetchers:new Map(q.fetchers)})):(St({errors:qr,loaderData:j0(q.loaderData,On,rn,qr),fetchers:new Map(q.fetchers)}),je=!1)}async function fi(k,B,Y,ie,ce,ye,Ie,Ee,Te,Se){let Ne=q.fetchers.get(k);ut(k,lu(Se,Ne?Ne.data:void 0),{flushSync:Ee});let we=new AbortController,Oe=Mo(r.history,Y,we.signal);if(Ie){let Qe=await zr(ce,Y,Oe.signal,k);if(Qe.type==="aborted")return;if(Qe.type==="error"){$e(k,B,Qe.error,{flushSync:Ee});return}else if(Qe.matches)ce=Qe.matches,ie=fu(ce,Y);else{$e(k,B,_r(404,{pathname:Y}),{flushSync:Ee});return}}W.set(k,we);let We=he,ht=jo(o,l,Oe,ce,ie,a,ye),nt=(await nr(Oe,ht,ye,k))[ie.route.id];if(W.get(k)===we&&W.delete(k),!Oe.signal.aborted){if(le.has(k)){ut(k,Aa(void 0));return}if(Cs(nt))if(ge>We){ut(k,Aa(void 0));return}else{O.add(k),await Ar(Oe,nt,!1,{preventScrollReset:Te});return}if(Wn(nt)){$e(k,B,nt.error);return}ut(k,Aa(nt.data))}}async function Ar(k,B,Y,{submission:ie,fetcherSubmission:ce,preventScrollReset:ye,replace:Ie}={}){B.response.headers.has("X-Remix-Revalidate")&&(je=!0);let Ee=B.response.headers.get("Location");Ge(Ee,"Expected a Location header on the redirect Response"),Ee=V0(Ee,new URL(k.url),m);let Te=Ru(q.location,Ee,{_isRedirect:!0});if(t){let ht=!1;if(B.response.headers.has("X-Remix-Reload-Document"))ht=!0;else if(Gp.test(Ee)){const ot=Bb(Ee,!0);ht=ot.origin!==e.location.origin||wr(ot.pathname,m)==null}if(ht){Ie?e.location.replace(Ee):e.location.assign(Ee);return}}C=null;let Se=Ie===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:we,formEncType:Oe}=q.navigation;!ie&&!ce&&Ne&&we&&Oe&&(ie=q0(q.navigation));let We=ie||ce;if(jR.has(B.response.status)&&We&&Zn(We.formMethod))await An(Se,Te,{submission:{...We,formAction:Ee},preventScrollReset:ye||x,enableViewTransition:Y?P:void 0});else{let ht=Gm(Te,ie);await An(Se,Te,{overrideNavigation:ht,fetcherSubmission:ce,preventScrollReset:ye||x,enableViewTransition:Y?P:void 0})}}async function nr(k,B,Y,ie){let ce,ye={};try{ce=await YR(g,k,B,ie,Y,!1)}catch(Ie){return B.filter(Ee=>Ee.shouldLoad).forEach(Ee=>{ye[Ee.route.id]={type:"error",error:Ie}}),ye}if(k.signal.aborted)return ye;for(let[Ie,Ee]of Object.entries(ce))if(ex(Ee)){let Te=Ee.result;ye[Ie]={type:"redirect",response:WR(Te,k,Ie,B,m)}}else ye[Ie]=await XR(Ee);return ye}async function Yi(k,B,Y,ie){let ce=nr(Y,k,ie,null),ye=Promise.all(B.map(async Te=>{if(Te.matches&&Te.match&&Te.request&&Te.controller){let Ne=(await nr(Te.request,Te.matches,ie,Te.key))[Te.match.route.id];return{[Te.key]:Ne}}else return Promise.resolve({[Te.key]:{type:"error",error:_r(404,{pathname:Te.path})}})})),Ie=await ce,Ee=(await ye).reduce((Te,Se)=>Object.assign(Te,Se),{});return{loaderResults:Ie,fetcherResults:Ee}}function Qi(){je=!0,re.forEach((k,B)=>{W.has(B)&&Fe.add(B),rr(B)})}function ut(k,B,Y={}){q.fetchers.set(k,B),St({fetchers:new Map(q.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function $e(k,B,Y,ie={}){let ce=xs(q.matches,B);Pt(k),St({errors:{[ce.route.id]:Y},fetchers:new Map(q.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function pn(k){return fe.set(k,(fe.get(k)||0)+1),le.has(k)&&le.delete(k),q.fetchers.get(k)||zR}function Pt(k){let B=q.fetchers.get(k);W.has(k)&&!(B&&B.state==="loading"&&Le.has(k))&&rr(k),re.delete(k),Le.delete(k),O.delete(k),le.delete(k),Fe.delete(k),q.fetchers.delete(k)}function Ks(k){let B=(fe.get(k)||0)-1;B<=0?(fe.delete(k),le.add(k)):fe.set(k,B),St({fetchers:new Map(q.fetchers)})}function rr(k){let B=W.get(k);B&&(B.abort(),W.delete(k))}function Lr(k){for(let B of k){let Y=pn(B),ie=Aa(Y.data);q.fetchers.set(B,ie)}}function Ur(){let k=[],B=!1;for(let Y of O){let ie=q.fetchers.get(Y);Ge(ie,`Expected fetcher: ${Y}`),ie.state==="loading"&&(O.delete(Y),k.push(Y),B=!0)}return Lr(k),B}function jr(k){let B=[];for(let[Y,ie]of Le)if(ie<k){let ce=q.fetchers.get(Y);Ge(ce,`Expected fetcher: ${Y}`),ce.state==="loading"&&(rr(Y),Le.delete(Y),B.push(Y))}return Lr(B),B.length>0}function zn(k,B){let Y=q.blockers.get(k)||ou;return Ae.get(k)!==B&&Ae.set(k,B),Y}function di(k){q.blockers.delete(k),Ae.delete(k)}function ir(k,B){let Y=q.blockers.get(k)||ou;Ge(Y.state==="unblocked"&&B.state==="blocked"||Y.state==="blocked"&&B.state==="blocked"||Y.state==="blocked"&&B.state==="proceeding"||Y.state==="blocked"&&B.state==="unblocked"||Y.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${B.state}`);let ie=new Map(q.blockers);ie.set(k,B),St({blockers:ie})}function Xi({currentLocation:k,nextLocation:B,historyAction:Y}){if(Ae.size===0)return;Ae.size>1&&Ft(!1,"A router only supports one blocker at a time");let ie=Array.from(Ae.entries()),[ce,ye]=ie[ie.length-1],Ie=q.blockers.get(ce);if(!(Ie&&Ie.state==="proceeding")&&ye({currentLocation:k,nextLocation:B,historyAction:Y}))return ce}function mi(k){let B=_r(404,{pathname:k}),Y=d||c,{matches:ie,route:ce}=B0(Y);return{notFoundMatches:ie,route:ce,error:B}}function Ja(k,B,Y){if(R=k,$=B,I=Y||null,!F&&q.navigation===Hm){F=!0;let ie=Wi(q.location,q.matches);ie!=null&&St({restoreScrollPosition:ie})}return()=>{R=null,$=null,I=null}}function ar(k,B){return I&&I(k,B.map(ie=>yR(ie,q.loaderData)))||k.key}function Sr(k,B){if(R&&$){let Y=ar(k,B);R[Y]=$()}}function Wi(k,B){if(R){let Y=ar(k,B),ie=R[Y];if(typeof ie=="number")return ie}return null}function Rn(k,B,Y){if(r.patchRoutesOnNavigation)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:Sh(B,Y,m,!0)}}else return{active:!0,matches:Sh(B,Y,m,!0)||[]};return{active:!1,matches:null}}async function zr(k,B,Y,ie){if(!r.patchRoutesOnNavigation)return{type:"success",matches:k};let ce=k;for(;;){let ye=d==null,Ie=d||c,Ee=l;try{await r.patchRoutesOnNavigation({signal:Y,path:B,matches:ce,fetcherKey:ie,patch:(Ne,we)=>{Y.aborted||O0(Ne,we,Ie,Ee,o)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:ce}}finally{ye&&!Y.aborted&&(c=[...c])}if(Y.aborted)return{type:"aborted"};let Te=Sa(Ie,B,m);if(Te)return{type:"success",matches:Te};let Se=Sh(Ie,B,m,!0);if(!Se||ce.length===Se.length&&ce.every((Ne,we)=>Ne.route.id===Se[we].route.id))return{type:"success",matches:null};ce=Se}}function Br(k){l={},d=Uh(k,o,void 0,l)}function Zi(k,B){let Y=d==null;O0(k,B,d||c,l,o),Y&&(c=[...c],St({}))}return de={get basename(){return m},get future(){return v},get state(){return q},get routes(){return c},get window(){return e},initialize:kt,subscribe:tr,enableScrollRestoration:Ja,navigate:Vr,fetch:Za,revalidate:hi,createHref:k=>r.history.createHref(k),encodeLocation:k=>r.history.encodeLocation(k),getFetcher:pn,deleteFetcher:Ks,dispose:gt,getBlocker:zn,deleteBlocker:di,patchRoutes:Zi,_internalFetchControllers:W,_internalSetRoutes:Br},de}function qR(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function lp(r,e,t,a,o,l){let c,d;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){d=g;break}}else c=e,d=e[e.length-1];let m=Hp(a||".",qp(c),wr(r.pathname,t)||r.pathname,l==="path");if(a==null&&(m.search=r.search,m.hash=r.hash),(a==null||a===""||a===".")&&d){let g=$p(m.search);if(d.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let v=new URLSearchParams(m.search),b=v.getAll("index");v.delete("index"),b.filter(R=>R).forEach(R=>v.append("index",R));let T=v.toString();m.search=T?`?${T}`:""}}return t!=="/"&&(m.pathname=m.pathname==="/"?t:ri([t,m.pathname])),Pa(m)}function N0(r,e,t){if(!t||!qR(t))return{path:e};if(t.formMethod&&!tx(t.formMethod))return{path:e,error:_r(405,{method:t.formMethod})};let a=()=>({path:e,error:_r(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=Jb(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Zn(l))return a();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((T,[R,I])=>`${T}${R}=${I}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!Zn(l))return a();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return a()}}}Ge(typeof FormData=="function","FormData is not available in this environment");let d,m;if(t.formData)d=hp(t.formData),m=t.formData;else if(t.body instanceof FormData)d=hp(t.body),m=t.body;else if(t.body instanceof URLSearchParams)d=t.body,m=L0(d);else if(t.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(t.body),m=L0(d)}catch{return a()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Zn(g.formMethod))return{path:e,submission:g};let v=qa(e);return r&&v.search&&$p(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Pa(v),submission:g}}function D0(r,e,t,a,o,l,c,d,m,g,v,b,T,R,I,$,F,H,ue,ne){var D;let pe=ne?Wn(ne[1])?ne[1].error:ne[1].data:void 0,de=o.createURL(l.location),q=o.createURL(m),M;if(v&&l.errors){let je=Object.keys(l.errors)[0];M=c.findIndex(Fe=>Fe.route.id===je)}else if(ne&&Wn(ne[1])){let je=ne[0];M=c.findIndex(Fe=>Fe.route.id===je)-1}let x=ne?ne[1].statusCode:void 0,C=x&&x>=400,P={currentUrl:de,currentParams:((D=l.matches[0])==null?void 0:D.params)||{},nextUrl:q,nextParams:c[0].params,...d,actionResult:pe,actionStatus:x},U=c.map((je,Fe)=>{let{route:W}=je,he=null;if(M!=null&&Fe>M?he=!1:W.lazy?he=!0:W.loader==null?he=!1:v?he=up(W,l.loaderData,l.errors):HR(l.loaderData,l.matches[Fe],je)&&(he=!0),he!==null)return cp(t,a,r,je,g,e,he);let ge=C?!1:b||de.pathname+de.search===q.pathname+q.search||de.search!==q.search||GR(l.matches[Fe],je),Le={...P,defaultShouldRevalidate:ge},O=Bh(je,Le);return cp(t,a,r,je,g,e,O,Le)}),j=[];return I.forEach((je,Fe)=>{if(v||!c.some(le=>le.route.id===je.routeId)||R.has(Fe))return;let W=l.fetchers.get(Fe),he=W&&W.state!=="idle"&&W.data===void 0,ge=Sa(F,je.path,H);if(!ge){if(ue&&he)return;j.push({key:Fe,routeId:je.routeId,path:je.path,matches:null,match:null,request:null,controller:null});return}if($.has(Fe))return;let Le=fu(ge,je.path),O=new AbortController,re=Mo(o,je.path,O.signal),fe=null;if(T.has(Fe))T.delete(Fe),fe=jo(t,a,re,ge,Le,g,e);else if(he)b&&(fe=jo(t,a,re,ge,Le,g,e));else{let le={...P,defaultShouldRevalidate:C?!1:b};Bh(Le,le)&&(fe=jo(t,a,re,ge,Le,g,e,le))}fe&&j.push({key:Fe,routeId:je.routeId,path:je.path,matches:fe,match:Le,request:re,controller:O})}),{dsMatches:U,revalidatingFetchers:j}}function up(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=t!=null&&t[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function HR(r,e,t){let a=!e||t.route.id!==e.route.id,o=!r.hasOwnProperty(t.route.id);return a||o}function GR(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Bh(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function O0(r,e,t,a,o){let l;if(r){let m=a[r];Ge(m,`No route found to patch children into: routeId = ${r}`),m.children||(m.children=[]),l=m.children}else l=t;let c=e.filter(m=>!l.some(g=>Yb(m,g))),d=Uh(c,o,[r||"_","patch",String((l==null?void 0:l.length)||"0")],a);l.push(...d)}function Yb(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,a)=>{var o;return(o=e.children)==null?void 0:o.some(l=>Yb(t,l))}):!1}var M0=new WeakMap,Qb=({key:r,route:e,manifest:t,mapRouteProperties:a})=>{let o=t[e.id];if(Ge(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[r];if(!l)return;let c=M0.get(o);c||(c={},M0.set(o,c));let d=c[r];if(d)return d;let m=(async()=>{let g=dR(r),b=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)Ft(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),c[r]=Promise.resolve();else if(b)Ft(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let T=await l();T!=null&&(Object.assign(o,{[r]:T}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(T=>T===void 0)&&(o.lazy=void 0))})();return c[r]=m,m},k0=new WeakMap;function $R(r,e,t,a,o){let l=t[r.id];if(Ge(l,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=k0.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let b=(async()=>{Ge(typeof r.lazy=="function","No lazy route function found");let T=await r.lazy(),R={};for(let I in T){let $=T[I];if($===void 0)continue;let F=pR(I),ue=l[I]!==void 0&&I!=="hasErrorBoundary";F?Ft(!F,"Route property "+I+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ue?Ft(!ue,`Route "${l.id}" has a static property "${I}" defined but its lazy function is also returning a value for this property. The lazy route property "${I}" will be ignored.`):R[I]=$}Object.assign(l,R),Object.assign(l,{...a(l),lazy:void 0})})();return k0.set(l,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let c=Object.keys(r.lazy),d=[],m;for(let v of c){if(o&&o.includes(v))continue;let b=Qb({key:v,route:r,manifest:t,mapRouteProperties:a});b&&(d.push(b),v===e&&(m=b))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g==null||g.catch(()=>{}),m==null||m.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function P0(r){let e=r.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,l)=>{t[e[l].route.id]=o}),t}async function KR(r){return r.matches.some(e=>e.route.unstable_middleware)?Xb(r,!1,()=>P0(r),(e,t)=>({[t]:{type:"error",result:e}})):P0(r)}async function Xb(r,e,t,a){let{matches:o,request:l,params:c,context:d}=r,m={handlerResult:void 0};try{let g=o.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(T=>[b.route.id,T]):[]),v=await Wb({request:l,params:c,context:d},g,e,m,t);return e?v:m.handlerResult}catch(g){if(!m.middlewareError)throw g;let v=await a(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,v):v}}async function Wb(r,e,t,a,o,l=0){let{request:c}=r;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[l];if(!d)return a.handlerResult=await o(),a.handlerResult;let[m,g]=d,v=!1,b,T=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await Wb(r,e,t,a,o,l+1)};try{let R=await g({request:r.request,params:r.params,context:r.context},T);return v?R===void 0?b:R:T()}catch(R){throw a.middlewareError?a.middlewareError.error!==R&&(a.middlewareError={routeId:m,error:R}):a.middlewareError={routeId:m,error:R},R}}function Zb(r,e,t,a,o){let l=Qb({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),c=$R(a.route,Zn(t.method)?"action":"loader",e,r,o);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function cp(r,e,t,a,o,l,c,d=null){let m=!1,g=Zb(r,e,t,a,o);return{...a,_lazyPromises:g,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return m=!0,d?typeof v=="boolean"?Bh(a,{...d,defaultShouldRevalidate:v}):Bh(a,d):c},resolve(v){return m||c||v&&t.method==="GET"&&(a.route.lazy||a.route.loader)?QR({request:t,match:a,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function jo(r,e,t,a,o,l,c,d=null){return a.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:Zb(r,e,t,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:cp(r,e,t,m,l,c,!0,d))}async function YR(r,e,t,a,o,l){t.some(g=>{var v;return(v=g._lazyPromises)==null?void 0:v.middleware})&&await Promise.all(t.map(g=>{var v;return(v=g._lazyPromises)==null?void 0:v.middleware}));let c={request:e,params:t[0].params,context:o,matches:t},m=await r({...c,fetcherKey:a,unstable_runClientMiddleware:g=>{let v=c;return Xb(v,!1,()=>g({...v,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,T)=>({[T]:{type:"error",result:b}}))}});try{await Promise.all(t.flatMap(g=>{var v,b;return[(v=g._lazyPromises)==null?void 0:v.handler,(b=g._lazyPromises)==null?void 0:b.route]}))}catch{}return m}async function QR({request:r,match:e,lazyHandlerPromise:t,lazyRoutePromise:a,handlerOverride:o,scopedContext:l}){let c,d,m=Zn(r.method),g=m?"action":"loader",v=b=>{let T,R=new Promise((F,H)=>T=H);d=()=>T(),r.signal.addEventListener("abort",d);let I=F=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):b({request:r,params:e.params,context:l},...F!==void 0?[F]:[]),$=(async()=>{try{return{type:"data",result:await(o?o(H=>I(H)):I())}}catch(F){return{type:"error",result:F}}})();return Promise.race([$,R])};try{let b=m?e.route.action:e.route.loader;if(t||a)if(b){let T,[R]=await Promise.all([v(b).catch(I=>{T=I}),t,a]);if(T!==void 0)throw T;c=R}else{await t;let T=m?e.route.action:e.route.loader;if(T)[c]=await Promise.all([v(T),a]);else if(g==="action"){let R=new URL(r.url),I=R.pathname+R.search;throw _r(405,{method:r.method,pathname:I,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)c=await v(b);else{let T=new URL(r.url),R=T.pathname+T.search;throw _r(404,{pathname:R})}}catch(b){return{type:"error",result:b}}finally{d&&r.signal.removeEventListener("abort",d)}return c}async function XR(r){var a,o,l,c,d,m;let{result:e,type:t}=r;if(eT(e)){let g;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(v){return{type:"error",error:v}}return t==="error"?{type:"error",error:new zh(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return t==="error"?F0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new zh(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:xu(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:xu(e)?e.status:void 0}:F0(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function WR(r,e,t,a,o){let l=r.headers.get("Location");if(Ge(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gp.test(l)){let c=a.slice(0,a.findIndex(d=>d.route.id===t)+1);l=lp(new URL(e.url),c,o,l),r.headers.set("Location",l)}return r}function V0(r,e,t){if(Gp.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=wr(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return r}function Mo(r,e,t,a){let o=r.createURL(Jb(e)).toString(),l={signal:t};if(a&&Zn(a.formMethod)){let{formMethod:c,formEncType:d}=a;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=hp(a.formData):l.body=a.formData}return new Request(o,l)}function hp(r){let e=new URLSearchParams;for(let[t,a]of r.entries())e.append(t,typeof a=="string"?a:a.name);return e}function L0(r){let e=new FormData;for(let[t,a]of r.entries())e.append(t,a);return e}function ZR(r,e,t,a=!1,o=!1){let l={},c=null,d,m=!1,g={},v=t&&Wn(t[1])?t[1].error:void 0;return r.forEach(b=>{if(!(b.route.id in e))return;let T=b.route.id,R=e[T];if(Ge(!Cs(R),"Cannot handle redirect results in processLoaderData"),Wn(R)){let I=R.error;if(v!==void 0&&(I=v,v=void 0),c=c||{},o)c[T]=I;else{let $=xs(r,T);c[$.route.id]==null&&(c[$.route.id]=I)}a||(l[T]=Kb),m||(m=!0,d=xu(R.error)?R.error.status:500),R.headers&&(g[T]=R.headers)}else l[T]=R.data,R.statusCode&&R.statusCode!==200&&!m&&(d=R.statusCode),R.headers&&(g[T]=R.headers)}),v!==void 0&&t&&(c={[t[0]]:v},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function U0(r,e,t,a,o,l){let{loaderData:c,errors:d}=ZR(e,t,a);return o.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:v,controller:b}=m,T=l[g];if(Ge(T,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Wn(T)){let R=xs(r.matches,v==null?void 0:v.route.id);d&&d[R.route.id]||(d={...d,[R.route.id]:T.error}),r.fetchers.delete(g)}else if(Cs(T))Ge(!1,"Unhandled fetcher revalidation redirect");else{let R=Aa(T.data);r.fetchers.set(g,R)}}),{loaderData:c,errors:d}}function j0(r,e,t,a){let o=Object.entries(e).filter(([,l])=>l!==Kb).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&r.hasOwnProperty(c)&&l.route.loader&&(o[c]=r[c]),a&&a.hasOwnProperty(c))break}return o}function z0(r){return r?Wn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function xs(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function B0(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _r(r,{pathname:e,routeId:t,method:a,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(c="Bad Request",a&&e&&t?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):r===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):r===404?(c="Not Found",d=`No route matches URL "${e}"`):r===405&&(c="Method Not Allowed",a&&e&&t?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new zh(r||500,c,new Error(d),!0)}function yh(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[a,o]=e[t];if(Cs(o))return{key:a,result:o}}}function Jb(r){let e=typeof r=="string"?qa(r):r;return Pa({...e,hash:""})}function JR(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function ex(r){return eT(r.result)&&UR.has(r.result.status)}function Wn(r){return r.type==="error"}function Cs(r){return(r&&r.type)==="redirect"}function F0(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function eT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function tx(r){return LR.has(r.toUpperCase())}function Zn(r){return PR.has(r.toUpperCase())}function $p(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function fu(r,e){let t=typeof e=="string"?qa(e).search:e.search;if(r[r.length-1].route.index&&$p(t||""))return r[r.length-1];let a=Hb(r);return a[a.length-1]}function q0(r){let{formMethod:e,formAction:t,formEncType:a,text:o,formData:l,json:c}=r;if(!(!e||!t||!a)){if(o!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:a,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:c,text:void 0}}}function Gm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nx(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function lu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rx(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Aa(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function ix(r,e){try{let t=r.sessionStorage.getItem($b);if(t){let a=JSON.parse(t);for(let[o,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function ax(r,e){if(e.size>0){let t={};for(let[a,o]of e)t[a]=[...o];try{r.sessionStorage.setItem($b,JSON.stringify(t))}catch(a){Ft(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function sx(){let r,e,t=new Promise((a,o)=>{r=async l=>{a(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var zs=L.createContext(null);zs.displayName="DataRouter";var zu=L.createContext(null);zu.displayName="DataRouterState";var Kp=L.createContext({isTransitioning:!1});Kp.displayName="ViewTransition";var tT=L.createContext(new Map);tT.displayName="Fetchers";var ox=L.createContext(null);ox.displayName="Await";var ci=L.createContext(null);ci.displayName="Navigation";var cf=L.createContext(null);cf.displayName="Location";var Gi=L.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var Yp=L.createContext(null);Yp.displayName="RouteError";function lx(r,{relative:e}={}){Ge(Bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=L.useContext(ci),{hash:o,pathname:l,search:c}=Fu(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ri([t,l])),a.createHref({pathname:d,search:c,hash:o})}function Bu(){return L.useContext(cf)!=null}function Bs(){return Ge(Bu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(cf).location}var nT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rT(r){L.useContext(ci).static||L.useLayoutEffect(r)}function Ha(){let{isDataRoute:r}=L.useContext(Gi);return r?bx():ux()}function ux(){Ge(Bu(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(zs),{basename:e,navigator:t}=L.useContext(ci),{matches:a}=L.useContext(Gi),{pathname:o}=Bs(),l=JSON.stringify(qp(a)),c=L.useRef(!1);return rT(()=>{c.current=!0}),L.useCallback((m,g={})=>{if(Ft(c.current,nT),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=Hp(m,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ri([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,o,r])}L.createContext(null);function Fu(r,{relative:e}={}){let{matches:t}=L.useContext(Gi),{pathname:a}=Bs(),o=JSON.stringify(qp(t));return L.useMemo(()=>Hp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function cx(r,e,t,a){Ge(Bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(ci),{matches:l}=L.useContext(Gi),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let H=v&&v.path||"";iT(m,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=Bs(),T;T=b;let R=T.pathname||"/",I=R;if(g!=="/"){let H=g.replace(/^\//,"").split("/");I="/"+R.replace(/^\//,"").split("/").slice(H.length).join("/")}let $=Sa(r,{pathname:I});return Ft(v||$!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ft($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),px($&&$.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:ri([g,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:ri([g,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,a)}function hx(){let r=Ex(),e=xu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,c)}var fx=L.createElement(hx,null),dx=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?L.createElement(Gi.Provider,{value:this.props.routeContext},L.createElement(Yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mx({routeContext:r,match:e,children:t}){let a=L.useContext(zs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Gi.Provider,{value:r},t)}function px(r,e=[],t=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let m=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Ge(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:b}=t,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let b,T=!1,R=null,I=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,R=g.route.errorElement||fx,c&&(d<0&&v===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,I=null):d===v&&(T=!0,I=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,v+1)),F=()=>{let H;return b?H=R:T?H=I:g.route.Component?H=L.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=m,L.createElement(mx,{match:g,routeContext:{outlet:m,matches:$,isDataRoute:t!=null},children:H})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?L.createElement(dx,{location:t.location,revalidation:t.revalidation,component:R,error:b,children:F(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):F()},null)}function Qp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gx(r){let e=L.useContext(zs);return Ge(e,Qp(r)),e}function yx(r){let e=L.useContext(zu);return Ge(e,Qp(r)),e}function vx(r){let e=L.useContext(Gi);return Ge(e,Qp(r)),e}function Xp(r){let e=vx(r),t=e.matches[e.matches.length-1];return Ge(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function _x(){return Xp("useRouteId")}function Ex(){var a;let r=L.useContext(Yp),e=yx("useRouteError"),t=Xp("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[t]}function bx(){let{router:r}=gx("useNavigate"),e=Xp("useNavigate"),t=L.useRef(!1);return rT(()=>{t.current=!0}),L.useCallback(async(o,l={})=>{Ft(t.current,nT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var H0={};function iT(r,e,t){!e&&!H0[r]&&(H0[r]=!0,Ft(!1,t))}var G0={};function $0(r,e){!r&&!G0[e]&&(G0[e]=!0,console.warn(e))}function Tx(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Ft(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:L.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Ft(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:L.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Ft(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:L.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var wx=["HydrateFallback","hydrateFallbackElement"],Ax=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function Sx({router:r,flushSync:e}){let[t,a]=L.useState(r.state),[o,l]=L.useState(),[c,d]=L.useState({isTransitioning:!1}),[m,g]=L.useState(),[v,b]=L.useState(),[T,R]=L.useState(),I=L.useRef(new Map),$=L.useCallback((ne,{deletedFetchers:pe,flushSync:de,viewTransitionOpts:q})=>{ne.fetchers.forEach((x,C)=>{x.data!==void 0&&I.current.set(C,x.data)}),pe.forEach(x=>I.current.delete(x)),$0(de===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if($0(q==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!q||!M){e&&de?e(()=>a(ne)):L.startTransition(()=>a(ne));return}if(e&&de){e(()=>{v&&(m&&m.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:q.currentLocation,nextLocation:q.nextLocation})});let x=r.window.document.startViewTransition(()=>{e(()=>a(ne))});x.finished.finally(()=>{e(()=>{g(void 0),b(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>b(x));return}v?(m&&m.resolve(),v.skipTransition(),R({state:ne,currentLocation:q.currentLocation,nextLocation:q.nextLocation})):(l(ne),d({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}))},[r.window,e,v,m]);L.useLayoutEffect(()=>r.subscribe($),[r,$]),L.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new Ax)},[c]),L.useEffect(()=>{if(m&&o&&r.window){let ne=o,pe=m.promise,de=r.window.document.startViewTransition(async()=>{L.startTransition(()=>a(ne)),await pe});de.finished.finally(()=>{g(void 0),b(void 0),l(void 0),d({isTransitioning:!1})}),b(de)}},[o,m,r.window]),L.useEffect(()=>{m&&o&&t.location.key===o.location.key&&m.resolve()},[m,v,t.location,o]),L.useEffect(()=>{!c.isTransitioning&&T&&(l(T.state),d({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),R(void 0))},[c.isTransitioning,T]);let F=L.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ne=>r.navigate(ne),push:(ne,pe,de)=>r.navigate(ne,{state:pe,preventScrollReset:de==null?void 0:de.preventScrollReset}),replace:(ne,pe,de)=>r.navigate(ne,{replace:!0,state:pe,preventScrollReset:de==null?void 0:de.preventScrollReset})}),[r]),H=r.basename||"/",ue=L.useMemo(()=>({router:r,navigator:F,static:!1,basename:H}),[r,F,H]);return L.createElement(L.Fragment,null,L.createElement(zs.Provider,{value:ue},L.createElement(zu.Provider,{value:t},L.createElement(tT.Provider,{value:I.current},L.createElement(Kp.Provider,{value:c},L.createElement(Cx,{basename:H,location:t.location,navigationType:t.historyAction,navigator:F},L.createElement(Rx,{routes:r.routes,future:r.future,state:t})))))),null)}var Rx=L.memo(xx);function xx({routes:r,future:e,state:t}){return cx(r,void 0,t,e)}function Dn(r){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Cx({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:l=!1}){Ge(!Bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=qa(t));let{pathname:m="/",search:g="",hash:v="",state:b=null,key:T="default"}=t,R=L.useMemo(()=>{let I=wr(m,c);return I==null?null:{location:{pathname:I,search:g,hash:v,state:b,key:T},navigationType:a}},[c,m,g,v,b,T,a]);return Ft(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:L.createElement(ci.Provider,{value:d},L.createElement(cf.Provider,{children:e,value:R}))}function fp(r,e=[]){let t=[];return L.Children.forEach(r,(a,o)=>{if(!L.isValidElement(a))return;let l=[...e,o];if(a.type===L.Fragment){t.push.apply(t,fp(a.props.children,l));return}Ge(a.type===Dn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=fp(a.props.children,l)),t.push(c)}),t}var Ix=fp,Rh="get",xh="application/x-www-form-urlencoded";function hf(r){return r!=null&&typeof r.tagName=="string"}function Nx(r){return hf(r)&&r.tagName.toLowerCase()==="button"}function Dx(r){return hf(r)&&r.tagName.toLowerCase()==="form"}function Ox(r){return hf(r)&&r.tagName.toLowerCase()==="input"}function Mx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kx(r,e){return r.button===0&&(!e||e==="_self")&&!Mx(r)}var vh=null;function Px(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var Vx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(r){return r!=null&&!Vx.has(r)?(Ft(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):r}function Lx(r,e){let t,a,o,l,c;if(Dx(r)){let d=r.getAttribute("action");a=d?wr(d,e):null,t=r.getAttribute("method")||Rh,o=$m(r.getAttribute("enctype"))||xh,l=new FormData(r)}else if(Nx(r)||Ox(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(a=m?wr(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Rh,o=$m(r.getAttribute("formenctype"))||$m(d.getAttribute("enctype"))||xh,l=new FormData(d,r),!Px()){let{name:g,type:v,value:b}=r;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,b)}}else{if(hf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Rh,a=null,o=xh,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Wp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Ux(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function zx(r,e,t){let a=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await Ux(l,t);return c.links?c.links():[]}return[]}));return Hx(a.flat(1).filter(jx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function K0(r,e,t,a,o,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var v;return t[g].pathname!==m.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var b;let v=a.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Bx(r,e,{includeHydrateFallback:t}={}){return Fx(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Fx(r){return[...new Set(r)]}function qx(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function Hx(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let l=JSON.stringify(qx(o));return t.has(l)||(t.add(l),a.push({key:l,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gx=new Set([100,101,204,205]);function $x(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&wr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function aT(){let r=L.useContext(zs);return Wp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Kx(){let r=L.useContext(zu);return Wp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zp=L.createContext(void 0);Zp.displayName="FrameworkContext";function sT(){let r=L.useContext(Zp);return Wp(r,"You must render this element inside a <HydratedRouter> element"),r}function Yx(r,e){let t=L.useContext(Zp),[a,o]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,T=L.useRef(null);L.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let $=H=>{H.forEach(ue=>{c(ue.isIntersecting)})},F=new IntersectionObserver($,{threshold:.5});return T.current&&F.observe(T.current),()=>{F.disconnect()}}},[r]),L.useEffect(()=>{if(a){let $=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout($)}}},[a]);let R=()=>{o(!0)},I=()=>{o(!1),c(!1)};return t?r!=="intent"?[l,T,{}]:[l,T,{onFocus:uu(d,R),onBlur:uu(m,I),onMouseEnter:uu(g,R),onMouseLeave:uu(v,I),onTouchStart:uu(b,R)}]:[!1,T,{}]}function uu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Qx({page:r,...e}){let{router:t}=aT(),a=L.useMemo(()=>Sa(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?L.createElement(Wx,{page:r,matches:a,...e}):null}function Xx(r){let{manifest:e,routeModules:t}=sT(),[a,o]=L.useState([]);return L.useEffect(()=>{let l=!1;return zx(r,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,t]),a}function Wx({page:r,matches:e,...t}){let a=Bs(),{manifest:o,routeModules:l}=sT(),{basename:c}=aT(),{loaderData:d,matches:m}=Kx(),g=L.useMemo(()=>K0(r,e,m,o,a,"data"),[r,e,m,o,a]),v=L.useMemo(()=>K0(r,e,m,o,a,"assets"),[r,e,m,o,a]),b=L.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let I=new Set,$=!1;if(e.forEach(H=>{var ne;let ue=o.routes[H.route.id];!ue||!ue.hasLoader||(!g.some(pe=>pe.route.id===H.route.id)&&H.route.id in d&&((ne=l[H.route.id])!=null&&ne.shouldRevalidate)||ue.hasClientLoader?$=!0:I.add(H.route.id))}),I.size===0)return[];let F=$x(r,c);return $&&I.size>0&&F.searchParams.set("_routes",e.filter(H=>I.has(H.route.id)).map(H=>H.route.id).join(",")),[F.pathname+F.search]},[c,d,a,o,g,e,r,l]),T=L.useMemo(()=>Bx(v,o),[v,o]),R=Xx(v);return L.createElement(L.Fragment,null,b.map(I=>L.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),T.map(I=>L.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),R.map(({key:I,link:$})=>L.createElement("link",{key:I,...$})))}function Zx(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.6.2")}catch{}function Jx(r,e){return FR({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:uR({window:e==null?void 0:e.window}),hydrationData:eC(),routes:r,mapRouteProperties:Tx,hydrationRouteProperties:wx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function eC(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:tC(r.errors)}),r}function tC(r){if(!r)return null;let e=Object.entries(r),t={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")t[a]=new zh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[a]=c}catch{}}if(t[a]==null){let l=new Error(o.message);l.stack="",t[a]=l}}else t[a]=o;return t}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Os=L.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:b,...T},R){let{basename:I}=L.useContext(ci),$=typeof g=="string"&&lT.test(g),F,H=!1;if(typeof g=="string"&&$&&(F=g,oT))try{let C=new URL(window.location.href),P=g.startsWith("//")?new URL(C.protocol+g):new URL(g),U=wr(P.pathname,I);P.origin===C.origin&&U!=null?g=U+P.search+P.hash:H=!0}catch{Ft(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=lx(g,{relative:o}),[ne,pe,de]=Yx(a,T),q=aC(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:b});function M(C){e&&e(C),C.defaultPrevented||q(C)}let x=L.createElement("a",{...T,...de,href:F||ue,onClick:H||l?e:M,ref:Zx(R,pe),target:m,"data-discover":!$&&t==="render"?"true":void 0});return ne&&!$?L.createElement(L.Fragment,null,x,L.createElement(Qx,{page:ue})):x});Os.displayName="Link";var nC=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let b=Fu(c,{relative:g.relative}),T=Bs(),R=L.useContext(zu),{navigator:I,basename:$}=L.useContext(ci),F=R!=null&&cC(b)&&d===!0,H=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,ue=T.pathname,ne=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(ue=ue.toLowerCase(),ne=ne?ne.toLowerCase():null,H=H.toLowerCase()),ne&&$&&(ne=wr(ne,$)||ne);const pe=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let de=ue===H||!o&&ue.startsWith(H)&&ue.charAt(pe)==="/",q=ne!=null&&(ne===H||!o&&ne.startsWith(H)&&ne.charAt(H.length)==="/"),M={isActive:de,isPending:q,isTransitioning:F},x=de?e:void 0,C;typeof a=="function"?C=a(M):C=[a,de?"active":null,q?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(M):l;return L.createElement(Os,{...g,"aria-current":x,className:C,ref:v,style:P,to:c,viewTransition:d},typeof m=="function"?m(M):m)});nC.displayName="NavLink";var rC=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:l,method:c=Rh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,...T},R)=>{let I=lC(),$=uC(d,{relative:g}),F=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&lT.test(d),ue=ne=>{if(m&&m(ne),ne.defaultPrevented)return;ne.preventDefault();let pe=ne.nativeEvent.submitter,de=(pe==null?void 0:pe.getAttribute("formmethod"))||c;I(pe||ne.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:o,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return L.createElement("form",{ref:R,method:F,action:$,onSubmit:a?m:ue,...T,"data-discover":!H&&r==="render"?"true":void 0})});rC.displayName="Form";function iC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(r){let e=L.useContext(zs);return Ge(e,iC(r)),e}function aC(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Ha(),m=Bs(),g=Fu(r,{relative:l});return L.useCallback(v=>{if(kx(v,e)){v.preventDefault();let b=t!==void 0?t:Pa(m)===Pa(g);d(r,{replace:b,state:a,preventScrollReset:o,relative:l,viewTransition:c})}},[m,d,g,t,a,e,r,o,l,c])}var sC=0,oC=()=>`__${String(++sC)}__`;function lC(){let{router:r}=uT("useSubmit"),{basename:e}=L.useContext(ci),t=_x();return L.useCallback(async(a,o={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=Lx(a,e);if(o.navigate===!1){let v=o.fetcherKey||oC();await r.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function uC(r,{relative:e}={}){let{basename:t}=L.useContext(ci),a=L.useContext(Gi);Ge(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...Fu(r||".",{relative:e})},c=Bs();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ri([t,l.pathname])),Pa(l)}function cC(r,e={}){let t=L.useContext(Kp);Ge(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=uT("useViewTransitionState"),o=Fu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=wr(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=wr(t.nextLocation.pathname,a)||t.nextLocation.pathname;return jh(o.pathname,c)!=null||jh(o.pathname,l)!=null}[...Gx];var hC=jb();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fC(r){return L.createElement(Sx,{flushSync:hC.flushSync,...r})}const dC="/UnoLoopin/assets/AnonymousChat-BdalS2eC.png",mC=()=>{};var Y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},pC=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],c=r[t++],d=r[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],c=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,d=c?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,R=g&63;m||(R=64,c||(T=64)),a.push(t[v],t[b],t[T],t[R])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(cT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||b==null)throw new gC;const T=l<<2|d>>4;if(a.push(T),g!==64){const R=d<<4&240|g>>2;if(a.push(R),b!==64){const I=g<<6&192|b;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yC=function(r){const e=cT(r);return hT.encodeByteArray(e,!0)},Fh=function(r){return yC(r).replace(/\./g,"")},fT=function(r){try{return hT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=()=>vC().__FIREBASE_DEFAULTS__,EC=()=>{if(typeof process>"u"||typeof Y0>"u")return;const r=Y0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fT(r[1]);return e&&JSON.parse(e)},ff=()=>{try{return mC()||_C()||EC()||bC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dT=r=>{var e,t;return(t=(e=ff())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},TC=r=>{const e=dT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},mT=()=>{var r;return(r=ff())===null||r===void 0?void 0:r.config},pT=r=>{var e;return(e=ff())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(r){return r.endsWith(".cloudworkstations.dev")}async function gT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Fh(JSON.stringify(t)),Fh(JSON.stringify(c)),""].join(".")}const _u={};function SC(){const r={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?r.emulator.push(e):r.prod.push(e);return r}function RC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Q0=!1;function yT(r,e){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||_u[r]===e||_u[r]||Q0)return;_u[r]=e;function t(T){return`__firebase__banner__${T}`}const a="__firebase__banner",l=SC().prod.length>0;function c(){const T=document.getElementById(a);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Q0=!0,c()},T}function v(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=RC(a),R=t("text"),I=document.getElementById(R)||document.createElement("span"),$=t("learnmore"),F=document.getElementById($)||document.createElement("a"),H=t("preprendIcon"),ue=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ne=T.element;d(ne),v(F,$);const pe=g();m(ue,H),ne.append(ue,I,F,pe),document.body.appendChild(ne)}l?(I.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function CC(){var r;const e=(r=ff())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DC(){const r=wn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function OC(){return!CC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _T(){try{return typeof indexedDB=="object"}catch{return!1}}function ET(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function MC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="FirebaseError";class Pr extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=kC,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fs.prototype.create)}}class Fs{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?PC(l,a):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Pr(o,d,a)}}function PC(r,e){return r.replace(VC,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const VC=/\{\$([^}]+)}/g;function LC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ms(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const l=r[o],c=e[o];if(X0(l)&&X0(c)){if(!Ms(l,c))return!1}else if(l!==c)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function X0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function du(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,l]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function mu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function UC(r,e){const t=new jC(r,e);return t.subscribe.bind(t)}class jC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");zC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=Km),o.error===void 0&&(o.error=Km),o.complete===void 0&&(o.complete=Km);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Km(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=1e3,FC=2,qC=4*60*60*1e3,HC=.5;function W0(r,e=BC,t=FC){const a=e*Math.pow(t,r),o=Math.round(HC*a*(Math.random()-.5)*2);return Math.min(qC,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(r){return r&&r._delegate?r._delegate:r}class Or{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new wC;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KC(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&c.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),l=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$C(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $C(r){return r===Rs?void 0:r}function KC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new GC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const QC={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},XC=et.INFO,WC={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},ZC=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=WC[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class df{constructor(e){this.name=e,this._logLevel=XC,this._logHandler=ZC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const JC=(r,e)=>e.some(t=>r instanceof t);let Z0,J0;function eI(){return Z0||(Z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tI(){return J0||(J0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,dp=new WeakMap,TT=new WeakMap,Ym=new WeakMap,Jp=new WeakMap;function nI(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Da(r.result)),o()},c=()=>{a(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&bT.set(t,r)}).catch(()=>{}),Jp.set(e,r),e}function rI(r){if(dp.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});dp.set(r,e)}let mp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return dp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||TT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Da(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function iI(r){mp=r(mp)}function aI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(Qm(this),e,...t);return TT.set(a,e.sort?e.sort():[e]),Da(a)}:tI().includes(r)?function(...e){return r.apply(Qm(this),e),Da(bT.get(this))}:function(...e){return Da(r.apply(Qm(this),e))}}function sI(r){return typeof r=="function"?aI(r):(r instanceof IDBTransaction&&rI(r),JC(r,eI())?new Proxy(r,mp):r)}function Da(r){if(r instanceof IDBRequest)return nI(r);if(Ym.has(r))return Ym.get(r);const e=sI(r);return e!==r&&(Ym.set(r,e),Jp.set(e,r)),e}const Qm=r=>Jp.get(r);function wT(r,e,{blocked:t,upgrade:a,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),d=Da(c);return a&&c.addEventListener("upgradeneeded",m=>{a(Da(c.result),m.oldVersion,m.newVersion,Da(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const oI=["get","getKey","getAll","getAllKeys","count"],lI=["put","add","delete","clear"],Xm=new Map;function eE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=lI.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||oI.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return Xm.set(e,l),l}iI(r=>({...r,get:(e,t,a)=>eE(e,t)||r.get(e,t,a),has:(e,t)=>!!eE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cI(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function cI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",tE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new df("@firebase/app"),hI="@firebase/app-compat",fI="@firebase/analytics-compat",dI="@firebase/analytics",mI="@firebase/app-check-compat",pI="@firebase/app-check",gI="@firebase/auth",yI="@firebase/auth-compat",vI="@firebase/database",_I="@firebase/data-connect",EI="@firebase/database-compat",bI="@firebase/functions",TI="@firebase/functions-compat",wI="@firebase/installations",AI="@firebase/installations-compat",SI="@firebase/messaging",RI="@firebase/messaging-compat",xI="@firebase/performance",CI="@firebase/performance-compat",II="@firebase/remote-config",NI="@firebase/remote-config-compat",DI="@firebase/storage",OI="@firebase/storage-compat",MI="@firebase/firestore",kI="@firebase/ai",PI="@firebase/firestore-compat",VI="firebase",LI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",UI={[pp]:"fire-core",[hI]:"fire-core-compat",[dI]:"fire-analytics",[fI]:"fire-analytics-compat",[pI]:"fire-app-check",[mI]:"fire-app-check-compat",[gI]:"fire-auth",[yI]:"fire-auth-compat",[vI]:"fire-rtdb",[_I]:"fire-data-connect",[EI]:"fire-rtdb-compat",[bI]:"fire-fn",[TI]:"fire-fn-compat",[wI]:"fire-iid",[AI]:"fire-iid-compat",[SI]:"fire-fcm",[RI]:"fire-fcm-compat",[xI]:"fire-perf",[CI]:"fire-perf-compat",[II]:"fire-rc",[NI]:"fire-rc-compat",[DI]:"fire-gcs",[OI]:"fire-gcs-compat",[MI]:"fire-fst",[PI]:"fire-fst-compat",[kI]:"fire-vertex","fire-js":"fire-js",[VI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,jI=new Map,yp=new Map;function nE(r,e){try{r.container.addComponent(e)}catch(t){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function li(r){const e=r.name;if(yp.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,r);for(const t of qh.values())nE(t,r);for(const t of jI.values())nE(t,r);return!0}function Hu(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Er(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new Fs("app","Firebase",zI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=LI;function AT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:gp,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Oa.create("bad-app-name",{appName:String(o)});if(t||(t=mT()),!t)throw Oa.create("no-options");const l=qh.get(o);if(l){if(Ms(t,l.options)&&Ms(a,l.config))return l;throw Oa.create("duplicate-app",{appName:o})}const c=new YC(o);for(const m of yp.values())c.addComponent(m);const d=new BI(t,a,c);return qh.set(o,d),d}function ST(r=gp){const e=qh.get(r);if(!e&&r===gp&&mT())return AT();if(!e)throw Oa.create("no-app",{appName:r});return e}function br(r,e,t){var a;let o=(a=UI[r])!==null&&a!==void 0?a:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(d.join(" "));return}li(new Or(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firebase-heartbeat-database",qI=1,Cu="firebase-heartbeat-store";let Wm=null;function RT(){return Wm||(Wm=wT(FI,qI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Cu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Oa.create("idb-open",{originalErrorMessage:r.message})})),Wm}async function HI(r){try{const t=(await RT()).transaction(Cu),a=await t.objectStore(Cu).get(xT(r));return await t.done,a}catch(e){if(e instanceof Pr)zi.warn(e.message);else{const t=Oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(t.message)}}}async function rE(r,e){try{const a=(await RT()).transaction(Cu,"readwrite");await a.objectStore(Cu).put(e,xT(r)),await a.done}catch(t){if(t instanceof Pr)zi.warn(t.message);else{const a=Oa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zi.warn(a.message)}}}function xT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1024,$I=30;class KI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QI(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=iE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>$I){const c=XI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){zi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iE(),{heartbeatsToSend:a,unsentEntries:o}=YI(this._heartbeatsCache.heartbeats),l=Fh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return zi.warn(t),""}}}function iE(){return new Date().toISOString().substring(0,10)}function YI(r,e=GI){const t=[];let a=r.slice();for(const o of r){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),aE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),aE(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class QI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _T()?ET().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return rE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return rE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function aE(r){return Fh(JSON.stringify({version:2,heartbeats:r})).length}function XI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r){li(new Or("platform-logger",e=>new uI(e),"PRIVATE")),li(new Or("heartbeat",e=>new KI(e),"PRIVATE")),br(pp,tE,r),br(pp,tE,"esm2017"),br("fire-js","")}WI("");function eg(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t}function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZI=CT,IT=new Fs("auth","Firebase",CT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new df("@firebase/auth");function JI(r,...e){Hh.logLevel<=et.WARN&&Hh.warn(`Auth (${Zo}): ${r}`,...e)}function Ch(r,...e){Hh.logLevel<=et.ERROR&&Hh.error(`Auth (${Zo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,...e){throw tg(r,...e)}function ii(r,...e){return tg(r,...e)}function NT(r,e,t){const a=Object.assign(Object.assign({},ZI()),{[e]:t});return new Fs("auth","Firebase",a).create(e,{appName:r.name})}function Ui(r){return NT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return IT.create(r,...e)}function ke(r,e,...t){if(!r)throw tg(e,...t)}function Vi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ch(e),new Error(e)}function Bi(r,e){r||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function e2(){return sE()==="http:"||sE()==="https:"}function sE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e2()||vT()||"connection"in navigator)?navigator.onLine:!0}function n2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bi(t>e,"Short delay should be less than long delay!"),this.isMobile=xC()||NC()}get(){return t2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(r,e){Bi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a2=new Gu(3e4,6e4);function Ga(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function $a(r,e,t,a,o={}){return OT(r,o,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const d=qu(Object.assign({key:r.config.apiKey},c)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},l);return IC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Wo(r.emulatorConfig.host)&&(g.credentials="include"),DT.fetch()(await MT(r,r.config.apiHost,t,d),g)})}async function OT(r,e,t){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},r2),e);try{const o=new o2(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw _h(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(r,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw _h(r,"email-already-in-use",c);if(m==="USER_DISABLED")throw _h(r,"user-disabled",c);const v=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw NT(r,v,g);Mr(r,v)}}catch(o){if(o instanceof Pr)throw o;Mr(r,"network-request-failed",{message:String(o)})}}async function $u(r,e,t,a,o={}){const l=await $a(r,e,t,a,o);return"mfaPendingCredential"in l&&Mr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function MT(r,e,t,a){const o=`${e}${t}?${a}`,l=r,c=l.config.emulator?ng(r.config,o):`${r.config.apiScheme}://${o}`;return i2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function s2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(ii(this.auth,"network-request-failed")),a2.get())})}}function _h(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=ii(r,e,a);return o.customData._tokenResponse=t,o}function oE(r){return r!==void 0&&r.enterprise!==void 0}class l2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return s2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u2(r,e){return $a(r,"GET","/v2/recaptchaConfig",Ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(r,e){return $a(r,"POST","/v1/accounts:delete",e)}async function Gh(r,e){return $a(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h2(r,e=!1){const t=Xt(r),a=await t.getIdToken(e),o=rg(a);ke(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:a,authTime:Eu(Zm(o.auth_time)),issuedAtTime:Eu(Zm(o.iat)),expirationTime:Eu(Zm(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Zm(r){return Number(r)*1e3}function rg(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=fT(t);return o?JSON.parse(o):(Ch("Failed to decode base64 JWT payload"),null)}catch(o){return Ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function lE(r){const e=rg(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Pr&&f2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function f2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(r){var e;const t=r.auth,a=await r.getIdToken(),o=await Iu(r,Gh(t,{idToken:a}));ke(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?kT(l.providerUserInfo):[],d=p2(r.providerData,c),m=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new _p(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,b)}async function m2(r){const e=Xt(r);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p2(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function kT(r){return r.map(e=>{var{providerId:t}=e,a=eg(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(r,e){const t=await OT(r,{},async()=>{const a=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=await MT(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return r.emulatorConfig&&Wo(r.emulatorConfig.host)&&(m.credentials="include"),DT.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function y2(r,e){return $a(r,"POST","/v2/accounts:revokeToken",Ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=lE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:l}=await g2(e,t);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:l}=t,c=new zo;return a&&(ke(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(ke(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(ke(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:t,auth:a,stsTokenManager:o}=e,l=eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _p(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return h2(this,e)}reload(){return m2(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await $h(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await Iu(this,c2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,o,l,c,d,m,g,v;const b=(a=t.displayName)!==null&&a!==void 0?a:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=t.photoURL)!==null&&c!==void 0?c:void 0,$=(d=t.tenantId)!==null&&d!==void 0?d:void 0,F=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,H=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ue=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ne,emailVerified:pe,isAnonymous:de,providerData:q,stsTokenManager:M}=t;ke(ne&&M,e,"internal-error");const x=zo.fromJSON(this.name,M);ke(typeof ne=="string",e,"internal-error"),wa(b,e.name),wa(T,e.name),ke(typeof pe=="boolean",e,"internal-error"),ke(typeof de=="boolean",e,"internal-error"),wa(R,e.name),wa(I,e.name),wa($,e.name),wa(F,e.name),wa(H,e.name),wa(ue,e.name);const C=new Nr({uid:ne,auth:e,email:T,emailVerified:pe,displayName:b,isAnonymous:de,photoURL:I,phoneNumber:R,tenantId:$,stsTokenManager:x,createdAt:H,lastLoginAt:ue});return q&&Array.isArray(q)&&(C.providerData=q.map(P=>Object.assign({},P))),F&&(C._redirectEventId=F),C}static async _fromIdTokenResponse(e,t,a=!1){const o=new zo;o.updateFromServerResponse(t);const l=new Nr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await $h(l),l}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];ke(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?kT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new zo;d.updateFromIdToken(a);const m=new Nr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new _p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;function Li(r){Bi(r instanceof Function,"Expected a class definition");let e=uE.get(r);return e?(Bi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,uE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PT.type="NONE";const cE=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(r,e,t){return`firebase:${r}:${e}:${t}`}class Bo{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=Ih(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ih("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gh(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Bo(Li(cE),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Li(cE);const c=Ih(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const T=await Gh(e,{idToken:v}).catch(()=>{});if(!T)break;b=await Nr._fromGetAccountInfoResponse(e,T,v)}else b=Nr._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Bo(l,e,a):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Bo(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(FT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||UT(e))&&!e.includes("edge/"))return"Chrome";if(zT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function VT(r=wn()){return/firefox\//i.test(r)}function LT(r=wn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UT(r=wn()){return/crios\//i.test(r)}function jT(r=wn()){return/iemobile/i.test(r)}function zT(r=wn()){return/android/i.test(r)}function BT(r=wn()){return/blackberry/i.test(r)}function FT(r=wn()){return/webos/i.test(r)}function ig(r=wn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function v2(r=wn()){var e;return ig(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _2(){return DC()&&document.documentMode===10}function qT(r=wn()){return ig(r)||zT(r)||FT(r)||BT(r)||/windows phone/i.test(r)||jT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r,e=[]){let t;switch(r){case"Browser":t=hE(wn());break;case"Worker":t=`${hE(wn())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(r,e={}){return $a(r,"GET","/v2/passwordPolicy",Ga(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=6;class w2{constructor(e){var t,a,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:T2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,o,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fE(this),this.idTokenSubscription=new fE(this),this.beforeStateQueue=new E2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Li(t)),this._initializationPromise=this.queue(async()=>{var a,o,l;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gh(this,{idToken:e}),a=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Er(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(Ui(this));const t=e?Xt(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b2(this),t=new w2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fs("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await y2(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Li(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,a,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&JI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qs(r){return Xt(r)}class fE{constructor(e){this.auth=e,this.observer=null,this.addObserver=UC(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S2(r){mf=r}function GT(r){return mf.loadJS(r)}function R2(){return mf.recaptchaEnterpriseScript}function x2(){return mf.gapiScript}function C2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class I2{constructor(){this.enterprise=new N2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class N2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const D2="recaptcha-enterprise",$T="NO_RECAPTCHA";class O2{constructor(e){this.type=D2,this.auth=qs(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{u2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new l2(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function o(l,c,d){const m=window.grecaptcha;oE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c($T)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I2().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{a(this.auth).then(d=>{if(!t&&oE(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=R2();m.length!==0&&(m+=d),GT(m).then(()=>{o(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function dE(r,e,t,a=!1,o=!1){const l=new O2(r);let c;if(o)c=$T;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ep(r,e,t,a,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await dE(r,e,t,t==="getOobCode");return a(r,c)}else return a(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dE(r,e,t,t==="getOobCode");return a(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r,e){const t=Hu(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ms(l,e??{}))return o;Mr(o,"already-initialized")}return t.initialize({options:e})}function k2(r,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(Li);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function P2(r,e,t){const a=qs(r);ke(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=KT(e),{host:c,port:d}=V2(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ke(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ke(Ms(g,a.config.emulator)&&Ms(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Wo(c)?(gT(`${l}//${c}${m}`),yT("Auth",!0)):L2()}function KT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function V2(r){const e=KT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:mE(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:mE(c)}}}function mE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function L2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function U2(r,e){return $a(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r,e){return $u(r,"POST","/v1/accounts:signInWithPassword",Ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(r,e){return $u(r,"POST","/v1/accounts:signInWithEmailLink",Ga(r,e))}async function B2(r,e){return $u(r,"POST","/v1/accounts:signInWithEmailLink",Ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends ag{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Nu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new Nu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,t,"signInWithPassword",j2);case"emailLink":return z2(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,a,"signUpPassword",U2);case"emailLink":return B2(e,{idToken:t,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(r,e){return $u(r,"POST","/v1/accounts:signInWithIdp",Ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="http://localhost";class ks extends ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=t,l=eg(t,["providerId","signInMethod"]);if(!a||!o)return null;const c=new ks(a,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Fo(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Fo(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fo(e,t)}buildRequest(){const e={requestUri:F2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(r){const e=du(mu(r)).link,t=e?du(mu(e)).deep_link_id:null,a=du(mu(r)).deep_link_id;return(a?du(mu(a)).link:null)||a||t||e||r}class sg{constructor(e){var t,a,o,l,c,d;const m=du(mu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(a=m.oobCode)!==null&&a!==void 0?a:null,b=q2((o=m.mode)!==null&&o!==void 0?o:null);ke(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=H2(e);try{return new sg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,t){return Nu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=sg.parseLink(t);return ke(a,"argument-error"),Nu._fromEmailAndCode(e,a.code,a.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends YT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Ku{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ks._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return xa.credential(t,a)}catch{return null}}}xa.GOOGLE_SIGN_IN_METHOD="google.com";xa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Ku{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Ku{constructor(){super("twitter.com")}static credential(e,t){return ks._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Ia.credential(t,a)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r,e){return $u(r,"POST","/v1/accounts:signUp",Ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const l=await Nr._fromIdTokenResponse(e,a,o),c=pE(a);return new Ps({user:l,providerId:c,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=pE(a);return new Ps({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function pE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends Pr{constructor(e,t,a,o){var l;super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new Kh(e,t,a,o)}}function QT(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(r,l,e,a):l})}async function $2(r,e,t=!1){const a=await Iu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ps._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,e,t=!1){const{auth:a}=r;if(Er(a.app))return Promise.reject(Ui(a));const o="reauthenticate";try{const l=await Iu(r,QT(a,o,e,r),t);ke(l.idToken,a,"internal-error");const c=rg(l.idToken);ke(c,a,"internal-error");const{sub:d}=c;return ke(r.uid===d,a,"user-mismatch"),Ps._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Mr(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(r,e,t=!1){if(Er(r.app))return Promise.reject(Ui(r));const a="signIn",o=await QT(r,a,e),l=await Ps._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(l.user),l}async function Y2(r,e){return XT(qs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(r){const e=qs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZT(r,e,t){if(Er(r.app))return Promise.reject(Ui(r));const a=qs(r),c=await Ep(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G2).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&WT(r),m}),d=await Ps._fromIdTokenResponse(a,"signIn",c);return await a._updateCurrentUser(d.user),d}function JT(r,e,t){return Er(r.app)?Promise.reject(Ui(r)):Y2(Xt(r),Jo.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&WT(r),a})}function Q2(r,e,t,a){return Xt(r).onIdTokenChanged(e,t,a)}function X2(r,e,t){return Xt(r).beforeAuthStateChanged(e,t)}function pf(r,e,t,a){return Xt(r).onAuthStateChanged(e,t,a)}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=1e3,Z2=10;class tw extends ew{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!t&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);_2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Z2):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},W2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tw.type="LOCAL";const J2=tw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends ew{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nw.type="SESSION";const rw=nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new gf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await eN(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=og("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function nN(r){ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function rN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aN(){return iw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebaseLocalStorageDb",sN=1,Qh="firebaseLocalStorage",sw="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yf(r,e){return r.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function oN(){const r=indexedDB.deleteDatabase(aw);return new Yu(r).toPromise()}function bp(){const r=indexedDB.open(aw,sN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qh,{keyPath:sw})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qh)?e(a):(a.close(),await oN(),e(await bp()))})})}async function gE(r,e,t){const a=yf(r,!0).put({[sw]:e,value:t});return new Yu(a).toPromise()}async function lN(r,e){const t=yf(r,!1).get(e),a=await new Yu(t).toPromise();return a===void 0?null:a.value}function yE(r,e){const t=yf(r,!0).delete(e);return new Yu(t).toPromise()}const uN=800,cN=3;class ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>cN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(aN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rN(),!this.activeServiceWorker)return;this.sender=new tN(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await gE(e,Yh,"1"),await yE(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>gE(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>lN(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=yf(o,!1).getAll();return new Yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ow.type="LOCAL";const hN=ow;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(r,e){return e?Li(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dN(r){return XT(r.auth,new lg(r),r.bypassAuthState)}function mN(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),K2(t,new lg(r),r.bypassAuthState)}async function pN(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),$2(t,new lg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dN;case"linkViaPopup":case"linkViaRedirect":return pN;case"reauthViaPopup":case"reauthViaRedirect":return mN;default:Mr(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new Gu(2e3,1e4);class Uo extends lw{constructor(e,t,a,o,l){super(e,t,o,l),this.provider=a,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gN.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="pendingRedirect",Nh=new Map;class vN extends lw{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const a=await _N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(r,e){const t=TN(e),a=bN(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function EN(r,e){Nh.set(r._key(),e)}function bN(r){return Li(r._redirectPersistence)}function TN(r){return Ih(yN,r.config.apiKey,r.name)}async function wN(r,e,t=!1){if(Er(r.app))return Promise.reject(Ui(r));const a=qs(r),o=fN(a,e),c=await new vN(a,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=10*60*1e3;class SN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!uw(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(ii(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AN&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function uw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(r,e={}){return $a(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IN=/^https?/;async function NN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xN(r);for(const t of e)try{if(DN(t))return}catch{}Mr(r,"unauthorized-domain")}function DN(r){const e=vp(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===a}if(!IN.test(t))return!1;if(CN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new Gu(3e4,6e4);function _E(){const r=ai().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function MN(r){return new Promise((e,t)=>{var a,o,l;function c(){_E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_E(),t(ii(r,"network-request-failed"))},timeout:ON.get()})}if(!((o=(a=ai().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=ai().gapi)===null||l===void 0)&&l.load)c();else{const d=C2("iframefcb");return ai()[d]=()=>{gapi.load?c():t(ii(r,"network-request-failed"))},GT(`${x2()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function kN(r){return Dh=Dh||MN(r),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new Gu(5e3,15e3),VN="__/auth/iframe",LN="emulator/auth/iframe",UN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zN(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ng(e,LN):`https://${r.config.authDomain}/${VN}`,a={apiKey:e.apiKey,appName:r.name,v:Zo},o=jN.get(r.config.apiHost);o&&(a.eid=o);const l=r._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${qu(a).slice(1)}`}async function BN(r){const e=await kN(r),t=ai().gapi;return ke(t,r,"internal-error"),e.open({where:document.body,url:zN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UN,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const c=ii(r,"network-request-failed"),d=ai().setTimeout(()=>{l(c)},PN.get());function m(){ai().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qN=500,HN=600,GN="_blank",$N="http://localhost";class EE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KN(r,e,t,a=qN,o=HN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m=Object.assign(Object.assign({},FN),{width:a.toString(),height:o.toString(),top:l,left:c}),g=wn().toLowerCase();t&&(d=UT(g)?GN:t),VT(g)&&(e=e||$N,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[R,I])=>`${T}${R}=${I},`,"");if(v2(g)&&d!=="_self")return YN(e||"",d),new EE(null);const b=window.open(e||"",d,v);ke(b,r,"popup-blocked");try{b.focus()}catch{}return new EE(b)}function YN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="__/auth/handler",XN="emulator/auth/handler",WN=encodeURIComponent("fac");async function bE(r,e,t,a,o,l){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:Zo,eventId:o};if(e instanceof YT){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",LC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Ku){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await r._getAppCheckToken(),g=m?`#${WN}=${encodeURIComponent(m)}`:"";return`${ZN(r)}?${qu(d).slice(1)}${g}`}function ZN({config:r}){return r.emulator?ng(r,XN):`https://${r.authDomain}/${QN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class JN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rw,this._completeRedirectFn=wN,this._overrideRedirectResult=EN}async _openPopup(e,t,a,o){var l;Bi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await bE(e,t,a,vp(),o);return KN(e,c,og())}async _openRedirect(e,t,a,o){await this._originValidation(e);const l=await bE(e,t,a,vp(),o);return nN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Bi(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await BN(e),a=new SN(e);return t.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jm,{type:Jm},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Jm];c!==void 0&&t(!!c),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qT()||LT()||ig()}}const eD=JN;var TE="@firebase/auth",wE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rD(r){li(new Or("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;ke(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(r)},g=new A2(a,o,l,m);return k2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),li(new Or("auth-internal",e=>{const t=qs(e.getProvider("auth").getImmediate());return(a=>new tD(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(TE,wE,nD(r)),br(TE,wE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=5*60,aD=pT("authIdTokenMaxAge")||iD;let AE=null;const sD=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>aD)return;const o=t==null?void 0:t.token;AE!==o&&(AE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cw(r=ST()){const e=Hu(r,"auth");if(e.isInitialized())return e.getImmediate();const t=M2(r,{popupRedirectResolver:eD,persistence:[hN,J2,rw]}),a=pT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=sD(l.toString());X2(t,c,()=>c(t.currentUser)),Q2(t,d=>c(d))}}const o=dT("auth");return o&&P2(t,`http://${o}`),t}function oD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}S2({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const l=ii("internal-error");l.customData=o,t(l)},a.type="text/javascript",a.charset="UTF-8",oD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rD("Browser");const ug=r=>{const e=Ha(),t=()=>{const o=cw().currentUser;e(o?r.buttonLink:r.loginLink)};return w.jsx("section",{className:"min-h-screen flex items-center justify-center px-4 py-11",children:w.jsxs("div",{className:"relative text-[#F7F4E9] rounded-[106px] shadow-2xl px-16 py-14 min-w-[1200px] min-h-[539px]",style:{backgroundImage:`url(${r.bgImg})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[w.jsx("h1",{className:"text-5xl font-black mb-4",children:r.Name}),w.jsx("p",{className:"text-2xl font-black mb-10",children:r.Heading}),w.jsx("div",{className:"bg-[#F7F4E9] text-black rounded-[35px] p-6 w-full max-w-3xl",children:w.jsx("p",{className:"text-base leading-relaxed",children:r.Content})}),w.jsx("button",{onClick:t,className:"absolute bottom-10 right-10 bg-[#F7F4E9] text-2xl text-black font-extrabold px-8 py-4 rounded-[26px] border-4 border-black hover:bg-gray-200 transition",children:r.buttonText})]})})},lD=()=>w.jsx(w.Fragment,{children:w.jsx(ug,{Name:"Anonymous Chat",Heading:"Connect. Converse. Contribute. Anonymously.",buttonLink:"/generalAnonymous",loginLink:"/anonymousLogin",buttonText:"JOIN CHAT",bgImg:dC,Content:"            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque lacus lacus, porta eget velit eget, gravida consequat mauris. Nam tincidunt justo in felis faucibus, sit amet accumsan neque mollis. Integer eu leo ut sapien ullamcorper placerat et eu neque. Curabitur vel leo a tortor ornare euismod quis vitae elit."})}),uD="/UnoLoopin/assets/Resources-Dck8eXFH.png",cD=()=>w.jsx(w.Fragment,{children:w.jsx(ug,{Name:"Resources",Heading:"Fuel for the curious",buttonLink:"/courseReview",loginLink:"\\verifiedLogin",buttonText:"Explore",bgImg:uD,Content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque lacus lacus, porta eget velit eget, gravida consequat mauris. Nam tincidunt justo in felis faucibus, sit amet accumsan neque mollis. Integer eu leo ut sapien ullamcorper placerat et eu neque. Curabitur vel leo a tortor ornare euismod quis vitae elit."})}),hD=()=>{const[r,e]=L.useState(null),t=Ha(),a=o=>{r===o?t(o==="anonymous"?"/anonymousLogin":"/verifiedLogin"):e(o)};return w.jsx("div",{className:"flex justify-center my-12",children:w.jsxs("div",{className:"relative flex w-full bg-[#F7F4E9] max-w-md min-w-[800px] h-20 border-[10px] border-[#9DAAF2] rounded-[26px] overflow-hidden shadow-xl",children:[w.jsx("div",{className:`absolute top-0 bottom-0 transition-all duration-300 rounded-[10px] z-0 ${r==="anonymous"?"left-0 w-1/2 bg-[#FF6A3D] bg-opacity-100":r==="verified"?"left-1/2 w-1/2 bg-[#FF6A3D] bg-opacity-100":""}`}),w.jsxs("div",{className:"flex w-full relative z-10",children:[w.jsx("button",{onClick:()=>a("anonymous"),className:`flex items-center justify-center gap-2 w-1/2 text-2xl font-black transition-all ${r==="anonymous"?"text-blue-700":"text-gray-500"}`,children:"Anonymous"}),w.jsx("button",{onClick:()=>a("verified"),className:`flex items-center justify-center gap-2 w-1/2 text-2xl font-black transition-all ${r==="verified"?"text-green-700":"text-gray-500"}`,children:"Verified"})]})]})})},fD="/UnoLoopin/assets/ProjectVacancies-D8ZNkG_w.png",dD=()=>w.jsx(w.Fragment,{children:w.jsx(ug,{Name:"Project Vacancies",Heading:"Fuel for the curious",buttonLink:"/projectVacancies",loginLink:"/verifiedLogin",buttonText:" APPLY",bgImg:fD,Content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque lacus lacus, porta eget velit eget, gravida consequat mauris. Nam tincidunt justo in felis faucibus, sit amet accumsan neque mollis. Integer eu leo ut sapien ullamcorper placerat et eu neque. Curabitur vel leo a tortor ornare euismod quis vitae elit."})}),el="/UnoLoopin/assets/staticBackground-CinJhG62.png";/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pD=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),SE=r=>{const e=pD(r);return e.charAt(0).toUpperCase()+e.slice(1)},hw=(...r)=>r.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim(),gD=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...d},m)=>L.createElement("svg",{ref:m,...yD,width:e,height:e,stroke:r,strokeWidth:a?Number(t)*24/Number(e):t,className:hw("lucide",o),...!l&&!gD(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>L.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=(r,e)=>{const t=L.forwardRef(({className:a,...o},l)=>L.createElement(vD,{ref:l,iconNode:e,className:hw(`lucide-${mD(SE(r))}`,`lucide-${r}`,a),...o}));return t.displayName=SE(r),t};/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],ED=jn("bookmark-check",_D);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],TD=jn("bookmark",bD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fw=jn("circle-check-big",wD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],SD=jn("globe",AD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Tp=jn("heart",RD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],CD=jn("house",xD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ND=jn("instagram",ID);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],dw=jn("message-circle",DD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],MD=jn("paperclip",OD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],cu=jn("pencil",kD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],VD=jn("plus",PD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],UD=jn("refresh-cw",LD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mw=jn("search",jD);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pw=jn("user",zD),ep=({name:r,photo:e,email:t,instagram:a,role:o})=>w.jsxs("div",{className:"mx-auto flex items-center gap-10 p-6 bg-[#F7F4E9] rounded-2xl shadow-lg w-full max-w-3xl",children:[w.jsx("div",{className:"w-32 h-32 border-4 border-black overflow-hidden rounded-md",children:w.jsx("img",{src:e,alt:r,className:"w-full h-full object-cover"})}),w.jsxs("div",{className:"flex flex-col text-black text-lg gap-1",children:[w.jsx("h3",{className:"text-2xl font-bold",children:r}),w.jsx("p",{className:"",children:t}),w.jsxs("p",{className:"",children:[" @",a]}),w.jsx("p",{className:"font-semibold italic",children:o})]})]}),BD="/UnoLoopin/assets/siddhanth-CE705MVN.jpeg",FD="/UnoLoopin/assets/kedar-BBe9Pj1I.jpeg",qD="/UnoLoopin/assets/shreya-B4G5-153.jpeg",HD=()=>w.jsxs("footer",{className:"w-full mt-20 bg-[#18223B] items-center gap-6 rounded-t-[50px] py-20 px-8 text-white flex flex-col items-center",children:[w.jsx("h2",{className:"text-[60px] font-black",children:"Creators"}),w.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Meet the Team"}),w.jsx(ep,{name:"Janjanam Kedarananda",photo:FD,email:"ee24btech11030@iith.ac.in",instagram:"_kkedarr_",role:"Frontend, Ideation"}),w.jsx(ep,{name:"Shreya Sunilkumar",photo:qD,email:"bd24bdes11001@iith.ac.in",instagram:"batartawada",role:"Designer"}),w.jsx(ep,{name:"Siddhanth Yellanki",photo:BD,email:"ee24btech11059@iith.ac.in",instagram:"truly.siddu",role:"Frontend, FireBase"}),w.jsxs("div",{className:"flex gap-6 mt-4 text-white",children:[w.jsx("p",{className:"text-sm",children:"Copyrights reserved 2025"}),w.jsx(ND,{className:"w-5 h-5"}),w.jsx(SD,{className:"w-5 h-5"}),w.jsx(MD,{className:"w-5 h-5"})]})]}),GD=()=>{const[r,e]=L.useState(!0),t=L.useRef(null),a=L.useRef(null),o=L.useRef(null);return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"min-h-screen bg-[#18223B] text-white flex relative flex-col items-center justify-center bg-contain bg-center bg-no-repeat px-4 md:px-16 py-10",style:{backgroundImage:`url(${el})`,backgroundRepeat:"repeat",backgroundSize:"30%"},children:[w.jsx("div",{className:"absolute top-0 left-0"}),w.jsx("div",{className:"absolute top-0 right-0"}),w.jsxs("div",{className:"bg-[#18223B] bg-opacity-100 rounded-[106px] w-[1100px] relative",children:[w.jsxs("div",{className:"flex flex-col items-center justify-center text-center pt-90 px-40",children:[w.jsx("h2",{className:"text-4xl font-black mb-[30px] pt-4",children:"Welcome to UNOLoopin"}),w.jsxs("h1",{className:"text-[20pt] sm:text-5xl md:text-[50px] font-black leading-snug max-w-3xl",children:[w.jsx("span",{className:"text-orange-500",children:"One stop for the whole of"}),w.jsx("br",{}),w.jsx("span",{className:"text-violet-400",children:"IITH Campus Community!"})]}),w.jsx(hD,{})]}),w.jsx("div",{ref:t,className:"-mt-40",children:w.jsx(lD,{})}),w.jsx("div",{ref:a,className:"-mt-40",children:w.jsx(cD,{})}),w.jsx("div",{ref:o,className:"-mt-40",children:w.jsx(dD,{})}),w.jsx(HD,{})]})]})})};var $D="firebase",KD="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br($D,KD,"app");const gw="@firebase/installations",cg="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=1e4,vw=`w:${cg}`,_w="FIS_v2",YD="https://firebaseinstallations.googleapis.com/v1",QD=60*60*1e3,XD="installations",WD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vs=new Fs(XD,WD,ZD);function Ew(r){return r instanceof Pr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw({projectId:r}){return`${YD}/projects/${r}/installations`}function Tw(r){return{token:r.token,requestStatus:2,expiresIn:eO(r.expiresIn),creationTime:Date.now()}}async function ww(r,e){const a=(await e.json()).error;return Vs.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function Aw({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function JD(r,{refreshToken:e}){const t=Aw(r);return t.append("Authorization",tO(e)),t}async function Sw(r){const e=await r();return e.status>=500&&e.status<600?r():e}function eO(r){return Number(r.replace("s","000"))}function tO(r){return`${_w} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const a=bw(r),o=Aw(r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:t,authVersion:_w,appId:r.appId,sdkVersion:vw},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await Sw(()=>fetch(a,d));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:Tw(g.authToken)}}else throw await ww("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/^[cdef][\w-]{21}$/,wp="";function aO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=sO(r);return iO.test(t)?t:wp}catch{return wp}}function sO(r){return rO(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Map;function Cw(r,e){const t=vf(r);Iw(t,e),oO(t,e)}function Iw(r,e){const t=xw.get(r);if(t)for(const a of t)a(e)}function oO(r,e){const t=lO();t&&t.postMessage({key:r,fid:e}),uO()}let Is=null;function lO(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=r=>{Iw(r.data.key,r.data.fid)}),Is}function uO(){xw.size===0&&Is&&(Is.close(),Is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="firebase-installations-database",hO=1,Ls="firebase-installations-store";let tp=null;function hg(){return tp||(tp=wT(cO,hO,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Ls)}}})),tp}async function Xh(r,e){const t=vf(r),o=(await hg()).transaction(Ls,"readwrite"),l=o.objectStore(Ls),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&Cw(r,e.fid),e}async function Nw(r){const e=vf(r),a=(await hg()).transaction(Ls,"readwrite");await a.objectStore(Ls).delete(e),await a.done}async function _f(r,e){const t=vf(r),o=(await hg()).transaction(Ls,"readwrite"),l=o.objectStore(Ls),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!c||c.fid!==d.fid)&&Cw(r,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fg(r){let e;const t=await _f(r.appConfig,a=>{const o=fO(a),l=dO(r,o);return e=l.registrationPromise,l.installationEntry});return t.fid===wp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function fO(r){const e=r||{fid:aO(),registrationStatus:0};return Dw(e)}function dO(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Vs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=mO(r,t);return{installationEntry:t,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pO(r)}:{installationEntry:e}}async function mO(r,e){try{const t=await nO(r,e);return Xh(r.appConfig,t)}catch(t){throw Ew(t)&&t.customData.serverCode===409?await Nw(r.appConfig):await Xh(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function pO(r){let e=await RE(r.appConfig);for(;e.registrationStatus===1;)await Rw(100),e=await RE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:a}=await fg(r);return a||t}return e}function RE(r){return _f(r,e=>{if(!e)throw Vs.create("installation-not-found");return Dw(e)})}function Dw(r){return gO(r)?{fid:r.fid,registrationStatus:0}:r}function gO(r){return r.registrationStatus===1&&r.registrationTime+yw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO({appConfig:r,heartbeatServiceProvider:e},t){const a=vO(r,t),o=JD(r,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:vw,appId:r.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await Sw(()=>fetch(a,d));if(m.ok){const g=await m.json();return Tw(g)}else throw await ww("Generate Auth Token",m)}function vO(r,{fid:e}){return`${bw(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dg(r,e=!1){let t;const a=await _f(r.appConfig,l=>{if(!Ow(l))throw Vs.create("not-registered");const c=l.authToken;if(!e&&bO(c))return l;if(c.requestStatus===1)return t=_O(r,e),l;{if(!navigator.onLine)throw Vs.create("app-offline");const d=wO(l);return t=EO(r,d),d}});return t?await t:a.authToken}async function _O(r,e){let t=await xE(r.appConfig);for(;t.authToken.requestStatus===1;)await Rw(100),t=await xE(r.appConfig);const a=t.authToken;return a.requestStatus===0?dg(r,e):a}function xE(r){return _f(r,e=>{if(!Ow(e))throw Vs.create("not-registered");const t=e.authToken;return AO(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function EO(r,e){try{const t=await yO(r,e),a=Object.assign(Object.assign({},e),{authToken:t});return await Xh(r.appConfig,a),t}catch(t){if(Ew(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Nw(r.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Xh(r.appConfig,a)}throw t}}function Ow(r){return r!==void 0&&r.registrationStatus===2}function bO(r){return r.requestStatus===2&&!TO(r)}function TO(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+QD}function wO(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function AO(r){return r.requestStatus===1&&r.requestTime+yw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(r){const e=r,{installationEntry:t,registrationPromise:a}=await fg(e);return a?a.catch(console.error):dg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(r,e=!1){const t=r;return await xO(t),(await dg(t,e)).token}async function xO(r){const{registrationPromise:e}=await fg(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(r){if(!r||!r.options)throw np("App Configuration");if(!r.name)throw np("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw np(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function np(r){return Vs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="installations",IO="installations-internal",NO=r=>{const e=r.getProvider("app").getImmediate(),t=CO(e),a=Hu(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},DO=r=>{const e=r.getProvider("app").getImmediate(),t=Hu(e,Mw).getImmediate();return{getId:()=>SO(t),getToken:o=>RO(t,o)}};function OO(){li(new Or(Mw,NO,"PUBLIC")),li(new Or(IO,DO,"PRIVATE"))}OO();br(gw,cg);br(gw,cg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="analytics",MO="firebase_id",kO="origin",PO=60*1e3,VO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new df("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tr=new Fs("analytics","Analytics",LO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(r){if(!r.startsWith(mg)){const e=Tr.create("invalid-gtag-resource",{gtagURL:r});return Un.warn(e.message),""}return r}function kw(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function jO(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function zO(r,e){const t=jO("firebase-js-sdk-policy",{createScriptURL:UO}),a=document.createElement("script"),o=`${mg}?l=${r}&id=${e}`;a.src=t?t==null?void 0:t.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function BO(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function FO(r,e,t,a,o,l){const c=a[o];try{if(c)await e[c];else{const m=(await kw(t)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(d){Un.error(d)}r("config",o,l)}async function qO(r,e,t,a,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await kw(t);for(const m of c){const g=d.find(b=>b.measurementId===m),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",a,o||{})}catch(l){Un.error(l)}}function HO(r,e,t,a){async function o(l,...c){try{if(l==="event"){const[d,m]=c;await qO(r,e,t,d,m)}else if(l==="config"){const[d,m]=c;await FO(r,e,t,a,d,m)}else if(l==="consent"){const[d,m]=c;r("consent",d,m)}else if(l==="get"){const[d,m,g]=c;r("get",d,m,g)}else if(l==="set"){const[d]=c;r("set",d)}else r(l,...c)}catch(d){Un.error(d)}}return o}function GO(r,e,t,a,o){let l=function(...c){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=HO(l,r,e,t),{gtagCore:l,wrappedGtag:window[o]}}function $O(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(mg)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=30,YO=1e3;class QO{constructor(e={},t=YO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Pw=new QO;function XO(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function WO(r){var e;const{appId:t,apiKey:a}=r,o={method:"GET",headers:XO(a)},l=VO.replace("{app-id}",t),c=await fetch(l,o);if(c.status!==200&&c.status!==304){let d="";try{const m=await c.json();!((e=m.error)===null||e===void 0)&&e.message&&(d=m.error.message)}catch{}throw Tr.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function ZO(r,e=Pw,t){const{appId:a,apiKey:o,measurementId:l}=r.options;if(!a)throw Tr.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:a};throw Tr.create("no-api-key")}const c=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new t4;return setTimeout(async()=>{d.abort()},PO),Vw({appId:a,apiKey:o,measurementId:l},c,d,e)}async function Vw(r,{throttleEndTimeMillis:e,backoffCount:t},a,o=Pw){var l;const{appId:c,measurementId:d}=r;try{await JO(a,e)}catch(m){if(d)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:d};throw m}try{const m=await WO(r);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!e4(g)){if(o.deleteThrottleMetadata(c),d)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:d};throw m}const v=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?W0(t,o.intervalMillis,KO):W0(t,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(c,b),Un.debug(`Calling attemptFetch again in ${v} millis`),Vw(r,b,a,o)}}function JO(r,e){return new Promise((t,a)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(l),a(Tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function e4(r){if(!(r instanceof Pr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class t4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function n4(r,e,t,a,o){if(o&&o.global){r("event",t,a);return}else{const l=await e,c=Object.assign(Object.assign({},a),{send_to:l});r("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(){if(_T())try{await ET()}catch(r){return Un.warn(Tr.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return Un.warn(Tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function i4(r,e,t,a,o,l,c){var d;const m=ZO(r);m.then(R=>{t[R.measurementId]=R.appId,r.options.measurementId&&R.measurementId!==r.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>Un.error(R)),e.push(m);const g=r4().then(R=>{if(R)return a.getId()}),[v,b]=await Promise.all([m,g]);$O(l)||zO(l,v.measurementId),o("js",new Date);const T=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return T[kO]="firebase",T.update=!0,b!=null&&(T[MO]=b),o("config",v.measurementId,T),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.app=e}_delete(){return delete bu[this.app.options.appId],Promise.resolve()}}let bu={},IE=[];const NE={};let rp="dataLayer",s4="gtag",DE,Lw,OE=!1;function o4(){const r=[];if(vT()&&r.push("This is a browser extension environment."),MC()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),t=Tr.create("invalid-analytics-context",{errorInfo:e});Un.warn(t.message)}}function l4(r,e,t){o4();const a=r.options.appId;if(!a)throw Tr.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tr.create("no-api-key");if(bu[a]!=null)throw Tr.create("already-exists",{id:a});if(!OE){BO(rp);const{wrappedGtag:l,gtagCore:c}=GO(bu,IE,NE,rp,s4);Lw=l,DE=c,OE=!0}return bu[a]=i4(r,IE,NE,e,DE,rp,t),new a4(r)}function u4(r,e,t,a){r=Xt(r),n4(Lw,bu[r.app.options.appId],e,t,a).catch(o=>Un.error(o))}const ME="@firebase/analytics",kE="0.10.16";function c4(){li(new Or(CE,(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return l4(a,o,t)},"PUBLIC")),li(new Or("analytics-internal",r,"PRIVATE")),br(ME,kE),br(ME,kE,"esm2017");function r(e){try{const t=e.getProvider(CE).getImmediate();return{logEvent:(a,o,l)=>u4(t,a,o,l)}}catch(t){throw Tr.create("interop-component-reg-failed",{reason:t})}}}c4();var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ma,Uw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function C(){}C.prototype=x.prototype,M.D=x.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(P,U,j){for(var D=Array(arguments.length-2),je=2;je<arguments.length;je++)D[je-2]=arguments[je];return x.prototype[U].apply(P,D)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,x,C){C||(C=0);var P=Array(16);if(typeof x=="string")for(var U=0;16>U;++U)P[U]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(U=0;16>U;++U)P[U]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=M.g[0],C=M.g[1],U=M.g[2];var j=M.g[3],D=x+(j^C&(U^j))+P[0]+3614090360&4294967295;x=C+(D<<7&4294967295|D>>>25),D=j+(U^x&(C^U))+P[1]+3905402710&4294967295,j=x+(D<<12&4294967295|D>>>20),D=U+(C^j&(x^C))+P[2]+606105819&4294967295,U=j+(D<<17&4294967295|D>>>15),D=C+(x^U&(j^x))+P[3]+3250441966&4294967295,C=U+(D<<22&4294967295|D>>>10),D=x+(j^C&(U^j))+P[4]+4118548399&4294967295,x=C+(D<<7&4294967295|D>>>25),D=j+(U^x&(C^U))+P[5]+1200080426&4294967295,j=x+(D<<12&4294967295|D>>>20),D=U+(C^j&(x^C))+P[6]+2821735955&4294967295,U=j+(D<<17&4294967295|D>>>15),D=C+(x^U&(j^x))+P[7]+4249261313&4294967295,C=U+(D<<22&4294967295|D>>>10),D=x+(j^C&(U^j))+P[8]+1770035416&4294967295,x=C+(D<<7&4294967295|D>>>25),D=j+(U^x&(C^U))+P[9]+2336552879&4294967295,j=x+(D<<12&4294967295|D>>>20),D=U+(C^j&(x^C))+P[10]+4294925233&4294967295,U=j+(D<<17&4294967295|D>>>15),D=C+(x^U&(j^x))+P[11]+2304563134&4294967295,C=U+(D<<22&4294967295|D>>>10),D=x+(j^C&(U^j))+P[12]+1804603682&4294967295,x=C+(D<<7&4294967295|D>>>25),D=j+(U^x&(C^U))+P[13]+4254626195&4294967295,j=x+(D<<12&4294967295|D>>>20),D=U+(C^j&(x^C))+P[14]+2792965006&4294967295,U=j+(D<<17&4294967295|D>>>15),D=C+(x^U&(j^x))+P[15]+1236535329&4294967295,C=U+(D<<22&4294967295|D>>>10),D=x+(U^j&(C^U))+P[1]+4129170786&4294967295,x=C+(D<<5&4294967295|D>>>27),D=j+(C^U&(x^C))+P[6]+3225465664&4294967295,j=x+(D<<9&4294967295|D>>>23),D=U+(x^C&(j^x))+P[11]+643717713&4294967295,U=j+(D<<14&4294967295|D>>>18),D=C+(j^x&(U^j))+P[0]+3921069994&4294967295,C=U+(D<<20&4294967295|D>>>12),D=x+(U^j&(C^U))+P[5]+3593408605&4294967295,x=C+(D<<5&4294967295|D>>>27),D=j+(C^U&(x^C))+P[10]+38016083&4294967295,j=x+(D<<9&4294967295|D>>>23),D=U+(x^C&(j^x))+P[15]+3634488961&4294967295,U=j+(D<<14&4294967295|D>>>18),D=C+(j^x&(U^j))+P[4]+3889429448&4294967295,C=U+(D<<20&4294967295|D>>>12),D=x+(U^j&(C^U))+P[9]+568446438&4294967295,x=C+(D<<5&4294967295|D>>>27),D=j+(C^U&(x^C))+P[14]+3275163606&4294967295,j=x+(D<<9&4294967295|D>>>23),D=U+(x^C&(j^x))+P[3]+4107603335&4294967295,U=j+(D<<14&4294967295|D>>>18),D=C+(j^x&(U^j))+P[8]+1163531501&4294967295,C=U+(D<<20&4294967295|D>>>12),D=x+(U^j&(C^U))+P[13]+2850285829&4294967295,x=C+(D<<5&4294967295|D>>>27),D=j+(C^U&(x^C))+P[2]+4243563512&4294967295,j=x+(D<<9&4294967295|D>>>23),D=U+(x^C&(j^x))+P[7]+1735328473&4294967295,U=j+(D<<14&4294967295|D>>>18),D=C+(j^x&(U^j))+P[12]+2368359562&4294967295,C=U+(D<<20&4294967295|D>>>12),D=x+(C^U^j)+P[5]+4294588738&4294967295,x=C+(D<<4&4294967295|D>>>28),D=j+(x^C^U)+P[8]+2272392833&4294967295,j=x+(D<<11&4294967295|D>>>21),D=U+(j^x^C)+P[11]+1839030562&4294967295,U=j+(D<<16&4294967295|D>>>16),D=C+(U^j^x)+P[14]+4259657740&4294967295,C=U+(D<<23&4294967295|D>>>9),D=x+(C^U^j)+P[1]+2763975236&4294967295,x=C+(D<<4&4294967295|D>>>28),D=j+(x^C^U)+P[4]+1272893353&4294967295,j=x+(D<<11&4294967295|D>>>21),D=U+(j^x^C)+P[7]+4139469664&4294967295,U=j+(D<<16&4294967295|D>>>16),D=C+(U^j^x)+P[10]+3200236656&4294967295,C=U+(D<<23&4294967295|D>>>9),D=x+(C^U^j)+P[13]+681279174&4294967295,x=C+(D<<4&4294967295|D>>>28),D=j+(x^C^U)+P[0]+3936430074&4294967295,j=x+(D<<11&4294967295|D>>>21),D=U+(j^x^C)+P[3]+3572445317&4294967295,U=j+(D<<16&4294967295|D>>>16),D=C+(U^j^x)+P[6]+76029189&4294967295,C=U+(D<<23&4294967295|D>>>9),D=x+(C^U^j)+P[9]+3654602809&4294967295,x=C+(D<<4&4294967295|D>>>28),D=j+(x^C^U)+P[12]+3873151461&4294967295,j=x+(D<<11&4294967295|D>>>21),D=U+(j^x^C)+P[15]+530742520&4294967295,U=j+(D<<16&4294967295|D>>>16),D=C+(U^j^x)+P[2]+3299628645&4294967295,C=U+(D<<23&4294967295|D>>>9),D=x+(U^(C|~j))+P[0]+4096336452&4294967295,x=C+(D<<6&4294967295|D>>>26),D=j+(C^(x|~U))+P[7]+1126891415&4294967295,j=x+(D<<10&4294967295|D>>>22),D=U+(x^(j|~C))+P[14]+2878612391&4294967295,U=j+(D<<15&4294967295|D>>>17),D=C+(j^(U|~x))+P[5]+4237533241&4294967295,C=U+(D<<21&4294967295|D>>>11),D=x+(U^(C|~j))+P[12]+1700485571&4294967295,x=C+(D<<6&4294967295|D>>>26),D=j+(C^(x|~U))+P[3]+2399980690&4294967295,j=x+(D<<10&4294967295|D>>>22),D=U+(x^(j|~C))+P[10]+4293915773&4294967295,U=j+(D<<15&4294967295|D>>>17),D=C+(j^(U|~x))+P[1]+2240044497&4294967295,C=U+(D<<21&4294967295|D>>>11),D=x+(U^(C|~j))+P[8]+1873313359&4294967295,x=C+(D<<6&4294967295|D>>>26),D=j+(C^(x|~U))+P[15]+4264355552&4294967295,j=x+(D<<10&4294967295|D>>>22),D=U+(x^(j|~C))+P[6]+2734768916&4294967295,U=j+(D<<15&4294967295|D>>>17),D=C+(j^(U|~x))+P[13]+1309151649&4294967295,C=U+(D<<21&4294967295|D>>>11),D=x+(U^(C|~j))+P[4]+4149444226&4294967295,x=C+(D<<6&4294967295|D>>>26),D=j+(C^(x|~U))+P[11]+3174756917&4294967295,j=x+(D<<10&4294967295|D>>>22),D=U+(x^(j|~C))+P[2]+718787259&4294967295,U=j+(D<<15&4294967295|D>>>17),D=C+(j^(U|~x))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+j&4294967295}a.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var C=x-this.blockSize,P=this.B,U=this.h,j=0;j<x;){if(U==0)for(;j<=C;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<x;)if(P[U++]=M.charCodeAt(j++),U==this.blockSize){o(this,P),U=0;break}}else for(;j<x;)if(P[U++]=M[j++],U==this.blockSize){o(this,P),U=0;break}}this.h=U,this.o+=x},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var C=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=C&255,C/=256;for(this.u(M),M=Array(16),x=C=0;4>x;++x)for(var P=0;32>P;P+=8)M[C++]=this.g[x]>>>P&255;return M};function l(M,x){var C=d;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=x(M)}function c(M,x){this.h=x;for(var C=[],P=!0,U=M.length-1;0<=U;U--){var j=M[U]|0;P&&j==x||(C[U]=j,P=!1)}this.g=C}var d={};function m(M){return-128<=M&&128>M?l(M,function(x){return new c([x|0],0>x?-1:0)}):new c([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return F(g(-M));for(var x=[],C=1,P=0;M>=C;P++)x[P]=M/C|0,C*=4294967296;return new c(x,0)}function v(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return F(v(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(x,8)),P=b,U=0;U<M.length;U+=8){var j=Math.min(8,M.length-U),D=parseInt(M.substring(U,U+j),x);8>j?(j=g(Math.pow(x,j)),P=P.j(j).add(g(D))):(P=P.j(C),P=P.add(g(D)))}return P}var b=m(0),T=m(1),R=m(16777216);r=c.prototype,r.m=function(){if($(this))return-F(this).m();for(var M=0,x=1,C=0;C<this.g.length;C++){var P=this.i(C);M+=(0<=P?P:4294967296+P)*x,x*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(I(this))return"0";if($(this))return"-"+F(this).toString(M);for(var x=g(Math.pow(M,6)),C=this,P="";;){var U=pe(C,x).g;C=H(C,U.j(x));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=U,I(C))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function I(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function $(M){return M.h==-1}r.l=function(M){return M=H(this,M),$(M)?-1:I(M)?0:1};function F(M){for(var x=M.g.length,C=[],P=0;P<x;P++)C[P]=~M.g[P];return new c(C,~M.h).add(T)}r.abs=function(){return $(this)?F(this):this},r.add=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],P=0,U=0;U<=x;U++){var j=P+(this.i(U)&65535)+(M.i(U)&65535),D=(j>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);P=D>>>16,j&=65535,D&=65535,C[U]=D<<16|j}return new c(C,C[C.length-1]&-2147483648?-1:0)};function H(M,x){return M.add(F(x))}r.j=function(M){if(I(this)||I(M))return b;if($(this))return $(M)?F(this).j(F(M)):F(F(this).j(M));if($(M))return F(this.j(F(M)));if(0>this.l(R)&&0>M.l(R))return g(this.m()*M.m());for(var x=this.g.length+M.g.length,C=[],P=0;P<2*x;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<M.g.length;U++){var j=this.i(P)>>>16,D=this.i(P)&65535,je=M.i(U)>>>16,Fe=M.i(U)&65535;C[2*P+2*U]+=D*Fe,ue(C,2*P+2*U),C[2*P+2*U+1]+=j*Fe,ue(C,2*P+2*U+1),C[2*P+2*U+1]+=D*je,ue(C,2*P+2*U+1),C[2*P+2*U+2]+=j*je,ue(C,2*P+2*U+2)}for(P=0;P<x;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=x;P<2*x;P++)C[P]=0;return new c(C,0)};function ue(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function ne(M,x){this.g=M,this.h=x}function pe(M,x){if(I(x))throw Error("division by zero");if(I(M))return new ne(b,b);if($(M))return x=pe(F(M),x),new ne(F(x.g),F(x.h));if($(x))return x=pe(M,F(x)),new ne(F(x.g),x.h);if(30<M.g.length){if($(M)||$(x))throw Error("slowDivide_ only works with positive integers.");for(var C=T,P=x;0>=P.l(M);)C=de(C),P=de(P);var U=q(C,1),j=q(P,1);for(P=q(P,2),C=q(C,2);!I(P);){var D=j.add(P);0>=D.l(M)&&(U=U.add(C),j=D),P=q(P,1),C=q(C,1)}return x=H(M,U.j(x)),new ne(U,x)}for(U=b;0<=M.l(x);){for(C=Math.max(1,Math.floor(M.m()/x.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=g(C),D=j.j(x);$(D)||0<D.l(M);)C-=P,j=g(C),D=j.j(x);I(j)&&(j=T),U=U.add(j),M=H(M,D)}return new ne(U,M)}r.A=function(M){return pe(this,M).h},r.and=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],P=0;P<x;P++)C[P]=this.i(P)&M.i(P);return new c(C,this.h&M.h)},r.or=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],P=0;P<x;P++)C[P]=this.i(P)|M.i(P);return new c(C,this.h|M.h)},r.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],P=0;P<x;P++)C[P]=this.i(P)^M.i(P);return new c(C,this.h^M.h)};function de(M){for(var x=M.g.length+1,C=[],P=0;P<x;P++)C[P]=M.i(P)<<1|M.i(P-1)>>>31;return new c(C,M.h)}function q(M,x){var C=x>>5;x%=32;for(var P=M.g.length-C,U=[],j=0;j<P;j++)U[j]=0<x?M.i(j+C)>>>x|M.i(j+C+1)<<32-x:M.i(j+C);return new c(U,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Uw=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ma=c}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jw,pu,zw,Oh,Ap,Bw,Fw,qw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=t(this);function o(h,y){if(y)e:{var _=a;h=h.split(".");for(var S=0;S<h.length-1;S++){var G=h[S];if(!(G in _))break e;_=_[G]}h=h[h.length-1],S=_[h],y=y(S),y!=S&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,S=!1,G={next:function(){if(!S&&_<h.length){var J=_++;return{value:y(J,h[J]),done:!1}}return S=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function b(h,y,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,S),h.apply(y,G)}}return function(){return h.apply(y,arguments)}}function T(h,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function R(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function I(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,G,J){for(var me=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)me[rt-2]=arguments[rt];return y.prototype[G].apply(S,me)}}function $(h){const y=h.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=h[S];return _}return[]}function F(h,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(m(S)){const G=h.length||0,J=S.length||0;h.length=G+J;for(let me=0;me<J;me++)h[G+me]=S[me]}else h.push(S)}}class H{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ue(h){return/^[\s\xa0]*$/.test(h)}function ne(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function pe(h){return pe[" "](h),h}pe[" "]=function(){};var de=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function q(h,y,_){for(const S in h)y.call(_,h[S],S,h)}function M(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function x(h){const y={};for(const _ in h)y[_]=h[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,y){let _,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(_ in S)h[_]=S[_];for(let J=0;J<C.length;J++)_=C[J],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function U(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function j(h){d.setTimeout(()=>{throw h},0)}function D(){var h=Le;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class je{constructor(){this.h=this.g=null}add(y,_){const S=Fe.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Fe=new H(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ge=!1,Le=new je,O=()=>{const h=d.Promise.resolve(void 0);he=()=>{h.then(re)}};var re=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(_){j(_)}var y=Fe;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ge=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function qe(h,y){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(de){e:{try{pe(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&qe.aa.h.call(this)}}I(qe,le);var xe={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function tr(h,y,_,S,G){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=G,this.key=++gt,this.da=this.fa=!1}function St(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function mn(h){this.src=h,this.g={},this.h=0}mn.prototype.add=function(h,y,_,S,G){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var me=hi(h,y,S,G);return-1<me?(y=h[me],_||(y.fa=!1)):(y=new tr(y,this.src,J,!!S,G),y.fa=_,h.push(y)),y};function Vr(h,y){var _=y.type;if(_ in h.g){var S=h.g[_],G=Array.prototype.indexOf.call(S,y,void 0),J;(J=0<=G)&&Array.prototype.splice.call(S,G,1),J&&(St(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function hi(h,y,_,S){for(var G=0;G<h.length;++G){var J=h[G];if(!J.da&&J.listener==y&&J.capture==!!_&&J.ha==S)return G}return-1}var An="closure_lm_"+(1e6*Math.random()|0),Wa={};function $s(h,y,_,S,G){if(Array.isArray(y)){for(var J=0;J<y.length;J++)$s(h,y[J],_,S,G);return null}return _=Qi(_),h&&h[kt]?h.K(y,_,g(S)?!!S.capture:!1,G):Sn(h,y,_,!1,S,G)}function Sn(h,y,_,S,G,J){if(!y)throw Error("Invalid event type");var me=g(G)?!!G.capture:!!G,rt=nr(h);if(rt||(h[An]=rt=new mn(h)),_=rt.add(y,_,S,me,J),_.proxy)return _;if(S=sl(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)Ae||(G=me),G===void 0&&(G=!1),h.addEventListener(y.toString(),S,G);else if(h.attachEvent)h.attachEvent(fi(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sl(){function h(_){return y.call(h.src,h.listener,_)}const y=Ar;return h}function Za(h,y,_,S,G){if(Array.isArray(y))for(var J=0;J<y.length;J++)Za(h,y[J],_,S,G);else S=g(S)?!!S.capture:!!S,_=Qi(_),h&&h[kt]?(h=h.i,y=String(y).toString(),y in h.g&&(J=h.g[y],_=hi(J,_,S,G),-1<_&&(St(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete h.g[y],h.h--)))):h&&(h=nr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=hi(y,_,S,G)),(_=-1<h?y[h]:null)&&Ki(_))}function Ki(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[kt])Vr(y.i,h);else{var _=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(_,S,h.capture):y.detachEvent?y.detachEvent(fi(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=nr(y))?(Vr(_,h),_.h==0&&(_.src=null,y[An]=null)):St(h)}}}function fi(h){return h in Wa?Wa[h]:Wa[h]="on"+h}function Ar(h,y){if(h.da)h=!0;else{y=new qe(y,this);var _=h.listener,S=h.ha||h.src;h.fa&&Ki(h),h=_.call(S,y)}return h}function nr(h){return h=h[An],h instanceof mn?h:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qi(h){return typeof h=="function"?h:(h[Yi]||(h[Yi]=function(y){return h.handleEvent(y)}),h[Yi])}function ut(){fe.call(this),this.i=new mn(this),this.M=this,this.F=null}I(ut,fe),ut.prototype[kt]=!0,ut.prototype.removeEventListener=function(h,y,_,S){Za(this,h,y,_,S)};function $e(h,y){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new le(y,h);else if(y instanceof le)y.target=y.target||h;else{var G=y;y=new le(S,h),P(y,G)}if(G=!0,_)for(var J=_.length-1;0<=J;J--){var me=y.g=_[J];G=pn(me,S,!0,y)&&G}if(me=y.g=h,G=pn(me,S,!0,y)&&G,G=pn(me,S,!1,y)&&G,_)for(J=0;J<_.length;J++)me=y.g=_[J],G=pn(me,S,!1,y)&&G}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],S=0;S<_.length;S++)St(_[S]);delete h.g[y],h.h--}}this.F=null},ut.prototype.K=function(h,y,_,S){return this.i.add(String(h),y,!1,_,S)},ut.prototype.L=function(h,y,_,S){return this.i.add(String(h),y,!0,_,S)};function pn(h,y,_,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,J=0;J<y.length;++J){var me=y[J];if(me&&!me.da&&me.capture==_){var rt=me.listener,Ht=me.ha||me.src;me.fa&&Vr(h.i,me),G=rt.call(Ht,S)!==!1&&G}}return G&&!S.defaultPrevented}function Pt(h,y,_){if(typeof h=="function")_&&(h=T(h,_));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Ks(h){h.g=Pt(()=>{h.g=null,h.i&&(h.i=!1,Ks(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rr extends fe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ks(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(h){fe.call(this),this.h=h,this.g={}}I(Lr,fe);var Ur=[];function jr(h){q(h.g,function(y,_){this.g.hasOwnProperty(_)&&Ki(y)},h),h.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),jr(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,di=d.JSON.parse,ir=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Xi(){}Xi.prototype.h=null;function mi(h){return h.h||(h.h=h.i())}function Ja(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){le.call(this,"d")}I(Sr,le);function Wi(){le.call(this,"c")}I(Wi,le);var Rn={},zr=null;function Br(){return zr=zr||new ut}Rn.La="serverreachability";function Zi(h){le.call(this,Rn.La,h)}I(Zi,le);function k(h){const y=Br();$e(y,new Zi(y))}Rn.STAT_EVENT="statevent";function B(h,y){le.call(this,Rn.STAT_EVENT,h),this.stat=y}I(B,le);function Y(h){const y=Br();$e(y,new B(y,h))}Rn.Ma="timingevent";function ie(h,y){le.call(this,Rn.Ma,h),this.size=y}I(ie,le);function ce(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function Ie(h,y,_,S,G,J){h.info(function(){if(h.g)if(J)for(var me="",rt=J.split("&"),Ht=0;Ht<rt.length;Ht++){var it=rt[Ht].split("=");if(1<it.length){var Zt=it[0];it=it[1];var Gt=Zt.split("_");me=2<=Gt.length&&Gt[1]=="type"?me+(Zt+"="+it+"&"):me+(Zt+"=redacted&")}}else me=null;else me=J;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+y+`
`+_+`
`+me})}function Ee(h,y,_,S,G,J,me){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+y+`
`+_+`
`+J+" "+me})}function Te(h,y,_,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ne(h,_)+(S?" "+S:"")})}function Se(h,y){h.info(function(){return"TIMEOUT: "+y})}ye.prototype.info=function(){};function Ne(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var G=S[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var me=1;me<G.length;me++)G[me]=""}}}}return zn(_)}catch{return y}}var we={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},We;function ht(){}I(ht,Xi),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},We=new ht;function ot(h,y,_,S){this.j=h,this.i=y,this.l=_,this.R=S||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nt}function nt(){this.i=null,this.g="",this.h=!1}var Qe={},sr={};function qt(h,y,_){h.L=1,h.v=ns(qn(y)),h.m=_,h.P=!0,xn(h,null)}function xn(h,y){h.F=Date.now(),Bn(h),h.A=qn(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),hl(_.i,"t",S),h.C=0,_=h.j.J,h.h=new nt,h.g=dc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new rr(T(h.Y,h,h.g),h.O)),y=h.U,_=h.g,S=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ur[0]=G.toString()),G=Ur);for(var J=0;J<G.length;J++){var me=$s(_,G[J],S||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),k(),Ie(h.i,h.u,h.A,h.l,h.R,h.m)}ot.prototype.ca=function(h){h=h.target;const y=this.M;y&&hr(h)==3?y.j():this.Y(h)},ot.prototype.Y=function(h){try{if(h==this.g)e:{const Gt=hr(this.g);var y=this.g.Ba();const Ti=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||ac(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=Ti?k(3):k(2)),gn(this);var _=this.g.Z();this.X=_;t:if(rn(this)){var S=ac(this.g);h="";var G=S.length,J=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Cn(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(J&&y==G-1)});S.length=0,this.h.g+=h,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,Ee(this.i,this.u,this.A,this.l,this.R,Gt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Ht=this.g;if((rt=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(rt)){var it=rt;break t}}it=null}if(_=it)Te(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vt(this,_);else{this.o=!1,this.s=3,Y(12),Ue(this),Cn(this);break e}}if(this.P){_=!0;let sn;for(;!this.J&&this.C<me.length;)if(sn=Fr(this,me),sn==sr){Gt==4&&(this.s=4,Y(14),_=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Qe){this.s=4,Y(15),Te(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else Te(this.i,this.l,sn,null),Vt(this,sn);if(rn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||me.length!=0||this.h.h||(this.s=1,Y(16),_=!1),this.o=this.o&&_,!_)Te(this.i,this.l,me,"[Invalid Chunked Response]"),Ue(this),Cn(this);else if(0<me.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),cs(Zt),Zt.M=!0,Y(11))}}else Te(this.i,this.l,me,null),Vt(this,me);Gt==4&&Ue(this),this.o&&!this.J&&(Gt==4?cc(this.j,this):(this.o=!1,Bn(this)))}else Hf(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,Y(12)):(this.s=0,Y(13)),Ue(this),Cn(this)}}}catch{}finally{}};function rn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Fr(h,y){var _=h.C,S=y.indexOf(`
`,_);return S==-1?sr:(_=Number(y.substring(_,S)),isNaN(_)?Qe:(S+=1,S+_>y.length?sr:(y=y.slice(S,S+_),h.C=S+_,y)))}ot.prototype.cancel=function(){this.J=!0,Ue(this)};function Bn(h){h.S=Date.now()+h.I,Ji(h,h.I)}function Ji(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ce(T(h.ba,h),y)}function gn(h){h.B&&(d.clearTimeout(h.B),h.B=null)}ot.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Se(this.i,this.A),this.L!=2&&(k(),Y(17)),Ue(this),this.s=2,Cn(this)):Ji(this,this.S-h)};function Cn(h){h.j.G==0||h.J||cc(h.j,h)}function Ue(h){gn(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,jr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Vt(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||or(_.h,h))){if(!h.K&&or(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)no(_),eo(_);else break e;gl(_),Y(18)}}else _.za=G[1],0<_.za-_.T&&37500>G[2]&&_.F&&_.v==0&&!_.C&&(_.C=ce(T(_.Za,_),6e3));if(1>=bt(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((h.K||_.g==h)&&no(_),!ue(y))for(G=_.Da.g.parse(y),y=0;y<G.length;y++){let it=G[y];if(_.T=it[0],it=it[1],_.G==2)if(it[0]=="c"){_.K=it[1],_.ia=it[2];const Zt=it[3];Zt!=null&&(_.la=Zt,_.j.info("VER="+_.la));const Gt=it[4];Gt!=null&&(_.Aa=Gt,_.j.info("SVER="+_.Aa));const Ti=it[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(S=1.5*Ti,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const sn=h.g;if(sn){const Xr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var J=S.h;J.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(pi(J,J.h),J.h=null))}if(S.D){const vl=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(S.ya=vl,yt(S.I,S.D,vl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var me=h;if(S.qa=fc(S,S.J?S.ia:null,S.W),me.K){an(S.h,me);var rt=me,Ht=S.L;Ht&&(rt.I=Ht),rt.B&&(gn(rt),Bn(rt)),S.g=me}else lc(S);0<_.i.length&&to(_)}else it[0]!="stop"&&it[0]!="close"||bi(_,7);else _.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?bi(_,7):ml(_):it[0]!="noop"&&_.l&&_.l.ta(it),_.v=0)}}k(4)}catch{}}var Fn=class{constructor(h,y){this.g=h,this.map=y}};function On(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bt(h){return h.h?1:h.g?h.g.size:0}function or(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function pi(h,y){h.g?h.g.add(y):h.h=y}function an(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}On.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ol(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return $(h.i)}function zf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],_=h.length,S=0;S<_;S++)y.push(h[S]);return y}y=[],_=0;for(S in h)y[_++]=h[S];return y}function Ys(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const S in h)y[_++]=S;return y}}}function ll(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Ys(h),S=zf(h),G=S.length,J=0;J<G;J++)y.call(void 0,S[J],_&&_[J],h)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bf(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),G=null;if(0<=S){var J=h[_].substring(0,S);G=h[_].substring(S+1)}else J=h[_];y(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Lt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Lt){this.h=h.h,ts(this,h.j),this.o=h.o,this.g=h.g,ea(this,h.s),this.l=h.l;var y=h.i,_=new yi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),gi(this,_),this.m=h.m}else h&&(y=String(h).match(es))?(this.h=!1,ts(this,y[1]||"",!0),this.o=lr(y[2]||""),this.g=lr(y[3]||"",!0),ea(this,y[4]),this.l=lr(y[5]||"",!0),gi(this,y[6]||"",!0),this.m=lr(y[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}Lt.prototype.toString=function(){var h=[],y=this.j;y&&h.push(rs(y,ul,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(rs(y,ul,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(rs(_,_.charAt(0)=="/"?Ff:cl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",rs(_,Qs)),h.join("")};function qn(h){return new Lt(h)}function ts(h,y,_){h.j=_?lr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ea(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function gi(h,y,_){y instanceof yi?(h.i=y,rc(h.i,h.h)):(_||(y=rs(y,qf)),h.i=new yi(y,h.h))}function yt(h,y,_){h.i.set(y,_)}function ns(h){return yt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function lr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function rs(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,nc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function nc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ul=/[#\/\?@]/g,cl=/[#\?:]/g,Ff=/[#\?]/g,qf=/[#\?@]/g,Qs=/#/g;function yi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function ur(h){h.g||(h.g=new Map,h.h=0,h.i&&Bf(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=yi.prototype,r.add=function(h,y){ur(this),this.i=null,h=Hr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function vi(h,y){ur(h),y=Hr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function _i(h,y){return ur(h),y=Hr(h,y),h.g.has(y)}r.forEach=function(h,y){ur(this),this.g.forEach(function(_,S){_.forEach(function(G){h.call(y,G,S,this)},this)},this)},r.na=function(){ur(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const G=h[S];for(let J=0;J<G.length;J++)_.push(y[S])}return _},r.V=function(h){ur(this);let y=[];if(typeof h=="string")_i(this,h)&&(y=y.concat(this.g.get(Hr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},r.set=function(h,y){return ur(this),this.i=null,h=Hr(this,h),_i(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function hl(h,y,_){vi(h,y),0<_.length&&(h.i=null,h.g.set(Hr(h,y),$(_)),h.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const J=encodeURIComponent(String(S)),me=this.V(S);for(S=0;S<me.length;S++){var G=J;me[S]!==""&&(G+="="+encodeURIComponent(String(me[S]))),h.push(G)}}return this.i=h.join("&")};function Hr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function rc(h,y){y&&!h.j&&(ur(h),h.i=null,h.g.forEach(function(_,S){var G=S.toLowerCase();S!=G&&(vi(this,S),hl(this,G,_))},h)),h.j=y}function is(h,y){const _=new ye;if(d.Image){const S=new Image;S.onload=R(cr,_,"TestLoadImage: loaded",!0,y,S),S.onerror=R(cr,_,"TestLoadImage: error",!1,y,S),S.onabort=R(cr,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=R(cr,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Rr(h,y){const _=new ye,S=new AbortController,G=setTimeout(()=>{S.abort(),cr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(J=>{clearTimeout(G),J.ok?cr(_,"TestPingServer: ok",!0,y):cr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),cr(_,"TestPingServer: error",!1,y)})}function cr(h,y,_,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(_)}catch{}}function as(){this.g=new ir}function Gr(h,y,_){const S=_||"";try{ll(h,function(G,J){let me=G;g(G)&&(me=zn(G)),y.push(S+J+"="+encodeURIComponent(me))})}catch(G){throw y.push(S+"type="+encodeURIComponent("_badmap")),G}}function ta(h){this.l=h.Ub||null,this.j=h.eb||!1}I(ta,Xi),ta.prototype.g=function(){return new Ei(this.l,this.j)},ta.prototype.i=function(h){return function(){return h}}({});function Ei(h,y){ut.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ei,ut),r=Ei.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Kr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?$r(this):Kr(this),this.readyState==3&&fl(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,$r(this))},r.Qa=function(h){this.g&&(this.response=h,$r(this))},r.ga=function(){this.g&&$r(this)};function $r(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Kr(h)}r.setRequestHeader=function(h,y){this.u.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function Kr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function dl(h){let y="";return q(h,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Wt(h,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=dl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):yt(h,y,_))}function ft(h){ut.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ft,ut);var Xs=/^https?$/i,ss=["POST","PUT"];r=ft.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():We.g(),this.v=this.o?mi(this.o):mi(We),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(J){ic(this,J);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)_.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const J of S.keys())_.set(J,S.get(J));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),G=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ss,y,void 0))||S||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of _)this.g.setRequestHeader(J,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){ic(this,J)}};function ic(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ws(h),Yr(h)}function Ws(h){h.A||(h.A=!0,$e(h,"complete"),$e(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,$e(this,"complete"),$e(this,"abort"),Yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Zs(this):this.bb())},r.bb=function(){Zs(this)};function Zs(h){if(h.h&&typeof c<"u"&&(!h.v[1]||hr(h)!=4||h.Z()!=2)){if(h.u&&hr(h)==4)Pt(h.Ea,0,h);else if($e(h,"readystatechange"),hr(h)==4){h.h=!1;try{const me=h.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=me===0){var G=String(h.D).match(es)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),S=!Xs.test(G?G.toLowerCase():"")}_=S}if(_)$e(h,"complete"),$e(h,"success");else{h.m=6;try{var J=2<hr(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",Ws(h)}}finally{Yr(h)}}}}function Yr(h,y){if(h.g){os(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||$e(h,"ready");try{_.onreadystatechange=S}catch{}}}function os(h){h.I&&(d.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function hr(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),di(y)}};function ac(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Hf(h){const y={};h=(h.g&&2<=hr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(ue(h[S]))continue;var _=U(h[S]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=y[G]||[];y[G]=J,J.push(_)}M(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Js(h){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,h),this.cb=ls("retryDelaySeedMs",1e4,h),this.Wa=ls("forwardChannelMaxRetries",2,h),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new On(h&&h.concurrentRequestLimit),this.Da=new as,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Js.prototype,r.la=8,r.G=1,r.connect=function(h,y,_,S){Y(0),this.W=h,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=fc(this,null,this.W),to(this)};function ml(h){if(sc(h),h.G==3){var y=h.U++,_=qn(h.I);if(yt(_,"SID",h.K),yt(_,"RID",y),yt(_,"TYPE","terminate"),us(h,_),y=new ot(h,h.j,y),y.L=2,y.v=ns(qn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=dc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Bn(y)}hc(h)}function eo(h){h.g&&(cs(h),h.g.cancel(),h.g=null)}function sc(h){eo(h),h.u&&(d.clearTimeout(h.u),h.u=null),no(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function to(h){if(!qr(h.h)&&!h.s){h.s=!0;var y=h.Ga;he||O(),ge||(he(),ge=!0),Le.add(y,h),h.B=0}}function Gf(h,y){return bt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ce(T(h.Ga,h,y),yl(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new ot(this,this.j,h);let J=this.o;if(this.S&&(J?(J=x(J),P(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=oc(this,G,y),_=qn(this.I),yt(_,"RID",h),yt(_,"CVER",22),this.D&&yt(_,"X-HTTP-Session-Id",this.D),us(this,_),J&&(this.O?y="headers="+encodeURIComponent(String(dl(J)))+"&"+y:this.m&&Wt(_,this.m,J)),pi(this.h,G),this.Ua&&yt(_,"TYPE","init"),this.P?(yt(_,"$req",y),yt(_,"SID","null"),G.T=!0,qt(G,_,null)):qt(G,_,y),this.G=2}}else this.G==3&&(h?pl(this,h):this.i.length==0||qr(this.h)||pl(this))};function pl(h,y){var _;y?_=y.l:_=h.U++;const S=qn(h.I);yt(S,"SID",h.K),yt(S,"RID",_),yt(S,"AID",h.T),us(h,S),h.m&&h.o&&Wt(S,h.m,h.o),_=new ot(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=oc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),pi(h.h,_),qt(_,S,y)}function us(h,y){h.H&&q(h.H,function(_,S){yt(y,S,_)}),h.l&&ll({},function(_,S){yt(y,S,_)})}function oc(h,y,_){_=Math.min(h.i.length,_);var S=h.l?T(h.l.Na,h.l,h):null;e:{var G=h.i;let J=-1;for(;;){const me=["count="+_];J==-1?0<_?(J=G[0].g,me.push("ofs="+J)):J=0:me.push("ofs="+J);let rt=!0;for(let Ht=0;Ht<_;Ht++){let it=G[Ht].g;const Zt=G[Ht].map;if(it-=J,0>it)J=Math.max(0,G[Ht].g-100),rt=!1;else try{Gr(Zt,me,"req"+it+"_")}catch{S&&S(Zt)}}if(rt){S=me.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,S}function lc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;he||O(),ge||(he(),ge=!0),Le.add(y,h),h.v=0}}function gl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ce(T(h.Fa,h),yl(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ce(T(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y(10),eo(this),uc(this))};function cs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function uc(h){h.g=new ot(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=qn(h.qa);yt(y,"RID","rpc"),yt(y,"SID",h.K),yt(y,"AID",h.T),yt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&yt(y,"TO",h.ja),yt(y,"TYPE","xmlhttp"),us(h,y),h.m&&h.o&&Wt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=ns(qn(y)),_.m=null,_.P=!0,xn(_,h)}r.Za=function(){this.C!=null&&(this.C=null,eo(this),gl(this),Y(19))};function no(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function cc(h,y){var _=null;if(h.g==y){no(h),cs(h),h.g=null;var S=2}else if(or(h.h,y))_=y.D,an(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var G=h.B;S=Br(),$e(S,new ie(S,_)),to(h)}else lc(h);else if(G=y.s,G==3||G==0&&0<y.X||!(S==1&&Gf(h,y)||S==2&&gl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),G){case 1:bi(h,5);break;case 4:bi(h,10);break;case 3:bi(h,6);break;default:bi(h,2)}}}function yl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function bi(h,y){if(h.j.info("Error code "+y),y==2){var _=T(h.fb,h),S=h.Xa;const G=!S;S=new Lt(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ts(S,"https"),ns(S),G?is(S.toString(),_):Rr(S.toString(),_)}else Y(2);h.G=0,h.l&&h.l.sa(y),hc(h),sc(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function hc(h){if(h.G=0,h.ka=[],h.l){const y=ol(h.h);(y.length!=0||h.i.length!=0)&&(F(h.ka,y),F(h.ka,h.i),h.h.i.length=0,$(h.i),h.i.length=0),h.l.ra()}}function fc(h,y,_){var S=_ instanceof Lt?qn(_):new Lt(_);if(S.g!="")y&&(S.g=y+"."+S.g),ea(S,S.s);else{var G=d.location;S=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var J=new Lt(null);S&&ts(J,S),y&&(J.g=y),G&&ea(J,G),_&&(J.l=_),S=J}return _=h.D,y=h.ya,_&&y&&yt(S,_,y),yt(S,"VER",h.la),us(h,S),S}function dc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new ft(new ta({eb:_})):new ft(h.pa),y.Ha(h.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}r=mc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ro(){}ro.prototype.g=function(h,y){return new In(h,y)};function In(h,y){ut.call(this),this.g=new Js(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!ue(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ue(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Qr(this)}I(In,ut),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){ml(this.g)},In.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=zn(h),h=_);y.i.push(new Fn(y.Ya++,h)),y.G==3&&to(y)},In.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,In.aa.N.call(this)};function pc(h){Sr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}I(pc,Sr);function gc(){Wi.call(this),this.status=1}I(gc,Wi);function Qr(h){this.g=h}I(Qr,mc),Qr.prototype.ua=function(){$e(this.g,"a")},Qr.prototype.ta=function(h){$e(this.g,new pc(h))},Qr.prototype.sa=function(h){$e(this.g,new gc)},Qr.prototype.ra=function(){$e(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,qw=function(){return new ro},Fw=function(){return Br()},Bw=Rn,Ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,Oh=we,Oe.COMPLETE="complete",zw=Oe,Ja.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",ut.prototype.listen=ut.prototype.K,pu=Ja,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,jw=ft}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});const VE="@firebase/firestore",LE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new df("@firebase/firestore");function ko(){return Us.logLevel}function ve(r,...e){if(Us.logLevel<=et.DEBUG){const t=e.map(pg);Us.debug(`Firestore (${tl}): ${r}`,...t)}}function Fi(r,...e){if(Us.logLevel<=et.ERROR){const t=e.map(pg);Us.error(`Firestore (${tl}): ${r}`,...t)}}function Ho(r,...e){if(Us.logLevel<=et.WARN){const t=e.map(pg);Us.warn(`Firestore (${tl}): ${r}`,...t)}}function pg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,Hw(r,a,t)}function Hw(r,e,t){let a=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Fi(a),new Error(a)}function dt(r,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,r||Hw(e,o,a)}function Be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class f4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class d4{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,t(m)):Promise.resolve();let l=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ji,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ji)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(dt(typeof a.accessToken=="string",31837,{l:a}),new Gw(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class m4{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p4{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new m4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);const a=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const o=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new UE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new UE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=y4(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<t&&(a+=e.charAt(o[l]%62))}return a}}function Ye(r,e){return r<e?-1:r>e?1:0}function Sp(r,e){let t=0;for(;t<r.length&&t<e.length;){const a=r.codePointAt(t),o=e.codePointAt(t);if(a!==o){if(a<128&&o<128)return Ye(a,o);{const l=$w(),c=v4(l.encode(jE(r,t)),l.encode(jE(e,t)));return c!==0?c:Ye(a,o)}}t+=a>65535?2:1}return Ye(r.length,e.length)}function jE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function v4(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ye(r[t],e[t]);return Ye(r.length,e.length)}function Go(r,e,t){return r.length===e.length&&r.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=-62135596800,BE=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*BE);return new Yt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zE)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Yt(0,0))}static max(){return new ze(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="__name__";class ni{constructor(e,t,a){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Pe(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const l=ni.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ye(e.length,t.length)}static compareSegments(e,t){const a=ni.isNumericId(e),o=ni.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?ni.extractNumericId(e).compare(ni.extractNumericId(t)):Sp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ma.fromString(e.substring(4,e.length-2))}}class At extends ni{construct(e,t,a){return new At(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new _e(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new At(t)}static emptyPath(){return new At([])}}const _4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ni{construct(e,t,a){return new hn(e,t,a)}static isValidIdentifier(e){return _4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FE}static keyField(){return new hn([FE])}static fromServerFormat(e){const t=[];let a="",o=0;const l=()=>{if(a.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new _e(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(a+=d,o++):(l(),o++)}if(l(),c)throw new _e(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(At.fromString(e))}static fromName(e){return new Ce(At.fromString(e).popFirst(5))}static empty(){return new Ce(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new At(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function E4(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(a===1e9?new Yt(t+1,0):new Yt(t,a));return new Va(o,Ce.empty(),e)}function b4(r){return new Va(r.readTime,r.key,Du)}class Va{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Va(ze.min(),Ce.empty(),Du)}static max(){return new Va(ze.max(),Ce.empty(),Du)}}function T4(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(r.documentKey,e.documentKey),t!==0?t:Ye(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==w4)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,a)=>{t(e)})}static reject(e){return new oe((t,a)=>{a(e)})}static waitFor(e){return new oe((t,a)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},m=>a(m))}),c=!0,l===o&&t()})}static or(e){let t=oe.resolve(!1);for(const a of e)t=t.next(o=>o?oe.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,l)=>{a.push(t.call(this,o,l))}),this.waitFor(a)}static mapArray(e,t){return new oe((a,o)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(v=>{c[g]=v,++d,d===l&&a(c)},v=>o(v))}})}static doWhile(e,t){return new oe((a,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):a()};l()})}}function S4(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function rl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>t.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ef.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function bf(r){return r==null}function Wh(r){return r===0&&1/r==-1/0}function R4(r){return typeof r=="number"&&Number.isInteger(r)&&!Wh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="";function x4(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=qE(e)),e=C4(r.get(t),e);return qE(e)}function C4(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case Yw:t+="";break;default:t+=l}}return t}function qE(r){return r+Yw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ka(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Qw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new Ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,a,o,l){this.key=e,this.value=t,this.color=a??cn.RED,this.left=o??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,l){return new cn(e??this.key,t??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,a),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,a,o,l){return this}insert(e,t,a){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GE(this.data.getIterator())}getIteratorFrom(e){return new GE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class GE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new Qt(hn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Xw("Invalid base64 string: "+l):l}}(e);return new dn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const I4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(r){if(dt(!!r,39018),typeof r=="string"){let e=0;const t=I4.exec(r);if(dt(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Mt(r.seconds),nanos:Mt(r.nanos)}}function Mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ua(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="server_timestamp",Zw="__type__",Jw="__previous_value__",eA="__local_write_time__";function yg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zw])===null||t===void 0?void 0:t.stringValue)===Ww}function Tf(r){const e=r.mapValue.fields[Jw];return yg(e)?Tf(e):e}function Ou(r){const e=La(r.mapValue.fields[eA].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t,a,o,l,c,d,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Zh="(default)";class Mu{constructor(e,t){this.projectId=e,this.database=t||Zh}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===Zh}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__type__",D4="__max__",Th={mapValue:{}},nA="__vector__",Jh="value";function ja(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:M4(r)?9007199254740991:O4(r)?10:11:Pe(28295,{value:r})}function ui(r,e){if(r===e)return!0;const t=ja(r);if(t!==ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ou(r).isEqual(Ou(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=La(o.timestampValue),d=La(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Ua(o.bytesValue).isEqual(Ua(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Mt(o.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Mt(o.integerValue)===Mt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Mt(o.doubleValue),d=Mt(l.doubleValue);return c===d?Wh(c)===Wh(d):isNaN(c)&&isNaN(d)}return!1}(r,e);case 9:return Go(r.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(HE(c)!==HE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ui(c[m],d[m])))return!1;return!0}(r,e);default:return Pe(52216,{left:r})}}function ku(r,e){return(r.values||[]).find(t=>ui(t,e))!==void 0}function $o(r,e){if(r===e)return 0;const t=ja(r),a=ja(e);if(t!==a)return Ye(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(r.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Mt(l.integerValue||l.doubleValue),m=Mt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(r,e);case 3:return $E(r.timestampValue,e.timestampValue);case 4:return $E(Ou(r),Ou(e));case 5:return Sp(r.stringValue,e.stringValue);case 6:return function(l,c){const d=Ua(l),m=Ua(c);return d.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Ye(d[g],m[g]);if(v!==0)return v}return Ye(d.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ye(Mt(l.latitude),Mt(c.latitude));return d!==0?d:Ye(Mt(l.longitude),Mt(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return KE(r.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,v;const b=l.fields||{},T=c.fields||{},R=(d=b[Jh])===null||d===void 0?void 0:d.arrayValue,I=(m=T[Jh])===null||m===void 0?void 0:m.arrayValue,$=Ye(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((v=I==null?void 0:I.values)===null||v===void 0?void 0:v.length)||0);return $!==0?$:KE(R,I)}(r.mapValue,e.mapValue);case 11:return function(l,c){if(l===Th.mapValue&&c===Th.mapValue)return 0;if(l===Th.mapValue)return 1;if(c===Th.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const T=Sp(m[b],v[b]);if(T!==0)return T;const R=$o(d[m[b]],g[v[b]]);if(R!==0)return R}return Ye(m.length,v.length)}(r.mapValue,e.mapValue);default:throw Pe(23264,{Pe:t})}}function $E(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ye(r,e);const t=La(r),a=La(e),o=Ye(t.seconds,a.seconds);return o!==0?o:Ye(t.nanos,a.nanos)}function KE(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const l=$o(t[o],a[o]);if(l)return l}return Ye(t.length,a.length)}function Ko(r){return Rp(r)}function Rp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=La(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ua(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ce.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",o=!0;for(const l of t.values||[])o?o=!1:a+=",",a+=Rp(l);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of a)l?l=!1:o+=",",o+=`${c}:${Rp(t.fields[c])}`;return o+"}"}(r.mapValue):Pe(61005,{value:r})}function Mh(r){switch(ja(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(r);return e?16+Mh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ua(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,l)=>o+Mh(l),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Ka(a.fields,(l,c)=>{o+=l.length+Mh(c)}),o}(r.mapValue);default:throw Pe(13486,{value:r})}}function YE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xp(r){return!!r&&"integerValue"in r}function vg(r){return!!r&&"arrayValue"in r}function QE(r){return!!r&&"nullValue"in r}function XE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kh(r){return!!r&&"mapValue"in r}function O4(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[tA])===null||t===void 0?void 0:t.stringValue)===nA}function Tu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ka(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Tu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function M4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===D4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(t)}setAll(e){let t=hn.emptyPath(),a={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,a,o),a={},o=[],t=d.popLast()}c?a[d.lastSegment()]=Tu(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,o)}delete(e){const t=this.field(e.popLast());kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];kh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){Ka(t,(o,l)=>e[o]=l);for(const o of a)delete e[o]}clone(){return new Ln(Tu(this.value))}}function rA(r){const e=[];return Ka(r.fields,(t,a)=>{const o=new hn([t]);if(kh(a)){const l=rA(a.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t,a,o,l,c,d){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new bn(e,0,ze.min(),ze.min(),ze.min(),Ln.empty(),0)}static newFoundDocument(e,t,a,o){return new bn(e,1,t,ze.min(),a,o,0)}static newNoDocument(e,t){return new bn(e,2,t,ze.min(),ze.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,ze.min(),ze.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.position=e,this.inclusive=t}}function WE(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?a=Ce.comparator(Ce.fromName(c.referenceValue),t.key):a=$o(c,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function ZE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ui(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t="asc"){this.field=e,this.dir=t}}function k4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{}class Bt extends iA{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new V4(e,t,a):t==="array-contains"?new j4(e,a):t==="in"?new z4(e,a):t==="not-in"?new B4(e,a):t==="array-contains-any"?new F4(e,a):new Bt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new L4(e,a):new U4(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($o(t,this.value)):t!==null&&ja(this.value)===ja(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends iA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new kr(e,t)}matches(e){return aA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function aA(r){return r.op==="and"}function sA(r){return P4(r)&&aA(r)}function P4(r){for(const e of r.filters)if(e instanceof kr)return!1;return!0}function Cp(r){if(r instanceof Bt)return r.field.canonicalString()+r.op.toString()+Ko(r.value);if(sA(r))return r.filters.map(e=>Cp(e)).join(",");{const e=r.filters.map(t=>Cp(t)).join(",");return`${r.op}(${e})`}}function oA(r,e){return r instanceof Bt?function(a,o){return o instanceof Bt&&a.op===o.op&&a.field.isEqual(o.field)&&ui(a.value,o.value)}(r,e):r instanceof kr?function(a,o){return o instanceof kr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((l,c,d)=>l&&oA(c,o.filters[d]),!0):!1}(r,e):void Pe(19439)}function lA(r){return r instanceof Bt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`}(r):r instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(lA).join(" ,")+"}"}(r):"Filter"}class V4 extends Bt{constructor(e,t,a){super(e,t,a),this.key=Ce.fromName(a.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class L4 extends Bt{constructor(e,t){super(e,"in",t),this.keys=uA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class U4 extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=uA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uA(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>Ce.fromName(a.referenceValue))}class j4 extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vg(t)&&ku(t.arrayValue,this.value)}}class z4 extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ku(this.value.arrayValue,t)}}class B4 extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ku(this.value.arrayValue,t)}}class F4 extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>ku(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,t=null,a=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function JE(r,e=null,t=[],a=[],o=null,l=null,c=null){return new q4(r,e,t,a,o,l,c)}function _g(r){const e=Be(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>Cp(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Ko(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Ko(a)).join(",")),e.Ie=t}return e.Ie}function Eg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!k4(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!oA(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ZE(r.startAt,e.startAt)&&ZE(r.endAt,e.endAt)}function Ip(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t=null,a=[],o=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function H4(r,e,t,a,o,l,c,d){return new il(r,e,t,a,o,l,c,d)}function wf(r){return new il(r)}function eb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cA(r){return r.collectionGroup!==null}function wu(r){const e=Be(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Qt(hn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Pu(l,a))}),t.has(hn.keyField().canonicalString())||e.Ee.push(new Pu(hn.keyField(),a))}return e.Ee}function si(r){const e=Be(r);return e.de||(e.de=G4(e,wu(r))),e.de}function G4(r,e){if(r.limitType==="F")return JE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Pu(o.field,l)});const t=r.endAt?new ef(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ef(r.startAt.position,r.startAt.inclusive):null;return JE(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function Np(r,e){const t=r.filters.concat([e]);return new il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Dp(r,e,t){return new il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Af(r,e){return Eg(si(r),si(e))&&r.limitType===e.limitType}function hA(r){return`${_g(si(r))}|lt:${r.limitType}`}function Po(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>lA(o)).join(", ")}]`),bf(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>Ko(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>Ko(o)).join(",")),`Target(${a})`}(si(r))}; limitType=${r.limitType})`}function Sf(r,e){return e.isFoundDocument()&&function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Ce.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(r,e)&&function(a,o){for(const l of wu(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(c,d,m){const g=WE(c,d,m);return c.inclusive?g<=0:g<0}(a.startAt,wu(a),o)||a.endAt&&!function(c,d,m){const g=WE(c,d,m);return c.inclusive?g>=0:g>0}(a.endAt,wu(a),o))}(r,e)}function $4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fA(r){return(e,t)=>{let a=!1;for(const o of wu(r)){const l=K4(o,e,t);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function K4(r,e,t){const a=r.field.isKeyField()?Ce.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?$o(m,g):Pe(42886)}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Pe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,(t,a)=>{for(const[o,l]of a)e(o,l)})}isEmpty(){return Qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Ct(Ce.comparator);function qi(){return Y4}const dA=new Ct(Ce.comparator);function gu(...r){let e=dA;for(const t of r)e=e.insert(t.key,t);return e}function mA(r){let e=dA;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function Ns(){return Au()}function pA(){return Au()}function Au(){return new Hs(r=>r.toString(),(r,e)=>r.isEqual(e))}const Q4=new Ct(Ce.comparator),X4=new Qt(Ce.comparator);function tt(...r){let e=X4;for(const t of r)e=e.add(t);return e}const W4=new Qt(Ye);function Z4(){return W4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function gA(r){return{integerValue:""+r}}function yA(r,e){return R4(e)?gA(e):bg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this._=void 0}}function J4(r,e,t){return r instanceof Vu?function(o,l){const c={fields:{[Zw]:{stringValue:Ww},[eA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&yg(l)&&(l=Tf(l)),l&&(c.fields[Jw]=l),{mapValue:c}}(t,e):r instanceof Lu?_A(r,e):r instanceof Uu?EA(r,e):function(o,l){const c=vA(o,l),d=tb(c)+tb(o.Re);return xp(c)&&xp(o.Re)?gA(d):bg(o.serializer,d)}(r,e)}function eM(r,e,t){return r instanceof Lu?_A(r,e):r instanceof Uu?EA(r,e):t}function vA(r,e){return r instanceof ju?function(a){return xp(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class Vu extends Rf{}class Lu extends Rf{constructor(e){super(),this.elements=e}}function _A(r,e){const t=bA(e);for(const a of r.elements)t.some(o=>ui(o,a))||t.push(a);return{arrayValue:{values:t}}}class Uu extends Rf{constructor(e){super(),this.elements=e}}function EA(r,e){let t=bA(e);for(const a of r.elements)t=t.filter(o=>!ui(o,a));return{arrayValue:{values:t}}}class ju extends Rf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function tb(r){return Mt(r.integerValue||r.doubleValue)}function bA(r){return vg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.field=e,this.transform=t}}function tM(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Lu&&o instanceof Lu||a instanceof Uu&&o instanceof Uu?Go(a.elements,o.elements,ui):a instanceof ju&&o instanceof ju?ui(a.Re,o.Re):a instanceof Vu&&o instanceof Vu}(r.transform,e.transform)}class nM{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xf{}function wA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new SA(r.key,Dr.none()):new Qu(r.key,r.data,Dr.none());{const t=r.data,a=Ln.empty();let o=new Qt(hn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?a.delete(l):a.set(l,c),o=o.add(l)}return new Ya(r.key,a,new Jn(o.toArray()),Dr.none())}}function rM(r,e,t){r instanceof Qu?function(o,l,c){const d=o.value.clone(),m=rb(o.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Ya?function(o,l,c){if(!Ph(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=rb(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(AA(o)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(r,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Su(r,e,t,a){return r instanceof Qu?function(l,c,d,m){if(!Ph(l.precondition,c))return d;const g=l.value.clone(),v=ib(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(r,e,t,a):r instanceof Ya?function(l,c,d,m){if(!Ph(l.precondition,c))return d;const g=ib(l.fieldTransforms,m,c),v=c.data;return v.setAll(AA(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(r,e,t,a):function(l,c,d){return Ph(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(r,e,t)}function iM(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),l=vA(a.transform,o||null);l!=null&&(t===null&&(t=Ln.empty()),t.set(a.field,l))}return t||null}function nb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Go(a,o,(l,c)=>tM(l,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Qu extends xf{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ya extends xf{constructor(e,t,a,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AA(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function rb(r,e,t){const a=new Map;dt(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let o=0;o<t.length;o++){const l=r[o],c=l.transform,d=e.data.field(l.field);a.set(l.field,eM(c,d,t[o]))}return a}function ib(r,e,t){const a=new Map;for(const o of r){const l=o.transform,c=t.data.field(o.field);a.set(o.field,J4(l,c,e))}return a}class SA extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aM extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&rM(l,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Su(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Su(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=pA();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const m=wA(c,d);m!==null&&a.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(ze.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(t,a)=>nb(t,a))&&Go(this.baseMutations,e.baseMutations,(t,a)=>nb(t,a))}}class Tg{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){dt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return Q4}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,a[c].version);return new Tg(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,st;function uM(r){switch(r){case se.OK:return Pe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Pe(15467,{code:r})}}function RA(r){if(r===void 0)return Fi("GRPC error has no .code"),se.UNKNOWN;switch(r){case zt.OK:return se.OK;case zt.CANCELLED:return se.CANCELLED;case zt.UNKNOWN:return se.UNKNOWN;case zt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case zt.INTERNAL:return se.INTERNAL;case zt.UNAVAILABLE:return se.UNAVAILABLE;case zt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case zt.NOT_FOUND:return se.NOT_FOUND;case zt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case zt.ABORTED:return se.ABORTED;case zt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case zt.DATA_LOSS:return se.DATA_LOSS;default:return Pe(39323,{code:r})}}(st=zt||(zt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new Ma([4294967295,4294967295],0);function ab(r){const e=$w().encode(r),t=new Uw;return t.update(e),new Uint8Array(t.digest())}function sb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ma([t,a],0),new Ma([o,l],0)]}class wg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(a<0)throw new yu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ma.fromNumber(this.pe)}we(e,t,a){let o=e.add(t.multiply(Ma.fromNumber(a)));return o.compare(cM)===1&&(o=new Ma([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=ab(e),[a,o]=sb(t);for(let l=0;l<this.hashCount;l++){const c=this.we(a,o,l);if(!this.be(c))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new wg(l,o,t);return a.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=ab(e),[a,o]=sb(t);for(let l=0;l<this.hashCount;l++){const c=this.we(a,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,a,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Cf(ze.min(),o,new Ct(Ye),qi(),tt())}}class Xu{constructor(e,t,a,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Xu(a,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t,a,o){this.De=e,this.removedTargetIds=t,this.key=a,this.ve=o}}class xA{constructor(e,t){this.targetId=e,this.Ce=t}}class CA{constructor(e,t,a=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class ob{constructor(){this.Fe=0,this.Me=lb(),this.xe=dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),t=tt(),a=tt();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Pe(38017,{changeType:l})}}),new Xu(this.xe,this.Oe,e,t,a)}Qe(){this.Ne=!1,this.Me=lb()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class hM{constructor(e){this.ze=e,this.je=new Map,this.He=qi(),this.Je=wh(),this.Ye=wh(),this.Ze=new Ct(Ye)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const a=this.rt(t);switch(e.state){case 0:this.it(t)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(t);break;case 3:this.it(t)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),a.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((a,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,a=e.Ce.count,o=this._t(t);if(o){const l=o.target;if(Ip(l))if(a===0){const c=new Ce(l.path);this.tt(t,c,bn.newNoDocument(c,ze.min()))}else dt(a===1,20013,{expectedCount:a});else{const c=this.ut(t);if(c!==a){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=Ua(a).toUint8Array()}catch(m){if(m instanceof Xw)return Ho("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new wg(c,o,l)}catch(m){return Ho(m instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,a){return t.Ce.count===a-this.Tt(e,t.targetId)?0:2}Tt(e,t){const a=this.ze.getRemoteKeysForTarget(t);let o=0;return a.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Ip(d.target)){const m=new Ce(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,bn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let a=tt();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const o=new Cf(e,t,this.Ze,this.He,a);return this.He=qi(),this.Je=wh(),this.Ye=wh(),this.Ze=new Ct(Ye),o}et(e,t){if(!this.it(e))return;const a=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,a),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),a&&(this.He=this.He.insert(t,a))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ob,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Qt(Ye),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Qt(Ye),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ob),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function wh(){return new Ct(Ce.comparator)}function lb(){return new Ct(Ce.comparator)}const fM={asc:"ASCENDING",desc:"DESCENDING"},dM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mM={and:"AND",or:"OR"};class pM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Op(r,e){return r.useProto3Json||bf(e)?e:{value:e}}function tf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function gM(r,e){return tf(r,e.toTimestamp())}function oi(r){return dt(!!r,49232),ze.fromTimestamp(function(t){const a=La(t);return new Yt(a.seconds,a.nanos)}(r))}function Ag(r,e){return Mp(r,e).canonicalString()}function Mp(r,e){const t=function(o){return new At(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function NA(r){const e=At.fromString(r);return dt(PA(e),10190,{key:e.toString()}),e}function kp(r,e){return Ag(r.databaseId,e.path)}function ip(r,e){const t=NA(e);if(t.get(1)!==r.databaseId.projectId)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ce(OA(t))}function DA(r,e){return Ag(r.databaseId,e)}function yM(r){const e=NA(r);return e.length===4?At.emptyPath():OA(e)}function Pp(r){return new At(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OA(r){return dt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ub(r,e,t){return{name:kp(r,e),fields:t.value.mapValue.fields}}function vM(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(dt(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(dt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?se.UNKNOWN:RA(g.code);return new _e(v,g.message||"")}(c);t=new CA(a,o,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=ip(r,a.document.name),l=oi(a.document.updateTime),c=a.document.createTime?oi(a.document.createTime):ze.min(),d=new Ln({mapValue:{fields:a.document.fields}}),m=bn.newFoundDocument(o,l,c,d),g=a.targetIds||[],v=a.removedTargetIds||[];t=new Vh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=ip(r,a.document),l=a.readTime?oi(a.readTime):ze.min(),c=bn.newNoDocument(o,l),d=a.removedTargetIds||[];t=new Vh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=ip(r,a.document),l=a.removedTargetIds||[];t=new Vh([],l,o,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,c=new lM(o,l),d=a.targetId;t=new xA(d,c)}}return t}function _M(r,e){let t;if(e instanceof Qu)t={update:ub(r,e.key,e.value)};else if(e instanceof SA)t={delete:kp(r,e.key)};else if(e instanceof Ya)t={update:ub(r,e.key,e.data),updateMask:CM(e.fieldMask)};else{if(!(e instanceof aM))return Pe(16599,{ft:e.type});t={verify:kp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,c){const d=c.transform;if(d instanceof Vu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Lu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Uu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ju)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Pe(20930,{transform:c.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:gM(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe(27497)}(r,e.precondition)),t}function EM(r,e){return r&&r.length>0?(dt(e!==void 0,14353),r.map(t=>function(o,l){let c=o.updateTime?oi(o.updateTime):oi(l);return c.isEqual(ze.min())&&(c=oi(l)),new nM(c,o.transformResults||[])}(t,e))):[]}function bM(r,e){return{documents:[DA(r,e.path)]}}function TM(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=DA(r,o);const l=function(g){if(g.length!==0)return kA(kr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:Vo(T.field),direction:SM(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Op(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function wM(r){let e=yM(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){dt(a===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const T=MA(b);return T instanceof kr&&sA(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(T=>function(I){return new Pu(Lo(I.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(b){let T;return T=typeof b=="object"?b.value:b,bf(T)?null:T}(t.limit));let m=null;t.startAt&&(m=function(b){const T=!!b.before,R=b.values||[];return new ef(R,T)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const T=!b.before,R=b.values||[];return new ef(R,T)}(t.endAt)),H4(e,o,c,l,d,"F",m,g)}function AM(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function MA(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Lo(t.unaryFilter.field);return Bt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Lo(t.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(t.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(t.unaryFilter.field);return Bt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(r):r.fieldFilter!==void 0?function(t){return Bt.create(Lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(a=>MA(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(t.compositeFilter.op))}(r):Pe(30097,{filter:r})}function SM(r){return fM[r]}function RM(r){return dM[r]}function xM(r){return mM[r]}function Vo(r){return{fieldPath:r.canonicalString()}}function Lo(r){return hn.fromServerFormat(r.fieldPath)}function kA(r){return r instanceof Bt?function(t){if(t.op==="=="){if(XE(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(QE(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XE(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(QE(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:RM(t.op),value:t.value}}}(r):r instanceof kr?function(t){const a=t.getFilters().map(o=>kA(o));return a.length===1?a[0]:{compositeFilter:{op:xM(t.op),filters:a}}}(r):Pe(54877,{filter:r})}function CM(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t,a,o,l=ze.min(),c=ze.min(),d=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.wt=e}}function NM(r){const e=wM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.Cn=new OM}addToCollectionParentIndex(e,t){return this.Cn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Va.min())}updateCollectionGroup(e,t,a){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class OM{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new Qt(At.comparator),l=!o.has(a);return this.index[t]=o.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Qt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VA=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(VA,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Yo(0)}static lr(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="LruGarbageCollector",MM=1048576;function fb([r,e],[t,a]){const o=Ye(r,t);return o===0?Ye(e,a):o}class kM{constructor(e){this.Er=e,this.buffer=new Qt(fb),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();fb(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PM{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ve(hb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){rl(t)?ve(hb,"Ignoring IndexedDB error during garbage collection: ",t):await nl(t)}await this.mr(3e5)})}}class VM{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Ef.le);const a=new kM(t);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.gr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(cb)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cb):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let a,o,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(a=b,d=Date.now(),this.removeTargets(e,a,t))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(g=Date.now(),ko()<=et.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b})))}}function LM(r,e){return new VM(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.changes=new Hs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?oe.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&Su(a.mutation,o,Jn.empty(),Yt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,tt()).next(()=>a))}getLocalViewOfDocuments(e,t,a=tt()){const o=Ns();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(l=>{let c=gu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const a=Ns();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,tt()))}populateOverlays(e,t,a){const o=[];return a.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,a,o){let l=qi();const c=Au(),d=function(){return Au()}();return t.forEach((m,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ya)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Su(v.mutation,g,v.mutation.getFieldMask(),Yt.now())):c.set(g.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var b;return d.set(g,new jM(v,(b=c.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const a=Au();let o=new Ct((c,d)=>c-d),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let v=a.get(m)||Jn.empty();v=d.applyToLocalView(g,v),a.set(m,v);const b=(o.get(d.batchId)||tt()).add(m);o=o.insert(d.batchId,b)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,b=pA();v.forEach(T=>{if(!l.has(T)){const R=wA(t.get(T),a.get(T));R!==null&&b.set(T,R),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return oe.waitFor(c)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(c){return Ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-l.size):oe.resolve(Ns());let d=Du,m=l;return c.next(g=>oe.forEach(g,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{m=m.insert(v,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,tt())).next(v=>({batchId:d,changes:mA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(a=>{let o=gu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const l=t.collectionGroup;let c=gu();return this.indexManager.getCollectionParents(e,l).next(d=>oe.forEach(d,m=>{const g=function(b,T){return new il(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(v=>{v.forEach((b,T)=>{c=c.insert(b,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,o))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,bn.newInvalidDocument(v)))});let d=gu();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&Su(v.mutation,g,Jn.empty(),Yt.now()),Sf(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return oe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:NM(o.bundledQuery),readTime:oi(o.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.overlays=new Ct(Ce.comparator),this.Qr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Ns();return oe.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&a.set(o,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,l)=>{this.St(e,t,l)}),oe.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(a)),oe.resolve()}getOverlaysForCollection(e,t,a){const o=Ns(),l=t.length+1,c=new Ce(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>a&&o.set(m.getKey(),m)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let l=new Ct((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let v=l.get(g.largestBatchId);v===null&&(v=Ns(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ns(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return oe.resolve(d)}St(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new oM(t,a));let l=this.Qr.get(t);l===void 0&&(l=tt(),this.Qr.set(t,l)),this.Qr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.$r=new Qt(nn.Ur),this.Kr=new Qt(nn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const a=new nn(e,t);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.zr(new nn(e,t))}jr(e,t){e.forEach(a=>this.removeReference(a,t))}Hr(e){const t=new Ce(new At([])),a=new nn(t,e),o=new nn(t,e+1),l=[];return this.Kr.forEachInRange([a,o],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ce(new At([])),a=new nn(t,e),o=new nn(t,e+1);let l=tt();return this.Kr.forEachInRange([a,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new nn(e,0),a=this.$r.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ce.comparator(e.key,t.key)||Ye(e.Zr,t.Zr)}static Wr(e,t){return Ye(e.Zr,t.Zr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Qt(nn.Ur)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sM(l,t,a,o);this.mutationQueue.push(c);for(const d of o)this.Xr=this.Xr.add(new nn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.ti(a),l=o<0?0:o;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?gg:this.nr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new nn(t,0),o=new nn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([a,o],c=>{const d=this.ei(c.Zr);l.push(d)}),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Qt(Ye);return t.forEach(o=>{const l=new nn(o,0),c=new nn(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{a=a.add(d.Zr)})}),oe.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let l=a;Ce.isDocumentKey(l)||(l=l.child(""));const c=new nn(new Ce(l),0);let d=new Qt(Ye);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Zr)),!0)},c),oe.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){dt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return oe.forEach(t.mutations,o=>{const l=new nn(o.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,t){const a=new nn(t,0),o=this.Xr.firstAfterOrEqual(a);return oe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.ii=e,this.docs=function(){return new Ct(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),l=o?o.size:0,c=this.ii(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return oe.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let a=qi();return t.forEach(o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():bn.newInvalidDocument(o))}),oe.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let l=qi();const c=t.path,d=new Ce(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||T4(b4(v),a)<=0||(o.has(v.key)||Sf(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,a,o){Pe(9500)}si(e,t){return oe.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new $M(this)}getSize(e){return oe.resolve(this.size)}}class $M extends UM{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),oe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.persistence=e,this.oi=new Hs(t=>_g(t),Eg),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this._i=0,this.ai=new Sg,this.targetCount=0,this.ui=Yo.cr()}forEachTarget(e,t){return this.oi.forEach((a,o)=>t(o)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this._i&&(this._i=t),oe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Tr(t),oe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,a){let o=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),oe.waitFor(l).next(()=>o)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const a=this.oi.get(t)||null;return oe.resolve(a)}addMatchingKeys(e,t,a){return this.ai.Gr(t,a),oe.resolve()}removeMatchingKeys(e,t,a){this.ai.jr(t,a);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const a=this.ai.Yr(t);return oe.resolve(a)}containsKey(e,t){return oe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t){this.ci={},this.overlays={},this.li=new Ef(0),this.hi=!1,this.hi=!0,this.Pi=new qM,this.referenceDelegate=e(this),this.Ti=new KM(this),this.indexManager=new DM,this.remoteDocumentCache=function(o){return new GM(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new IM(t),this.Ei=new BM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ci[e.toKey()];return a||(a=new HM(t,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,a){ve("MemoryPersistence","Starting transaction:",e);const o=new YM(this.li.next());return this.referenceDelegate.di(),a(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(e,t){return oe.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,t)))}}class YM extends A4{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Vi=new Sg,this.mi=null}static fi(e){return new Rg(e)}get gi(){if(this.mi)return this.mi;throw Pe(60996)}addReference(e,t,a){return this.Vi.addReference(a,t),this.gi.delete(a.toString()),oe.resolve()}removeReference(e,t,a){return this.Vi.removeReference(a,t),this.gi.add(a.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.gi,a=>{const o=Ce.fromPath(a);return this.pi(e,o).next(l=>{l||t.removeEntry(o,ze.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(a=>{a?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return oe.or([()=>oe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class nf{constructor(e,t){this.persistence=e,this.yi=new Hs(a=>x4(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=LM(this,t)}static fi(e,t){return new nf(e,t)}di(){}Ai(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}br(e){let t=0;return this.yr(e,a=>{t++}).next(()=>t)}yr(e,t){return oe.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(l=>l?oe.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(e,c=>this.Dr(e,c,t).next(d=>{d||(a++,l.removeEntry(c,ze.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.yi.set(a,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,a){return this.yi.set(a,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),oe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}Dr(e,t,a){return oe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return oe.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.ds=a,this.As=o}static Rs(e,t){let a=tt(),o=tt();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new xg(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return OC()?8:S4(wn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,a,o){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,o,a).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new QM;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>l.result)}Ds(e,t,a,o){return a.documentReadCount<this.gs?(ko()<=et.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),oe.resolve()):(ko()<=et.DEBUG&&ve("QueryEngine","Query:",Po(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(ko()<=et.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(t))):oe.resolve())}ws(e,t){if(eb(t))return oe.resolve(null);let a=si(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Dp(t,null,"F"),a=si(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const c=tt(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,a).next(m=>{const g=this.vs(t,d);return this.Cs(t,g,c,m.readTime)?this.ws(e,Dp(t,null,"F")):this.Fs(e,g,t,m)}))})))}bs(e,t,a,o){return eb(t)||o.isEqual(ze.min())?oe.resolve(null):this.ys.getDocuments(e,a).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,a,o)?oe.resolve(null):(ko()<=et.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Po(t)),this.Fs(e,c,t,E4(o,Du)).next(d=>d))})}vs(e,t){let a=new Qt(fA(e));return t.forEach((o,l)=>{Sf(e,l)&&(a=a.add(l))}),a}Cs(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,a){return ko()<=et.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Po(t)),this.ys.getDocumentsMatchingQuery(e,t,Va.min(),a)}Fs(e,t,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",WM=3e8;class ZM{constructor(e,t,a,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new Ct(Ye),this.Os=new Hs(l=>_g(l),Eg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function JM(r,e,t,a){return new ZM(r,e,t,a)}async function UA(r,e){const t=Be(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(l=>(o=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const c=[],d=[];let m=tt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(a,m).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function ek(r,e){const t=Be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const b=g.batch,T=b.keys();let R=oe.resolve();return T.forEach(I=>{R=R.next(()=>v.getEntry(m,I)).next($=>{const F=g.docVersions.get(I);dt(F!==null,48541),$.version.compareTo(F)<0&&(b.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),v.addEntry($)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(m,b))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=tt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function jA(r){const e=Be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function tk(r,e){const t=Be(r),a=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const d=[];e.targetChanges.forEach((v,b)=>{const T=o.get(b);if(!T)return;d.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,b)));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(dn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,a)),o=o.insert(b,R),function($,F,H){return $.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=WM?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,R,v)&&d.push(t.Ti.updateTargetData(l,R))});let m=qi(),g=tt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(nk(l,c,e.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!a.isEqual(ze.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(b=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,a));d.push(v)}return oe.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.xs=o,l))}function nk(r,e,t){let a=tt(),o=tt();return t.forEach(l=>a=a.add(l)),e.getEntries(r,a).next(l=>{let c=qi();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(ze.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ve(Cg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:c,Qs:o}})}function rk(r,e){const t=Be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=gg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function ik(r,e){const t=Be(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.Ti.getTargetData(a,e).next(l=>l?(o=l,oe.resolve(o)):t.Ti.allocateTargetId(a).next(c=>(o=new Na(e,c,"TargetPurposeListen",a.currentSequenceNumber),t.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(a.targetId,a),t.Os.set(e,a.targetId)),a})}async function Vp(r,e,t){const a=Be(r),o=a.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,c=>a.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!rl(c))throw c;ve(Cg,`Failed to update sequence numbers for target ${e}: ${c}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function db(r,e,t){const a=Be(r);let o=ze.min(),l=tt();return a.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const b=Be(m),T=b.Os.get(v);return T!==void 0?oe.resolve(b.xs.get(T)):b.Ti.getTargetData(g,v)}(a,c,si(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>a.Ms.getDocumentsMatchingQuery(c,e,t?o:ze.min(),t?l:tt())).next(d=>(ak(a,$4(e),d),{documents:d,$s:l})))}function ak(r,e,t){let a=r.Ns.get(e)||ze.min();t.forEach((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),r.Ns.set(e,a)}class mb{constructor(){this.activeTargetIds=Z4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sk{constructor(){this.xo=new mb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,a){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new mb,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="ConnectivityMonitor";class gb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ve(pb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ve(pb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function Lp(){return Ah===null?Ah=function(){return 268435456+Math.round(2147483648*Math.random())}():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="RestConnection",lk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===Zh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,t,a,o,l){const c=Lp(),d=this.jo(e,t.toUriEncodedString());ve(ap,`Sending RPC '${e}' ${c}:`,d,a);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,l);const{host:g}=new URL(d),v=Wo(g);return this.Jo(e,d,m,a,v).then(b=>(ve(ap,`Received RPC '${e}' ${c}: `,b),b),b=>{throw Ho(ap,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",a),b})}Yo(e,t,a,o,l,c){return this.zo(e,t,a,o,l)}Ho(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),a&&a.headers.forEach((o,l)=>e[l]=o)}jo(e,t){const a=lk[e];return`${this.Ko}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class hk extends uk{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,o,l){const c=Lp();return new Promise((d,m)=>{const g=new jw;g.setWithCredentials(!0),g.listenOnce(zw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Oh.NO_ERROR:const b=g.getResponseJson();ve(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Oh.TIMEOUT:ve(_n,`RPC '${e}' ${c} timed out`),m(new _e(se.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const T=g.getStatus();if(ve(_n,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const I=R==null?void 0:R.error;if(I&&I.status&&I.message){const $=function(H){const ue=H.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(ue)>=0?ue:se.UNKNOWN}(I.status);m(new _e($,I.message))}else m(new _e(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new _e(se.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{h_:e,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ve(_n,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);ve(_n,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",v,a,15)})}I_(e,t,a){const o=Lp(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=qw(),d=Fw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,a),m.encodeInitMessageHeaders=!0;const v=l.join("");ve(_n,`Creating RPC '${e}' stream ${o}: ${v}`,m);const b=c.createWebChannel(v,m);this.E_(b);let T=!1,R=!1;const I=new ck({Zo:F=>{R?ve(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(T||(ve(_n,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),ve(_n,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Xo:()=>b.close()}),$=(F,H,ue)=>{F.listen(H,ne=>{try{ue(ne)}catch(pe){setTimeout(()=>{throw pe},0)}})};return $(b,pu.EventType.OPEN,()=>{R||(ve(_n,`RPC '${e}' stream ${o} transport opened.`),I.__())}),$(b,pu.EventType.CLOSE,()=>{R||(R=!0,ve(_n,`RPC '${e}' stream ${o} transport closed`),I.u_(),this.d_(b))}),$(b,pu.EventType.ERROR,F=>{R||(R=!0,Ho(_n,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),I.u_(new _e(se.UNAVAILABLE,"The operation could not be completed")))}),$(b,pu.EventType.MESSAGE,F=>{var H;if(!R){const ue=F.data[0];dt(!!ue,16349);const ne=ue,pe=(ne==null?void 0:ne.error)||((H=ne[0])===null||H===void 0?void 0:H.error);if(pe){ve(_n,`RPC '${e}' stream ${o} received error:`,pe);const de=pe.status;let q=function(C){const P=zt[C];if(P!==void 0)return RA(P)}(de),M=pe.message;q===void 0&&(q=se.INTERNAL,M="Unknown error status: "+de+" with message "+pe.message),R=!0,I.u_(new _e(q,M)),b.close()}else ve(_n,`RPC '${e}' stream ${o} received:`,ue),I.c_(ue)}}),$(d,Bw.STAT_EVENT,F=>{F.stat===Ap.PROXY?ve(_n,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Ap.NOPROXY&&ve(_n,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(r){return new pM(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t,a=1e3,o=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=a,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-a);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="PersistentStream";class BA{constructor(e,t,a,o,l,c,d,m){this.xi=e,this.S_=a,this.D_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new zA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Fi(t.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===t&&this.z_(a,o)},a=>{e(()=>{const o=new _e(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,t){const a=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ve(yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ve(yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fk extends BA{constructor(e,t,a,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=vM(this.serializer,e),a=function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?oi(c.readTime):ze.min()}(e);return this.listener.Y_(t,a)}Z_(e){const t={};t.database=Pp(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Ip(m)?{documents:bM(l,m)}:{query:TM(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=IA(l,c.resumeToken);const g=Op(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(ze.min())>0){d.readTime=tf(l,c.snapshotVersion.toTimestamp());const g=Op(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=AM(this.serializer,e);a&&(t.labels=a),this.Q_(t)}X_(e){const t={};t.database=Pp(this.serializer),t.removeTarget=e,this.Q_(t)}}class dk extends BA{constructor(e,t,a,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=EM(e.writeResults,e.commitTime),a=oi(e.commitTime);return this.listener.ra(a,t)}ia(){const e={};e.database=Pp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>_M(this.serializer,a))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{}class pk extends mk{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,Mp(t,a),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(se.UNKNOWN,l.toString())})}Yo(e,t,a,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,Mp(t,a),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(se.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class gk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Fi(t),this.ua=!1):ve("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="RemoteStore";class yk{constructor(e,t,a,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{a.enqueueAndForget(async()=>{Gs(this)&&(ve(js,"Restarting streams for network reachability change."),await async function(m){const g=Be(m);g.da.add(4),await Wu(g),g.Va.set("Unknown"),g.da.delete(4),await Nf(g)}(this))})}),this.Va=new gk(a,o)}}async function Nf(r){if(Gs(r))for(const e of r.Aa)await e(!0)}async function Wu(r){for(const e of r.Aa)await e(!1)}function FA(r,e){const t=Be(r);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Og(t)?Dg(t):al(t).N_()&&Ng(t,e))}function Ig(r,e){const t=Be(r),a=al(t);t.Ea.delete(e),a.N_()&&qA(t,e),t.Ea.size===0&&(a.N_()?a.k_():Gs(t)&&t.Va.set("Unknown"))}function Ng(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}al(r).Z_(e)}function qA(r,e){r.ma.Ke(e),al(r).X_(e)}function Dg(r){r.ma=new hM({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),al(r).start(),r.Va.ca()}function Og(r){return Gs(r)&&!al(r).O_()&&r.Ea.size>0}function Gs(r){return Be(r).da.size===0}function HA(r){r.ma=void 0}async function vk(r){r.Va.set("Online")}async function _k(r){r.Ea.forEach((e,t)=>{Ng(r,e)})}async function Ek(r,e){HA(r),Og(r)?(r.Va.Pa(e),Dg(r)):r.Va.set("Unknown")}async function bk(r,e,t){if(r.Va.set("Online"),e instanceof CA&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ea.delete(d),o.ma.removeTarget(d))}(r,e)}catch(a){ve(js,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await rf(r,a)}else if(e instanceof Vh?r.ma.Xe(e):e instanceof xA?r.ma.ot(e):r.ma.nt(e),!t.isEqual(ze.min()))try{const a=await jA(r.localStore);t.compareTo(a)>=0&&await function(l,c){const d=l.ma.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ea.get(g);v&&l.Ea.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=l.Ea.get(m);if(!v)return;l.Ea.set(m,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),qA(l,m);const b=new Na(v.target,m,g,v.sequenceNumber);Ng(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(a){ve(js,"Failed to raise snapshot:",a),await rf(r,a)}}async function rf(r,e,t){if(!rl(e))throw e;r.da.add(1),await Wu(r),r.Va.set("Offline"),t||(t=()=>jA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ve(js,"Retrying IndexedDB access"),await t(),r.da.delete(1),await Nf(r)})}function GA(r,e){return e().catch(t=>rf(r,t,e))}async function Df(r){const e=Be(r),t=za(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:gg;for(;Tk(e);)try{const o=await rk(e.localStore,a);if(o===null){e.Ia.length===0&&t.k_();break}a=o.batchId,wk(e,o)}catch(o){await rf(e,o)}$A(e)&&KA(e)}function Tk(r){return Gs(r)&&r.Ia.length<10}function wk(r,e){r.Ia.push(e);const t=za(r);t.N_()&&t.ea&&t.ta(e.mutations)}function $A(r){return Gs(r)&&!za(r).O_()&&r.Ia.length>0}function KA(r){za(r).start()}async function Ak(r){za(r).ia()}async function Sk(r){const e=za(r);for(const t of r.Ia)e.ta(t.mutations)}async function Rk(r,e,t){const a=r.Ia.shift(),o=Tg.from(a,e,t);await GA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Df(r)}async function xk(r,e){e&&za(r).ea&&await async function(a,o){if(function(c){return uM(c)&&c!==se.ABORTED}(o.code)){const l=a.Ia.shift();za(a).L_(),await GA(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Df(a)}}(r,e),$A(r)&&KA(r)}async function vb(r,e){const t=Be(r);t.asyncQueue.verifyOperationInProgress(),ve(js,"RemoteStore received new credentials");const a=Gs(t);t.da.add(3),await Wu(t),a&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Nf(t)}async function Ck(r,e){const t=Be(r);e?(t.da.delete(2),await Nf(t)):e||(t.da.add(2),await Wu(t),t.Va.set("Unknown"))}function al(r){return r.fa||(r.fa=function(t,a,o){const l=Be(t);return l.oa(),new fk(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{e_:vk.bind(null,r),n_:_k.bind(null,r),i_:Ek.bind(null,r),Y_:bk.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),Og(r)?Dg(r):r.Va.set("Unknown")):(await r.fa.stop(),HA(r))})),r.fa}function za(r){return r.ga||(r.ga=function(t,a,o){const l=Be(t);return l.oa(),new dk(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:Ak.bind(null,r),i_:xk.bind(null,r),na:Sk.bind(null,r),ra:Rk.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Df(r)):(await r.ga.stop(),r.Ia.length>0&&(ve(js,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t,a,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,l){const c=Date.now()+a,d=new Mg(e,t,c,o,l);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(r,e){if(Fi("AsyncQueue",`${e}: ${r}`),rl(r))return new _e(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Ce.comparator(t.key,a.key):(t,a)=>Ce.comparator(t.key,a.key),this.keyedMap=gu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new qo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.pa=new Ct(Ce.comparator)}track(e){const t=e.doc.key,a=this.pa.get(t);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(t,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(t):e.type===1&&a.type===2?this.pa=this.pa.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Pe(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,a)=>{e.push(a)}),e}}class Qo{constructor(e,t,a,o,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Qo(e,t,qo.emptySet(t),c,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Nk{constructor(){this.queries=Eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=Be(t),l=o.queries;o.queries=Eb(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(a)})})(this,new _e(se.ABORTED,"Firestore shutting down"))}}function Eb(){return new Hs(r=>hA(r),Af)}async function Pg(r,e){const t=Be(r);let a=3;const o=e.query;let l=t.queries.get(o);l?!l.Da()&&e.va()&&(a=2):(l=new Ik,a=e.va()?0:1);try{switch(a){case 0:l.ba=await t.onListen(o,!0);break;case 1:l.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=kg(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Lg(t)}async function Vg(r,e){const t=Be(r),a=e.query;let o=3;const l=t.queries.get(a);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.va()?0:1:!l.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function Dk(r,e){const t=Be(r);let a=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Ma(o)&&(a=!0);c.ba=o}}a&&Lg(t)}function Ok(r,e,t){const a=Be(r),o=a.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);a.queries.delete(e)}function Lg(r){r.Ca.forEach(e=>{e.next()})}var Up,bb;(bb=Up||(Up={})).xa="default",bb.Cache="cache";class Ug{constructor(e,t,a){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Qo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const a=t!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.key=e}}class QA{constructor(e){this.key=e}}class Mk{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.Za=fA(e),this.Xa=new qo(this.Za)}get eu(){return this.Ha}tu(e,t){const a=t?t.nu:new _b,o=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,b)=>{const T=o.get(v),R=Sf(this.query,b)?b:null,I=!!T&&this.mutatedKeys.has(T.key),$=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let F=!1;T&&R?T.data.isEqual(R.data)?I!==$&&(a.track({type:3,doc:R}),F=!0):this.ru(T,R)||(a.track({type:2,doc:R}),F=!0,(m&&this.Za(R,m)>0||g&&this.Za(R,g)<0)&&(d=!0)):!T&&R?(a.track({type:0,doc:R}),F=!0):T&&!R&&(a.track({type:1,doc:T}),F=!0,(m||g)&&(d=!0)),F&&(R?(c=c.add(R),l=$?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),a.track({type:1,doc:v})}return{Xa:c,nu:a,Cs:d,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,b)=>function(R,I){const $=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:F})}};return $(R)-$(I)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(a),o=o!=null&&o;const d=t&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,g=m!==this.Ja;return this.Ja=m,c.length!==0||g?{snapshot:new Qo(this.query,e.Xa,l,c,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new _b,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const t=[];return e.forEach(a=>{this.Ya.has(a)||t.push(new QA(a))}),this.Ya.forEach(a=>{e.has(a)||t.push(new YA(a))}),t}au(e){this.Ha=e.$s,this.Ya=tt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Qo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const jg="SyncEngine";class kk{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Pk{constructor(e){this.key=e,this.cu=!1}}class Vk{constructor(e,t,a,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Hs(d=>hA(d),Af),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ct(Ce.comparator),this.Eu=new Map,this.du=new Sg,this.Au={},this.Ru=new Map,this.Vu=Yo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Lk(r,e,t=!0){const a=tS(r);let o;const l=a.hu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await XA(a,e,t,!0),o}async function Uk(r,e){const t=tS(r);await XA(t,e,!0,!1)}async function XA(r,e,t,a){const o=await ik(r.localStore,si(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return a&&(d=await jk(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&FA(r.remoteStore,o),d}async function jk(r,e,t,a,o){r.fu=(b,T,R)=>async function($,F,H,ue){let ne=F.view.tu(H);ne.Cs&&(ne=await db($.localStore,F.query,!1).then(({documents:M})=>F.view.tu(M,ne)));const pe=ue&&ue.targetChanges.get(F.targetId),de=ue&&ue.targetMismatches.get(F.targetId)!=null,q=F.view.applyChanges(ne,$.isPrimaryClient,pe,de);return wb($,F.targetId,q.ou),q.snapshot}(r,b,T,R);const l=await db(r.localStore,e,!0),c=new Mk(e,l.$s),d=c.tu(l.documents),m=Xu.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),g=c.applyChanges(d,r.isPrimaryClient,m);wb(r,t,g.ou);const v=new kk(e,t,c);return r.hu.set(e,v),r.Pu.has(t)?r.Pu.get(t).push(e):r.Pu.set(t,[e]),g.snapshot}async function zk(r,e,t){const a=Be(r),o=a.hu.get(e),l=a.Pu.get(o.targetId);if(l.length>1)return a.Pu.set(o.targetId,l.filter(c=>!Af(c,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Vp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&Ig(a.remoteStore,o.targetId),jp(a,o.targetId)}).catch(nl)):(jp(a,o.targetId),await Vp(a.localStore,o.targetId,!0))}async function Bk(r,e){const t=Be(r),a=t.hu.get(e),o=t.Pu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Ig(t.remoteStore,a.targetId))}async function Fk(r,e,t){const a=Qk(r);try{const o=await function(c,d){const m=Be(c),g=Yt.now(),v=d.reduce((R,I)=>R.add(I.key),tt());let b,T;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let I=qi(),$=tt();return m.Bs.getEntries(R,v).next(F=>{I=F,I.forEach((H,ue)=>{ue.isValidDocument()||($=$.add(H))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,I)).next(F=>{b=F;const H=[];for(const ue of d){const ne=iM(ue,b.get(ue.key).overlayedDocument);ne!=null&&H.push(new Ya(ue.key,ne,rA(ne.value.mapValue),Dr.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,H,d)}).next(F=>{T=F;const H=F.applyToLocalDocumentSet(b,$);return m.documentOverlayCache.saveOverlays(R,F.batchId,H)})}).then(()=>({batchId:T.batchId,changes:mA(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let g=c.Au[c.currentUser.toKey()];g||(g=new Ct(Ye)),g=g.insert(d,m),c.Au[c.currentUser.toKey()]=g}(a,o.batchId,t),await Zu(a,o.changes),await Df(a.remoteStore)}catch(o){const l=kg(o,"Failed to persist write");t.reject(l)}}async function WA(r,e){const t=Be(r);try{const a=await tk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Eu.get(l);c&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.cu=!0:o.modifiedDocuments.size>0?dt(c.cu,14607):o.removedDocuments.size>0&&(dt(c.cu,42227),c.cu=!1))}),await Zu(t,a,e)}catch(a){await nl(a)}}function Tb(r,e,t){const a=Be(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.hu.forEach((l,c)=>{const d=c.view.Fa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const m=Be(c);m.onlineState=d;let g=!1;m.queries.forEach((v,b)=>{for(const T of b.Sa)T.Fa(d)&&(g=!0)}),g&&Lg(m)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function qk(r,e,t){const a=Be(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Eu.get(e),l=o&&o.key;if(l){let c=new Ct(Ce.comparator);c=c.insert(l,bn.newNoDocument(l,ze.min()));const d=tt().add(l),m=new Cf(ze.min(),new Map,new Ct(Ye),c,d);await WA(a,m),a.Iu=a.Iu.remove(l),a.Eu.delete(e),zg(a)}else await Vp(a.localStore,e,!1).then(()=>jp(a,e,t)).catch(nl)}async function Hk(r,e){const t=Be(r),a=e.batch.batchId;try{const o=await ek(t.localStore,e);JA(t,a,null),ZA(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Zu(t,o)}catch(o){await nl(o)}}async function Gk(r,e,t){const a=Be(r);try{const o=await function(c,d){const m=Be(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(b=>(dt(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(a.localStore,e);JA(a,e,t),ZA(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Zu(a,o)}catch(o){await nl(o)}}function ZA(r,e){(r.Ru.get(e)||[]).forEach(t=>{t.resolve()}),r.Ru.delete(e)}function JA(r,e,t){const a=Be(r);let o=a.Au[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function jp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Pu.get(e))r.hu.delete(a),t&&r.lu.gu(a,t);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(a=>{r.du.containsKey(a)||eS(r,a)})}function eS(r,e){r.Tu.delete(e.path.canonicalString());const t=r.Iu.get(e);t!==null&&(Ig(r.remoteStore,t),r.Iu=r.Iu.remove(e),r.Eu.delete(t),zg(r))}function wb(r,e,t){for(const a of t)a instanceof YA?(r.du.addReference(a.key,e),$k(r,a)):a instanceof QA?(ve(jg,"Document no longer in limbo: "+a.key),r.du.removeReference(a.key,e),r.du.containsKey(a.key)||eS(r,a.key)):Pe(19791,{pu:a})}function $k(r,e){const t=e.key,a=t.path.canonicalString();r.Iu.get(t)||r.Tu.has(a)||(ve(jg,"New document in limbo: "+t),r.Tu.add(a),zg(r))}function zg(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const t=new Ce(At.fromString(e)),a=r.Vu.next();r.Eu.set(a,new Pk(t)),r.Iu=r.Iu.insert(t,a),FA(r.remoteStore,new Na(si(wf(t.path)),a,"TargetPurposeLimboResolution",Ef.le))}}async function Zu(r,e,t){const a=Be(r),o=[],l=[],c=[];a.hu.isEmpty()||(a.hu.forEach((d,m)=>{c.push(a.fu(m,e,t).then(g=>{var v;if((g||t)&&a.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){o.push(g);const b=xg.Rs(m.targetId,g);l.push(b)}}))}),await Promise.all(c),a.lu.Y_(o),await async function(m,g){const v=Be(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>oe.forEach(g,T=>oe.forEach(T.ds,R=>v.persistence.referenceDelegate.addReference(b,T.targetId,R)).next(()=>oe.forEach(T.As,R=>v.persistence.referenceDelegate.removeReference(b,T.targetId,R)))))}catch(b){if(!rl(b))throw b;ve(Cg,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const R=v.xs.get(T),I=R.snapshotVersion,$=R.withLastLimboFreeSnapshotVersion(I);v.xs=v.xs.insert(T,$)}}}(a.localStore,l))}async function Kk(r,e){const t=Be(r);if(!t.currentUser.isEqual(e)){ve(jg,"User change. New user:",e.toKey());const a=await UA(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(d=>{d.forEach(m=>{m.reject(new _e(se.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Zu(t,a.ks)}}function Yk(r,e){const t=Be(r),a=t.Eu.get(e);if(a&&a.cu)return tt().add(a.key);{let o=tt();const l=t.Pu.get(e);if(!l)return o;for(const c of l){const d=t.hu.get(c);o=o.unionWith(d.view.eu)}return o}}function tS(r){const e=Be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qk.bind(null,e),e.lu.Y_=Dk.bind(null,e.eventManager),e.lu.gu=Ok.bind(null,e.eventManager),e}function Qk(r){const e=Be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gk.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return JM(this.persistence,new XM,e.initialUser,this.serializer)}Su(e){return new LA(Rg.fi,this.serializer)}bu(e){return new sk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class Xk extends af{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){dt(this.persistence.referenceDelegate instanceof nf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new PM(a,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new LA(a=>nf.fi(a,t),this.serializer)}}class zp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Tb(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kk.bind(null,this.syncEngine),await Ck(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Nk}()}createDatastore(e){const t=If(e.databaseInfo.databaseId),a=function(l){return new hk(l)}(e.databaseInfo);return function(l,c,d,m){return new pk(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,l,c,d){return new yk(a,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Tb(this.syncEngine,t,0),function(){return gb.C()?new gb:new ok}())}createSyncEngine(e,t){return function(o,l,c,d,m,g,v){const b=new Vk(o,l,c,d,m,g);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Be(o);ve(js,"RemoteStore shutting down."),l.da.add(5),await Wu(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class Wk{constructor(e,t,a,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async c=>{ve(Ba,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(a,c=>(ve(Ba,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=kg(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function op(r,e){r.asyncQueue.verifyOperationInProgress(),ve(Ba,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await UA(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Ab(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Zk(r);ve(Ba,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>vb(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>vb(e.remoteStore,o)),r._onlineComponents=e}async function Zk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(Ba,"Using user provided OfflineComponentProvider");try{await op(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ho("Error using user provided cache. Falling back to memory cache: "+t),await op(r,new af)}}else ve(Ba,"Using default OfflineComponentProvider"),await op(r,new Xk(void 0));return r._offlineComponents}async function nS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(Ba,"Using user provided OnlineComponentProvider"),await Ab(r,r._uninitializedComponentsProvider._online)):(ve(Ba,"Using default OnlineComponentProvider"),await Ab(r,new zp))),r._onlineComponents}function Jk(r){return nS(r).then(e=>e.syncEngine)}async function sf(r){const e=await nS(r),t=e.eventManager;return t.onListen=Lk.bind(null,e.syncEngine),t.onUnlisten=zk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Uk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Bk.bind(null,e.syncEngine),t}function eP(r,e,t={}){const a=new ji;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new Bg({next:T=>{v.xu(),c.enqueueAndForget(()=>Vg(l,b));const R=T.docs.has(d);!R&&T.fromCache?g.reject(new _e(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&m&&m.source==="server"?g.reject(new _e(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new Ug(wf(d.path),v,{includeMetadataChanges:!0,Qa:!0});return Pg(l,b)}(await sf(r),r.asyncQueue,e,t,a)),a.promise}function tP(r,e,t={}){const a=new ji;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new Bg({next:T=>{v.xu(),c.enqueueAndForget(()=>Vg(l,b)),T.fromCache&&m.source==="server"?g.reject(new _e(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new Ug(d,v,{includeMetadataChanges:!0,Qa:!0});return Pg(l,b)}(await sf(r),r.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r,e,t){if(!t)throw new _e(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function nP(r,e,t,a){if(e===!0&&a===!0)throw new _e(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Rb(r){if(!Ce.isDocumentKey(r))throw new _e(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xb(r){if(Ce.isDocumentKey(r))throw new _e(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Of(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Pe(12329,{type:typeof r})}function er(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Of(r);throw new _e(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firestore.googleapis.com",Cb=!0;class Ib{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aS,this.ssl=Cb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MM)throw new _e(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ib(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new h4;switch(a.type){case"firstParty":return new p4(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _e(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=Sb.get(t);a&&(ve("ComponentProvider","Removing Datastore"),Sb.delete(t),a.terminate())}(this),Promise.resolve()}}function rP(r,e,t,a={}){var o;r=er(r,Mf);const l=Wo(e),c=r._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${t}`;l&&(gT(`https://${m}`),yT("Firestore",!0)),c.host!==aS&&c.host!==m&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:a});if(!Ms(g,d)&&(r._setSettings(g),a.mockUserToken)){let v,b;if(typeof a.mockUserToken=="string")v=a.mockUserToken,b=En.MOCK_USER;else{v=AC(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new _e(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new En(T)}r._authCredentials=new f4(new Gw(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class Tn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class ka extends Qa{constructor(e,t,a){super(e,t,wf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ce(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function Hi(r,e,...t){if(r=Xt(r),iS("collection","path",e),r instanceof Mf){const a=At.fromString(e,...t);return xb(a),new ka(r,null,a)}{if(!(r instanceof Tn||r instanceof ka))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...t));return xb(a),new ka(r.firestore,null,a)}}function $i(r,e,...t){if(r=Xt(r),arguments.length===1&&(e=Kw.newId()),iS("doc","path",e),r instanceof Mf){const a=At.fromString(e,...t);return Rb(a),new Tn(r,null,new Ce(a))}{if(!(r instanceof Tn||r instanceof ka))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...t));return Rb(a),new Tn(r.firestore,r instanceof ka?r.converter:null,new Ce(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="AsyncQueue";class Db{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new zA(this,"async_queue_retry"),this.rc=()=>{const a=sp();a&&ve(Nb,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const t=sp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=sp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new ji;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!rl(e))throw e;ve(Nb,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Fi("INTERNAL UNHANDLED ERROR: ",Ob(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=t,t}enqueueAfterDelay(e,t,a){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=Mg.createAndSchedule(this,e,t,a,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&Pe(47125,{cc:Ob(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Ob(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){return function(t,a){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of a)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class Fa extends Mf{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new Db,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Db(e),this._firestoreClient=void 0,await e}}}function iP(r,e){const t=typeof r=="object"?r:ST(),a=typeof r=="string"?r:Zh,o=Hu(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=TC("firestore");l&&rP(o,...l)}return o}function kf(r){if(r._terminated)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aP(r),r._firestoreClient}function aP(r){var e,t,a;const o=r._freezeSettings(),l=function(d,m,g,v){return new N4(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,rS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Wk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(dn.fromBase64String(e))}catch(t){throw new _e(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xo(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=/^__.*__$/;class oP{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qu(e,this.data,t,this.fieldTransforms)}}class sS{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ic:r})}}class Hg{constructor(e,t,a,o,l,c){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return of(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(oS(this.Ic)&&sP.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class lP{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||If(e)}bc(e,t,a,o=!1){return new Hg({Ic:e,methodName:t,wc:a,path:hn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vf(r){const e=r._freezeSettings(),t=If(r._databaseId);return new lP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function lS(r,e,t,a,o,l={}){const c=r.bc(l.merge||l.mergeFields?2:0,e,t,o);Kg("Data must be an object, but it was:",c,a);const d=uS(a,c);let m,g;if(l.merge)m=new Jn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const T=Bp(e,b,t);if(!c.contains(T))throw new _e(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);hS(v,T)||v.push(T)}m=new Jn(v),g=c.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,g=c.fieldTransforms;return new oP(new Ln(d),m,g)}class Lf extends Ju{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}class Gg extends Ju{_toFieldTransform(e){return new TA(e.path,new Vu)}isEqual(e){return e instanceof Gg}}class $g extends Ju{constructor(e,t){super(e),this.Dc=t}_toFieldTransform(e){const t=new ju(e.serializer,yA(e.serializer,this.Dc));return new TA(e.path,t)}isEqual(e){return e instanceof $g&&this.Dc===e.Dc}}function uP(r,e,t,a){const o=r.bc(1,e,t);Kg("Data must be an object, but it was:",o,a);const l=[],c=Ln.empty();Ka(a,(m,g)=>{const v=Yg(e,m,t);g=Xt(g);const b=o.mc(v);if(g instanceof Lf)l.push(v);else{const T=ec(g,b);T!=null&&(l.push(v),c.set(v,T))}});const d=new Jn(l);return new sS(c,d,o.fieldTransforms)}function cP(r,e,t,a,o,l){const c=r.bc(1,e,t),d=[Bp(e,a,t)],m=[o];if(l.length%2!=0)throw new _e(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Bp(e,l[T])),m.push(l[T+1]);const g=[],v=Ln.empty();for(let T=d.length-1;T>=0;--T)if(!hS(g,d[T])){const R=d[T];let I=m[T];I=Xt(I);const $=c.mc(R);if(I instanceof Lf)g.push(R);else{const F=ec(I,$);F!=null&&(g.push(R),v.set(R,F))}}const b=new Jn(g);return new sS(v,b,c.fieldTransforms)}function hP(r,e,t,a=!1){return ec(t,r.bc(a?4:3,e))}function ec(r,e){if(cS(r=Xt(r)))return Kg("Unsupported field value:",e,r),uS(r,e);if(r instanceof Ju)return function(a,o){if(!oS(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const l=[];let c=0;for(const d of a){let m=ec(d,o.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(r,e)}return function(a,o){if((a=Xt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return yA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Yt.fromDate(a);return{timestampValue:tf(o.serializer,l)}}if(a instanceof Yt){const l=new Yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:tf(o.serializer,l)}}if(a instanceof Fg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xo)return{bytesValue:IA(o.serializer,a._byteString)};if(a instanceof Tn){const l=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw o.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ag(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof qg)return function(c,d){return{mapValue:{fields:{[tA]:{stringValue:nA},[Jh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return bg(d.serializer,g)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${Of(a)}`)}(r,e)}function uS(r,e){const t={};return Qw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(r,(a,o)=>{const l=ec(o,e.Ac(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function cS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Yt||r instanceof Fg||r instanceof Xo||r instanceof Tn||r instanceof Ju||r instanceof qg)}function Kg(r,e,t){if(!cS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const a=Of(t);throw a==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+a)}}function Bp(r,e,t){if((e=Xt(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return Yg(r,e);throw of("Field path arguments must be of type string or ",r,!1,void 0,t)}const fP=new RegExp("[~\\*/\\[\\]]");function Yg(r,e,t){if(e.search(fP)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Pf(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function of(r,e,t,a,o){const l=a&&!a.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${a}`),c&&(m+=` in document ${o}`),m+=")"),new _e(se.INVALID_ARGUMENT,d+r+m)}function hS(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t,a,o,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dP extends fS{data(){return super.data()}}function Qg(r,e){return typeof e=="string"?Yg(r,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xg{}class mS extends Xg{}function pS(r,e,...t){let a=[];e instanceof Xg&&a.push(e),a=a.concat(t),function(l){const c=l.filter(m=>m instanceof Zg).length,d=l.filter(m=>m instanceof Wg).length;if(c>1||c>0&&d>0)throw new _e(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Wg extends mS{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Wg(e,t,a)}_apply(e){const t=this._parse(e);return yS(e._query,t),new Qa(e.firestore,e.converter,Np(e._query,t))}_parse(e){const t=Vf(e.firestore);return function(l,c,d,m,g,v,b){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Pb(b,v);const I=[];for(const $ of b)I.push(kb(m,l,$));T={arrayValue:{values:I}}}else T=kb(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Pb(b,v),T=hP(d,c,b,v==="in"||v==="not-in");return Bt.create(g,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Zg extends Xg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zg(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:kr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const m of d)yS(c,m),c=Np(c,m)}(e._query,t),new Qa(e.firestore,e.converter,Np(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jg extends mS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jg(e,t)}_apply(e){const t=function(o,l,c){if(o.startAt!==null)throw new _e(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _e(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pu(l,c)}(e._query,this._field,this._direction);return new Qa(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new il(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function gS(r,e="asc"){const t=e,a=Qg("orderBy",r);return Jg._create(a,t)}function kb(r,e,t){if(typeof(t=Xt(t))=="string"){if(t==="")throw new _e(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cA(e)&&t.indexOf("/")!==-1)throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(At.fromString(t));if(!Ce.isDocumentKey(a))throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return YE(r,new Ce(a))}if(t instanceof Tn)return YE(r,t._key);throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Of(t)}.`)}function Pb(r,e){if(!Array.isArray(r)||r.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yS(r,e){const t=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mP{convertValue(e,t="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Ka(e,(o,l)=>{a[o]=this.convertValue(l,t)}),a}convertVectorValue(e){var t,a,o;const l=(o=(a=(t=e.fields)===null||t===void 0?void 0:t[Jh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(c=>Mt(c.doubleValue));return new qg(l)}convertGeoPoint(e){return new Fg(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Tf(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){const t=La(e);return new Yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=At.fromString(e);dt(PA(a),9688,{name:e});const o=new Mu(a.get(1),a.get(3)),l=new Ce(a.popFirst(5));return o.isEqual(t)||Fi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(r,e,t){let a;return a=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _S extends fS{constructor(e,t,a,o,l,c){super(e,t,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Qg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Lh extends _S{data(e={}){return super.data(e)}}class ES{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Lh(this._firestore,this._userDataWriter,a.key,a,new vu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const m=new Lh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new vu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Lh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new vu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:pP(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(r){r=er(r,Tn);const e=er(r.firestore,Fa);return eP(kf(e),r._key).then(t=>bS(e,r,t))}class ey extends mP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function ty(r){r=er(r,Qa);const e=er(r.firestore,Fa),t=kf(e),a=new ey(e);return dS(r._query),tP(t,r._query).then(o=>new ES(e,a,r,o))}function ny(r,e,t){r=er(r,Tn);const a=er(r.firestore,Fa),o=vS(r.converter,e,t);return ry(a,[lS(Vf(a),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Dr.none())])}function gP(r,e,t,...a){r=er(r,Tn);const o=er(r.firestore,Fa),l=Vf(o);let c;return c=typeof(e=Xt(e))=="string"||e instanceof Pf?cP(l,"updateDoc",r._key,e,t,a):uP(l,"updateDoc",r._key,e),ry(o,[c.toMutation(r._key,Dr.exists(!0))])}function tc(r,e){const t=er(r.firestore,Fa),a=$i(r),o=vS(r.converter,e);return ry(t,[lS(Vf(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Dr.exists(!1))]).then(()=>a)}function yP(r,...e){var t,a,o;r=Xt(r);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Mb(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Mb(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),e[c+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let m,g,v;if(r instanceof Tn)g=er(r.firestore,Fa),v=wf(r._key.path),m={next:b=>{e[c]&&e[c](bS(g,r,b))},error:e[c+1],complete:e[c+2]};else{const b=er(r,Qa);g=er(b.firestore,Fa),v=b._query;const T=new ey(g);m={next:R=>{e[c]&&e[c](new ES(g,T,b,R))},error:e[c+1],complete:e[c+2]},dS(r._query)}return function(T,R,I,$){const F=new Bg($),H=new Ug(R,F,I);return T.asyncQueue.enqueueAndForget(async()=>Pg(await sf(T),H)),()=>{F.xu(),T.asyncQueue.enqueueAndForget(async()=>Vg(await sf(T),H))}}(kf(g),v,d,m)}function ry(r,e){return function(a,o){const l=new ji;return a.asyncQueue.enqueueAndForget(async()=>Fk(await Jk(a),o,l)),l.promise}(kf(r),e)}function bS(r,e,t){const a=t.docs.get(e._key),o=new ey(r);return new _S(r,o,e._key,a,new vu(t.hasPendingWrites,t.fromCache),e.converter)}function jf(){return new Gg("serverTimestamp")}function vP(r){return new $g("increment",r)}(function(e,t=!0){(function(o){tl=o})(Zo),li(new Or("firestore",(a,{instanceIdentifier:o,options:l})=>{const c=a.getProvider("app").getImmediate(),d=new Fa(new d4(a.getProvider("auth-internal")),new g4(c,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(g.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),br(VE,LE,e),br(VE,LE,"esm2017")})();const _P={apiKey:"AIzaSyBvtiu4Lv_tSYmCW1LaqLRRRd_WVH7XmOk",authDomain:"lambdahack-be36f.firebaseapp.com",databaseURL:"https://lambdahack-be36f-default-rtdb.firebaseio.com",projectId:"lambdahack-be36f",storageBucket:"lambdahack-be36f.firebasestorage.app",messagingSenderId:"529700286417",appId:"1:529700286417:web:5a3c228cdbfdbb67d1faf0",measurementId:"G-M92ZCCND4N"},TS=AT(_P),Xa=cw(TS),fn=iP(TS),EP=()=>{const[r,e]=L.useState(""),[t,a]=L.useState(""),[o,l]=L.useState(""),c=Ha(),d=async m=>{m.preventDefault(),l("");try{const v=(await JT(Xa,r,t)).user,b=await Uf($i(fn,"usersVerified",v.uid));if(b.exists()){const T=b.data();console.log("Logged in user data:",T)}console.log("Login successful"),c("/")}catch(g){l("Login failed: "+g.message),console.error(g)}};return w.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-fixed bg-contain bg-center bg-no-repeat px-4 md:px-16 py-10 bg-[#F7F4E9]",style:{backgroundImage:`url(${el})`,backgroundRepeat:"repeat",backgroundSize:"35%"},children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-[#0f1a2c] mb-10",children:"Verified Login"}),w.jsx("div",{className:"bg-[#29C9D3] p-12 rounded-[80px] shadow-2xl w-full max-w-4xl text-black",children:w.jsxs("form",{onSubmit:d,className:"space-y-10",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"College Mail"}),w.jsx("input",{type:"text",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:r,onChange:m=>e(m.target.value),required:!0})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"Password"}),w.jsx("input",{type:"password",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:t,onChange:m=>a(m.target.value),required:!0})]}),w.jsxs("div",{className:"flex justify-between items-center gap-6 mt-6 flex-wrap",children:[w.jsx(Os,{to:"/verifiedCreate",className:"bg-[#F7F4E9] text-black font-bold py-3 px-7 rounded-[20px] shadow hover:brightness-95 transition border-[3px] border-black",children:"Sign Up"}),w.jsx(Os,{to:"/anonymousLogin",className:"bg-[#F7F4E9] text-black font-bold py-3 px-7 rounded-[20px] shadow hover:brightness-95 transition border-[3px] border-black",children:"Anonymous Login"}),w.jsx("button",{type:"submit",className:"bg-[#FF6A3D] text-black font-bold py-3 px-7 rounded-[20px] shadow hover:bg-orange-600 transition border-[3px] border-black",children:"Login"})]})]})})]})},bP=()=>w.jsx(w.Fragment,{children:w.jsx(EP,{})}),TP=()=>{const[r,e]=L.useState(""),[t,a]=L.useState(""),[o,l]=L.useState(""),[c,d]=L.useState(""),[m,g]=L.useState(""),[v,b]=L.useState(""),T=Ha(),R=async I=>{if(I.preventDefault(),c!==m){b("Passwords do not match. Please try again."),d(""),g("");return}try{b("");const F=(await ZT(Xa,t,c)).user;await ny($i(fn,"usersVerified",F.uid),{username:r,email:t,phone:o,createdAt:new Date().toISOString()}),console.log("User created and data saved"),T("/verifiedLogin")}catch($){b($.message),console.error("Firebase Error:",$)}};return w.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center bg-[#F7F4E9] bg-fixed bg-center bg-no-repeat px-4 md:px-16 py-10",style:{backgroundImage:`url(${el})`,backgroundRepeat:"repeat",backgroundSize:"35%"},children:[w.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-[#0f1a2c] mb-10 flex items-center gap-2",children:[w.jsx(fw,{className:"w-8 h-8 text-green-600"}),"Verified Account Creation"]}),w.jsx("div",{className:"bg-[#29C9D3] p-12 rounded-[80px] shadow-2xl w-full max-w-4xl text-black",children:w.jsxs("form",{onSubmit:R,className:"space-y-10",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"Create Username"}),w.jsx("input",{type:"text",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:r,onChange:I=>e(I.target.value),required:!0})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"College Mail"}),w.jsx("input",{type:"email",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:t,onChange:I=>a(I.target.value),required:!0})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"Phone Number"}),w.jsx("input",{type:"tel",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:o,onChange:I=>l(I.target.value),required:!0})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"Create Password"}),w.jsx("input",{type:"password",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:c,onChange:I=>d(I.target.value),required:!0})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"Confirm Password"}),w.jsx("input",{type:"password",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:m,onChange:I=>g(I.target.value),required:!0})]}),v&&w.jsx("p",{className:"text-red-600 text-sm text-center",children:v}),w.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white font-semibold py-3 px-6 rounded-[20px] shadow hover:bg-orange-600 transition border-[3px] border-black",children:"Create Account"})]})})]})},wP=()=>w.jsx(w.Fragment,{children:w.jsx(TP,{})}),AP=()=>{const[r,e]=L.useState(""),[t,a]=L.useState(""),[o,l]=L.useState(""),[c,d]=L.useState(""),m=Ha(),g=async v=>{if(v.preventDefault(),t!==o){d("Passwords do not match. Please try again."),a(""),l("");return}const b=`${r}@lambda.com`;try{d("");const R=(await ZT(Xa,b,t)).user;await ny($i(fn,"usersVerified",R.uid),{username:r,email:b,createdAt:new Date().toISOString()}),console.log("Anonymous account created"),m("/")}catch(T){d(T.message),console.error("Firebase Error:",T)}};return w.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center bg-[#F7F4E9] bg-fixed bg-center bg-no-repeat px-4 md:px-16 py-10",style:{backgroundImage:`url(${el})`,backgroundRepeat:"repeat",backgroundSize:"35%"},children:[w.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-[#0f1a2c] mb-10 flex items-center gap-2",children:[w.jsx(fw,{className:"w-8 h-8 text-orange-600"}),"Anonymous Account Creation"]}),w.jsx("div",{className:"bg-[#29C9D3] p-12 rounded-[80px] shadow-2xl w-full max-w-4xl text-black",children:w.jsxs("form",{onSubmit:g,className:"space-y-10",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"Create Username"}),w.jsx("input",{type:"text",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:r,onChange:v=>e(v.target.value),required:!0})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"Create Password"}),w.jsx("input",{type:"password",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:t,onChange:v=>a(v.target.value),required:!0})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"Confirm Password"}),w.jsx("input",{type:"password",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:o,onChange:v=>l(v.target.value),required:!0})]}),c&&w.jsx("p",{className:"text-red-600 text-sm text-center",children:c}),w.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white font-semibold py-3 px-6 rounded-[20px] shadow hover:bg-orange-600 transition border-[3px] border-black",children:"Create Anonymous Account"})]})})]})},SP=()=>w.jsx(w.Fragment,{children:w.jsx(AP,{})}),RP="/UnoLoopin/assets/Queries-Dcqj1tLs.png",xP=()=>w.jsx("div",{className:"w-screen h-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${RP})`},children:w.jsx("div",{className:"w-full h-full bg-black bg-opacity-0 flex items-center justify-center"})}),CP="/UnoLoopin/assets/Confessions-Buez7FxH.png",IP=()=>w.jsx("div",{className:"w-screen h-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${CP})`},children:w.jsx("div",{className:"w-full h-full bg-black bg-opacity-0 flex items-center justify-center"})}),NP="/UnoLoopin/assets/Poll-C4OypbNc.png",DP=()=>w.jsx("div",{className:"w-screen h-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${NP})`},children:w.jsx("div",{className:"w-full h-full bg-black bg-opacity-0 flex items-center justify-center"})}),OP=()=>{const[r,e]=L.useState(""),[t,a]=L.useState(""),[o,l]=L.useState(""),c=Ha(),d=async m=>{m.preventDefault(),l("");const g=`${r}@lambda.com`;try{const b=(await JT(Xa,g,t)).user,T=$i(fn,"usersVerified",b.uid);await ny(T,{username:r},{merge:!0}),console.log("Anonymous login successful"),c("/")}catch(v){l("Login failed: "+v.message),console.error(v)}};return w.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-fixed bg-contain bg-center bg-no-repeat px-4 md:px-16 py-10 bg-[#F7F4E9]",style:{backgroundImage:`url(${el})`,backgroundRepeat:"repeat",backgroundSize:"35%"},children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-[#0f1a2c] mb-10",children:"Anonymous Login"}),w.jsxs("div",{className:"bg-[#29C9D3] p-12 rounded-[80px] shadow-2xl w-full max-w-4xl text-black",children:[w.jsxs("form",{onSubmit:d,className:"space-y-10",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"Username"}),w.jsx("input",{type:"text",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:r,onChange:m=>e(m.target.value),required:!0})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("label",{className:"w-[200px] text-lg font-bold",children:"Password"}),w.jsx("input",{type:"password",className:"flex-grow border-b-2 border-black bg-transparent focus:outline-none text-lg",value:t,onChange:m=>a(m.target.value),required:!0})]}),w.jsxs("div",{className:"flex justify-between items-center gap-6 mt-6 flex-wrap",children:[w.jsx(Os,{to:"/anonymousCreate",className:"bg-[#F7F4E9] text-black font-bold py-3 px-7 rounded-[20px] shadow hover:brightness-95 transition border-[3px] border-black",children:"Sign Up"}),w.jsx(Os,{to:"/verifiedLogin",className:"bg-[#F7F4E9] text-black font-bold py-3 px-7 rounded-[20px] shadow hover:brightness-95 transition border-[3px] border-black",children:"Verified Login"}),w.jsx("button",{type:"submit",className:"bg-[#FF6A3D] text-black font-bold py-3 px-7 rounded-[20px] shadow hover:bg-orange-600 transition border-[3px] border-black",children:"Login"})]})]}),o&&w.jsx("p",{className:"text-red-600 font-semibold mt-4",children:o})]})]})},MP=()=>w.jsx(w.Fragment,{children:w.jsx(OP,{})});var wS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vb=Ds.createContext&&Ds.createContext(wS),kP=["attr","size","title"];function PP(r,e){if(r==null)return{};var t=VP(r,e),a,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)a=l[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(t[a]=r[a])}return t}function VP(r,e){if(r==null)return{};var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;t[a]=r[a]}return t}function lf(){return lf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},lf.apply(this,arguments)}function Lb(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,a)}return t}function uf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(t),!0).forEach(function(a){LP(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Lb(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function LP(r,e,t){return e=UP(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function UP(r){var e=jP(r,"string");return typeof e=="symbol"?e:e+""}function jP(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function AS(r){return r&&r.map((e,t)=>Ds.createElement(e.tag,uf({key:t},e.attr),AS(e.child)))}function iy(r){return e=>Ds.createElement(zP,lf({attr:uf({},r.attr)},e),AS(r.child))}function zP(r){var e=t=>{var{attr:a,size:o,title:l}=r,c=PP(r,kP),d=o||t.size||"1em",m;return t.className&&(m=t.className),r.className&&(m=(m?m+" ":"")+r.className),Ds.createElement("svg",lf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:m,style:uf(uf({color:r.color||t.color},t.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Ds.createElement("title",null,l),r.children)};return Vb!==void 0?Ds.createElement(Vb.Consumer,null,t=>e(t)):e(wS)}function BP(r){return iy({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(r)}function FP(r){return iy({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(r)}function qP(r){return iy({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(r)}const HP=()=>{const[r,e]=L.useState([]),[t,a]=L.useState(""),[o,l]=L.useState(""),[c,d]=L.useState(!0),m=L.useRef(null);L.useEffect(()=>{const b=pf(Xa,async T=>{if(T){const R=await Uf($i(fn,"usersVerified",T.uid));R.exists()?l(R.data().username):l("Anonymous")}});return()=>b()},[]),L.useEffect(()=>{const b=pS(Hi(fn,"globalChat"),gS("createdAt","asc")),T=yP(b,R=>{e(R.docs.map(I=>({id:I.id,...I.data()})))});return()=>T()},[]),L.useEffect(()=>{c&&m.current&&(m.current.scrollTop=m.current.scrollHeight)},[r,c]);const g=()=>{if(!m.current)return;const{scrollTop:b,scrollHeight:T,clientHeight:R}=m.current,I=T-b<=R+100;d(I)},v=async b=>{b.preventDefault(),t.trim()!==""&&(await tc(Hi(fn,"globalChat"),{username:o||"Anonymous",message:t.trim(),createdAt:jf()}),a(""))};return w.jsxs("div",{className:"min-h-screen bg-[#F7F4E9] text-extrabold relative overflow-hidden font-monseratt",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-0 overflow-hidden pointer-events-none",children:w.jsx("div",{className:"w-full h-full flex flex-col space-y-4 animate-none",children:Array.from({length:20}).map((b,T)=>w.jsx("div",{className:"flex justify-around w-full text-[90px] font-black text-[#F4DB7D] opacity-70 leading-none whitespace-nowrap",style:{lineHeight:"100px"},children:Array.from({length:5}).map((R,I)=>w.jsx("span",{children:"ANONYMOUSCHAT"},I))},T))})}),w.jsxs("div",{className:"z-10 relative p-8 flex justify-between items-center rounded-[35px] bg-[#F7F4E9]",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-extrabold text-[#FF5722] ",children:"★ Global Chat"}),w.jsx("p",{className:"text-sm text-[#FF5722] mt-1",children:"Connect. Converse. Contribute. Anonymously."})]}),w.jsxs("div",{className:"flex gap-4 text-xl",children:[w.jsx("button",{children:"🔄"}),w.jsx("button",{children:"🏠"}),w.jsx("button",{children:"🔔"}),w.jsx("button",{children:"👤"})]})]}),w.jsx("div",{ref:m,onScroll:g,className:"z-10 relative mx-auto max-w-4xl bg-[#FF6B3D] rounded-[81px] p-6 shadow-xl h-[80vh] overflow-y-auto flex flex-col gap-4 scroll-smooth",children:r.map(b=>w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx(BP,{className:"text-4xl text-black bg-[#F7F4E9] p-1 rounded-full"}),w.jsxs("div",{className:"bg-[#F7F4E9] rounded-xl px-4 py-2 shadow-inner max-w-[70%]",children:[w.jsx("p",{className:"text-sm font-bold",children:b.username}),w.jsx("p",{className:"text-md",children:b.message})]})]},b.id))}),w.jsxs("form",{onSubmit:v,className:"z-10 fixed bottom-6 left-1/2 transform -translate-x-1/2 w-[95%] max-w-5xl bg-[#0A1D3E] text-white flex items-center rounded-full px-8 py-4 shadow-2xl",children:[w.jsx(FP,{className:"text-2xl mr-4"}),w.jsx("input",{type:"text",className:"flex-grow bg-transparent outline-none placeholder-white text-lg",placeholder:"Type your message...",value:t,onChange:b=>a(b.target.value)}),w.jsx("button",{type:"submit",children:w.jsx(qP,{className:"text-2xl ml-4"})})]})]})},SS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAiCAYAAAA3WXuFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANeSURBVHgBvViLddowFJUdknPyLUwQd4LQDcwEtBOUTBCYADJBYIKkE5ROgDNB2SDuBJDD7/DvvcQQWZaxTCDvHNmybD1dvb9siZTU7/fz8/nczWQyN3h0l8tl1rKsLN+h30XfR9efzWbPR0dH3sXFRTsFe2GZfNTpdLK2bZewQBELuiId+djA/dXV1ZPJx4mAIJEybtW1FD5ARsBiAUEqzvHx8eMOEtlKUKs3nU5vc7mcL0wBEczJyUkLXSeG6TNuTTTv/PzcB+huMJ6ljeE5j74LNReFnvzJZFLQgbJ0YCCZvxoVcdHG2dlZfQ0giUajkbNYLEroVjWvuwBdUI3eUsHoJEOJwKBLp6envtiBCAw8Hik15VWspFY0GAxe0JZy6/V6NbEnAr+ayh8qbomYXVQPCSYBVDn0EVWlkc5vkwWwkZ9g2OF89k3mDIfDlrJWh7GO72xeYMTfhWQ3jLbwkIoJcxhtLXAAGnDdZM54PP4h3pxkTVlE/vIGEBjeKYs0UhiwIzM2mQAjXnmsPAYBrDDYjBsKUwGPaooDE7yL0gxJCTbrUkKu/CGk82dX905DlBI0E45BCKi2mhrw7IlPIm5ehNe+yeDyBQFrM4i+tlyAZzzgXVkkEL1GHcO8OiJyRQPIh3nIz19t5h8FZSQtULcmYOIIPMvkoY7Du0Obh2FfE1BOHgRiozy1D0I5EsmXAGW/yCMoDfLqxMvLSw/AG2JH4lzy0IyHAEFlrxlc/kGkm0EAdHRMYQNUWURtqs2gHDGqQkn0KmWoS7dXjbgoPol0Hm6rXkXU67xySGL+FNHNe3agW21eOSQF+XNDzJ8s1uzgOZJXUkipKzM1mUDp6PLnam1edHkFOzAqP6DySgCkC6b3JnNQlT4IpbqI5E9E4rJaOKFVxZ4pVSGoKZz2CkoHBmuG4qClTGAx3kJz5PGks1QSxZ3xqCq0glxdRIJYcK5i4a0z6hrs7ZcpMDoG7OWOeVB3rILzfFNLHW1UjZOURE3+TADDNu7toAJcAYAkHP6M2PYfQCeZrYAkULqz1Ico6Yxnx03kBJxSC2BwaxpfEogn1QqCn7utIjVOhLCtElRU3aJGLa3/AyDpPpkcwY0BScCYoVmwuViAEfdavDsApfCKuyfeknbqH1b/AZMFjy59UglIAAAAAElFTkSuQmCC",GP=({onNewPostClick:r})=>{const e=[{label:"Global Chat",path:"/globalChat"},{label:"Course Reviews",path:"/courseReview"},{label:"Queries",path:"/queries"},{label:"Polls",path:"/polls"},{label:"Confessions?",path:"/confessions"}];return w.jsxs("div",{className:"flex flex-col justify-start h-[100vh] pt-10 pb-20 gap-8 text-center bg-[#FF6A3D] rounded-[64px] px-6 w-[300px]",children:[w.jsx("h2",{className:"text-4xl font-bold italic text-black",children:"Sections"}),w.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-4 bg-black text-white px-10 py-6 rounded-[34px] font-black text-2xl w-full shadow-lg hover:bg-gray-900 transition duration-200",children:["New Post",w.jsx("img",{src:SS,alt:"Add",className:"w-7 h-7"})]}),w.jsx("div",{className:"flex flex-col gap-6 text-white text-2xl font-semibold text-center mt-4 w-full",children:e.map((t,a)=>w.jsxs("div",{className:"flex flex-col items-center w-full",children:[w.jsx(Os,{to:t.path,className:"hover:underline",children:t.label}),a!==e.length-1&&w.jsx("div",{className:"w-3/4 h-[1px] bg-white opacity-30 mt-2"})]},t.label))})]})},$P=({id:r,topic:e="",username:t="anonymous",time:a="just now",likes:o=0,comments:l=0,bgColor:c="bg-white"})=>{const[d,m]=L.useState(!1),[g,v]=L.useState(!1),[b,T]=L.useState(o),[R,I]=L.useState(""),[$,F]=L.useState(l),[H,ue]=L.useState(null);L.useEffect(()=>{const x=pf(Xa,C=>{ue(C)});return()=>x()},[]);const ne=async()=>{const x=!d;m(x),T(C=>x?C+1:C-1);try{const C=$i(fn,"posts",r);await gP(C,{likes:vP(x?1:-1)})}catch(C){console.error("Error updating like count:",C)}},pe=()=>{v(!g)},de=`#${Math.floor(Math.random()*16777215).toString(16)}`,q=async x=>{if(x.preventDefault(),!R.trim())return;const C={text:R.trim(),createdAt:new Date,username:(H==null?void 0:H.displayName)||(H==null?void 0:H.email)||"anonymous"};try{await tc(Hi(fn,"posts",r,"comments"),C),F(P=>P+1),I("")}catch(P){console.error("Error adding comment:",P)}},M=e&&e.length>150?e.slice(0,150)+"...":e;return w.jsxs("div",{className:`relative ${c} rounded-[40px] p-5 shadow-md flex flex-col justify-between min-h-[180px] transition hover:shadow-xl`,children:[w.jsx("div",{className:"absolute top-3 right-4 text-xs text-gray-600",children:a}),w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:de}}),w.jsxs("span",{className:"text-sm font-semibold italic text-gray-800",children:["@",t]})]}),w.jsx("div",{className:"flex-1 mb-4",children:w.jsx("p",{className:"text-[15px] font-semibold text-gray-900 leading-snug",children:M})}),w.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-800 mt-auto",children:[w.jsxs("div",{className:"flex items-center gap-5",children:[w.jsxs("button",{onClick:ne,className:"flex items-center gap-1 hover:text-red-500 transition",children:[d?w.jsx(Tp,{className:"w-5 h-5 text-red-500",fill:"currentColor"}):w.jsx(Tp,{className:"w-5 h-5"}),w.jsx("span",{children:b})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(dw,{className:"w-5 h-5"}),w.jsx("span",{children:$})]})]}),w.jsx("button",{onClick:pe,className:"hover:text-blue-600 transition",children:g?w.jsx(ED,{className:"w-5 h-5 text-blue-600"}):w.jsx(TD,{className:"w-5 h-5"})})]}),w.jsxs("form",{onSubmit:q,className:"mt-4 flex items-center gap-2",children:[w.jsx("input",{type:"text",value:R,onChange:x=>I(x.target.value),placeholder:"Add a comment...",className:"flex-1 bg-white/60 rounded-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm"}),w.jsx("button",{type:"submit",className:"text-sm bg-blue-600 text-white px-4 py-1.5 rounded-full hover:bg-blue-700 transition",children:"Post"})]})]})},Ub=["bg-[#DDEEFF]","bg-[#C3F6FF]","bg-[#FFFAC3]","bg-[#FADADD]","bg-[#E2F0CB]","bg-[#FCD5CE]","bg-[#D0E8F2]","bg-[#FFF5E1]"],KP=({showNewPost:r,setShowNewPost:e})=>{const[t,a]=L.useState([]),[o,l]=L.useState(""),[c,d]=L.useState("anonymous");L.useEffect(()=>{const g=pf(Xa,async v=>{if(v)try{const b=await Uf($i(fn,"usersVerified",v.uid));b.exists()&&d(b.data().username||"anonymous")}catch(b){console.error("Error fetching username:",b)}else d("anonymous")});return()=>g()},[]),L.useEffect(()=>{(async()=>{try{const b=(await ty(Hi(fn,"posts"))).docs.map(T=>({id:T.id,...T.data()}));a(b.sort((T,R)=>{var I,$;return((I=R.time)==null?void 0:I.seconds)-(($=T.time)==null?void 0:$.seconds)}))}catch(v){console.error("Error fetching posts:",v)}})()},[r]);const m=async()=>{if(!o.trim())return;const g={topic:o.trim(),username:c,time:jf(),likes:0};try{await tc(Hi(fn,"posts"),g),l(""),e(!1)}catch(v){console.error("Error adding post:",v)}};return w.jsxs("div",{className:"relative h-full overflow-y-auto px-6 py-10 bg-[#0F172A] text-black",children:[r&&w.jsx("div",{className:"absolute top-0 left-0 w-full z-20 px-4 py-6",children:w.jsxs("div",{className:"bg-white border border-gray-300 shadow-2xl rounded-2xl p-6 max-w-2xl mx-auto",children:[w.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Create a new post"}),w.jsx("textarea",{rows:"4",value:o,onChange:g=>l(g.target.value),placeholder:"What's on your mind?",className:"w-full border border-gray-300 rounded-lg p-3 mb-4"}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{onClick:()=>{l(""),e(!1)},className:"text-sm px-4 py-2 rounded-lg bg-gray-300 hover:bg-gray-400 transition",children:"Cancel"}),w.jsx("button",{onClick:m,className:"text-sm px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition",children:"Post"})]})]})}),w.jsx("div",{className:`grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 transition ${r?"blur-sm pointer-events-none opacity-30":""}`,children:t.map((g,v)=>{var b,T;return w.jsx($P,{id:g.id,topic:g.topic,username:g.username,time:((b=g.time)==null?void 0:b.toDate().toLocaleString())??"Just now",likes:g.likes??0,comments:((T=g.comments)==null?void 0:T.length)??0,bgColor:Ub[v%Ub.length]},g.id)})})]})},YP=()=>{const[r,e]=L.useState(!1);return w.jsxs("div",{className:"h-screen overflow-hidden bg-[#0F172A] flex items-start gap-6 px-6 py-0",children:[w.jsx("div",{className:"bg-[#FF6B3D] rounded-t-[81px] p-6 text-white mt-20 ml-4 flex-shrink-0 shadow-2xl h-[calc(100vh-2rem)]",children:w.jsx(GP,{onNewPostClick:()=>e(!0)})}),w.jsx("div",{className:"flex-1 h-screen overflow-y-scroll pr-4 pt-8 mt-4",children:w.jsx(KP,{showNewPost:r,setShowNewPost:e})})]})},QP=({title:r,professor:e,skills:t=[],startDate:a,endDate:o,vacancy:l=1,avatar:c="https://i.pravatar.cc/150?img=3",onKnowMore:d,onApply:m})=>w.jsxs("div",{className:"flex items-center bg-[#F7F4E9] shadow-xl rounded-[63px] px-8 py-6 gap-6 w-full max-w-4xl mx-auto",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("div",{className:"w-[90px] h-[90px] rounded-full border-[6px] border-black flex items-center justify-center overflow-hidden",children:w.jsx("img",{src:c,alt:"professor",className:"w-full h-full object-cover"})})}),w.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-black text-black mb-1",children:r}),w.jsx("p",{className:"text-lg font-semibold text-black mb-2",children:e}),w.jsxs("p",{className:"text-sm text-black mb-1",children:[w.jsx("strong",{children:"Skills Required :"})," ",t.join(", ")]}),w.jsxs("p",{className:"text-sm text-black mb-2",children:[w.jsx("strong",{children:"Duration :"})," ",a," - ",o]}),w.jsx("div",{className:"flex items-center gap-1",children:[...Array(l)].map((g,v)=>w.jsx(pw,{className:"w-4 h-4 text-black"},v))})]}),w.jsxs("div",{className:"flex gap-3 mt-4 justify-end",children:[w.jsx("button",{onClick:d,className:"px-4 py-2 text-sm bg-[#3CBCC3] text-white rounded-[10px] font-bold hover:brightness-95 transition border-[3px] border-black",children:"Know more..."}),w.jsx("button",{onClick:m,className:"px-4 py-2 text-sm bg-[#FF6A3D] text-white rounded-[10px] font-bold hover:brightness-90 transition border-[3px] border-black",children:"Apply Now"})]})]})]}),XP=({onClose:r})=>{const[e,t]=L.useState({title:"",creator:"",aim:"",description:"",skills:"",startDate:"",endDate:"",vacancies:1}),a=l=>{const{name:c,value:d}=l.target;t(m=>({...m,[c]:d}))},o=async()=>{try{const l={...e,skills:e.skills.split(",").map(c=>c.trim()),uploadDate:jf()};await tc(Hi(fn,"projectVacancies"),l),r()}catch(l){console.error("Error creating project:",l)}};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-[#2AD2C9] rounded-[40px] shadow-2xl w-full max-w-6xl p-10",children:[w.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Create a New Project"}),w.jsxs("div",{className:"flex flex-wrap gap-6",children:[w.jsxs("div",{className:"flex-1 min-w-[300px]",children:[w.jsxs("div",{className:"bg-[#F7F4E9] p-6 rounded-2xl mb-4 shadow",children:[w.jsxs("label",{className:"block font-bold text-lg mb-2 flex justify-between items-center",children:["Project Title ",w.jsx(cu,{size:18})]}),w.jsx("input",{name:"title",value:e.title,onChange:a,className:"w-full bg-transparent border-b-2 border-black text-black text-lg outline-none"})]}),w.jsxs("div",{className:"bg-[#F7F4E9] p-6 rounded-2xl mb-4 shadow",children:[w.jsxs("label",{className:"block font-bold text-lg mb-2 flex justify-between items-center",children:["Creator Name ",w.jsx(cu,{size:18})]}),w.jsx("input",{name:"creator",value:e.creator,onChange:a,className:"w-full bg-transparent border-b-2 border-black text-black text-lg outline-none"})]}),w.jsxs("div",{className:"bg-[#F7F4E9] p-6 rounded-2xl mb-4 shadow",children:[w.jsxs("label",{className:"block font-bold text-lg mb-2 flex justify-between items-center",children:["Skills (comma-separated) ",w.jsx(cu,{size:18})]}),w.jsx("input",{name:"skills",value:e.skills,onChange:a,className:"w-full bg-transparent border-b-2 border-black text-black text-lg outline-none"})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("div",{className:"flex-1 bg-[#F7F4E9] p-6 rounded-2xl shadow",children:[w.jsx("label",{className:"block font-bold text-lg mb-2",children:"Start Date"}),w.jsx("input",{type:"date",name:"startDate",value:e.startDate,onChange:a,className:"w-full bg-transparent border-b-2 border-black text-black text-lg outline-none"})]}),w.jsxs("div",{className:"flex-1 bg-[#F7F4E9] p-6 rounded-2xl shadow",children:[w.jsx("label",{className:"block font-bold text-lg mb-2",children:"End Date"}),w.jsx("input",{type:"date",name:"endDate",value:e.endDate,onChange:a,className:"w-full bg-transparent border-b-2 border-black text-black text-lg outline-none"})]})]})]}),w.jsxs("div",{className:"flex-1 min-w-[300px] flex flex-col gap-4",children:[w.jsxs("div",{className:"bg-[#F7F4E9] p-6 rounded-2xl shadow flex-1",children:[w.jsxs("label",{className:"block font-bold text-lg mb-2 flex justify-between items-center",children:["Project Aim ",w.jsx(cu,{size:18})]}),w.jsx("textarea",{name:"aim",value:e.aim,onChange:a,rows:4,className:"w-full bg-transparent border-b-2 border-black text-black text-lg outline-none resize-none"})]}),w.jsxs("div",{className:"bg-[#F7F4E9] p-6 rounded-2xl shadow flex-1",children:[w.jsxs("label",{className:"block font-bold text-lg mb-2 flex justify-between items-center",children:["Project Description ",w.jsx(cu,{size:18})]}),w.jsx("textarea",{name:"description",value:e.description,onChange:a,rows:6,className:"w-full bg-transparent border-b-2 border-black text-black text-lg outline-none resize-none"})]}),w.jsxs("div",{className:"bg-[#F7F4E9] p-6 rounded-2xl shadow",children:[w.jsx("label",{className:"block font-bold text-lg mb-2",children:"Vacancies"}),w.jsx("input",{type:"number",name:"vacancies",min:1,value:e.vacancies,onChange:a,className:"w-full bg-transparent border-b-2 border-black text-black text-lg outline-none"})]})]})]}),w.jsxs("div",{className:"flex justify-end mt-8 gap-4",children:[w.jsx("button",{onClick:r,className:"bg-gray-200 text-black font-semibold px-6 py-3 rounded-xl shadow hover:bg-gray-300 transition",children:"Cancel"}),w.jsx("button",{onClick:o,className:"bg-[#FF6B3D] text-white font-semibold px-6 py-3 rounded-xl shadow hover:bg-[#e35b2e] transition",children:"Publish Project"})]})]})})},WP=({searchTerm:r,setSearchTerm:e})=>w.jsxs("div",{className:"bg-[#F7F4E9] rounded-[20px] px-8 py-5 mx-auto w-[1291px] flex items-center shadow-md",children:[w.jsx(mw,{className:"text-gray-500 mr-4 w-5 h-5"}),w.jsx("input",{type:"text",value:r,onChange:t=>e(t.target.value),placeholder:"Search for any project tags...",className:"flex-1 bg-transparent text-black placeholder-gray-500 outline-none text-base font-medium"})]}),ZP=()=>{const[r,e]=L.useState([]),[t,a]=L.useState([]),[o,l]=L.useState(""),[c,d]=L.useState(!1),m=async()=>{try{const b=(await ty(Hi(fn,"projectVacancies"))).docs.map(T=>{var I,$,F,H,ue,ne;const R=T.data();return{id:T.id,title:R.title||"Untitled Project",creator:R.creator||"Unknown",aim:R.aim||"",description:R.description||"",startDate:(($=(I=R.startDate)==null?void 0:I.toDate)==null?void 0:$.call(I).toLocaleDateString())||"",endDate:((H=(F=R.endDate)==null?void 0:F.toDate)==null?void 0:H.call(F).toLocaleDateString())||"",uploadDate:((ne=(ue=R.uploadDate)==null?void 0:ue.toDate)==null?void 0:ne.call(ue).toLocaleDateString())||"",skills:R.skills||[],vacancies:R.vacancies||0,avatar:R.avatar||"https://i.pravatar.cc/150?img=10"}});e(b),a(b)}catch(v){console.error("Error fetching projects:",v)}};L.useEffect(()=>{m()},[]),L.useEffect(()=>{if(!o.trim())a(r);else{const v=o.toLowerCase(),b=r.filter(T=>{var R,I,$,F;return((R=T.title)==null?void 0:R.toLowerCase().includes(v))||((I=T.creator)==null?void 0:I.toLowerCase().includes(v))||(($=T.description)==null?void 0:$.toLowerCase().includes(v))||((F=T.aim)==null?void 0:F.toLowerCase().includes(v))||T.skills&&T.skills.some(H=>H.toLowerCase().includes(v))});a(b)}},[o,r]);const g=()=>{d(!1),m()};return w.jsxs("div",{className:"min-h-screen bg-[#0F172A] py-10 px-6 flex flex-col gap-8 items-center relative",style:{backgroundImage:`url(${el})`,backgroundRepeat:"repeat",backgroundSize:"35%"},children:[w.jsx(WP,{searchTerm:o,setSearchTerm:l}),t.length===0?w.jsx("p",{className:"text-white text-lg",children:"No matching projects found."}):t.map(v=>w.jsx(QP,{title:v.title,professor:v.creator,skills:v.skills,startDate:v.startDate,endDate:v.endDate,aim:v.aim,description:v.description,uploadDate:v.uploadDate,vacancy:v.vacancies,avatar:v.avatar,onKnowMore:()=>console.log("Know more about:",v.title),onApply:()=>console.log("Apply to:",v.title)},v.id)),w.jsxs("button",{className:"fixed bottom-6 right-6 bg-[#3CBCC3] text-white font-black text-4xl px-10 py-6 rounded-[25px] shadow-xl flex items-center gap-3 hover:bg-[#1ab7af] transition",onClick:()=>d(!0),children:["Create",w.jsx(VD,{size:32})]}),c&&w.jsx(XP,{onClose:g})]})},JP=({username:r,title:e,time:t,likes:a,comments:o})=>w.jsxs("div",{className:"bg-[#F7F4E9] rounded-[40px] p-6 w-full shadow-md",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsxs("div",{className:"flex items-center gap-2 font-semibold italic text-sm text-black",children:[w.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full"}),w.jsxs("span",{className:"text-sm",children:["@",r]})]}),w.jsx("span",{className:"text-sm text-black",children:t})]}),w.jsx("div",{className:"text-black text-md md:text-lg font-semibold mb-4",children:e}),w.jsxs("div",{className:"flex items-center gap-6 text-black",children:[w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(Tp,{className:"w-4 h-4"}),w.jsx("span",{children:a})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(dw,{className:"w-4 h-4"}),w.jsx("span",{children:(o==null?void 0:o.length)||0})]})]})]}),eV=({searchTerm:r,setSearchTerm:e,onRefresh:t})=>w.jsxs("div",{className:"flex items-center justify-between bg-[#00C2CB] px-8 py-6 rounded-t-[60px]",children:[w.jsxs("div",{className:"relative w-full max-w-4xl",children:[w.jsx(mw,{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-600",size:28}),w.jsx("input",{type:"text",value:r,onChange:a=>e(a.target.value),placeholder:"Search for tags/ course codes/ names/ opinions...",className:"w-full pl-16 pr-6 py-4 rounded-full bg-[#F7F4E9] text-gray-900 text-lg outline-none placeholder-gray-500 font-medium"})]}),w.jsxs("button",{onClick:t,className:"ml-6 flex items-center gap-3 bg-[#F9DC5C] text-black font-bold text-lg px-6 py-4 rounded-full shadow hover:bg-[#f7ce27] transition",children:["Latest Reviews",w.jsx(UD,{size:24})]})]}),tV=({onClose:r})=>{const[e,t]=L.useState(""),[a,o]=L.useState(""),[l,c]=L.useState("anonymous");L.useEffect(()=>{const m=pf(Xa,async g=>{if(g){const v=$i(fn,"usersVerified",g.uid),b=await Uf(v);b.exists()&&c(b.data().username||"anonymous")}});return()=>m()},[]);const d=async m=>{if(m.preventDefault(),!e.trim()||!a.trim())return;const g={username:l,title:e,content:a,likes:0,comments:[],time:jf()};try{await tc(Hi(fn,"courseReviews"),g),r()}catch(v){console.error("Error creating review:",v)}};return w.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center px-4",children:w.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-xl shadow-2xl text-black",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Course Review"}),w.jsxs("form",{onSubmit:d,className:"space-y-4",children:[w.jsx("input",{type:"text",placeholder:"Title of the course or review",className:"w-full border border-gray-300 rounded-lg p-3 text-sm",value:e,onChange:m=>t(m.target.value),required:!0}),w.jsx("textarea",{placeholder:"Write your review...",rows:5,className:"w-full border border-gray-300 rounded-lg p-3 text-sm",value:a,onChange:m=>o(m.target.value),required:!0}),w.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[w.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-300 text-black rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),w.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Publish"})]})]})]})})},nV=()=>{const[r,e]=L.useState([]),[t,a]=L.useState([]),[o,l]=L.useState(""),[c,d]=L.useState(!1),m=async()=>{try{const g=pS(Hi(fn,"courseReviews"),gS("time","desc")),v=await ty(g),b=v.docs.map(T=>{const R=T.data();let I="";try{I=R.time.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{console.warn("Invalid time format for document:",T.id,R.time),I="N/A"}return{id:T.id,username:R.username||"anonymous",time:I,title:R.title||"",content:R.content||"",likes:R.likes||0,comments:R.comments||[]}});e(b),console.log("Raw snapshot docs:",v.docs.map(T=>T.data())),a(b)}catch(g){console.error("Error fetching reviews:",g)}};return L.useEffect(()=>{m()},[]),L.useEffect(()=>{if(!o.trim())a(r);else{const g=o.toLowerCase(),v=r.filter(b=>b.title.toLowerCase().includes(g)||b.username.toLowerCase().includes(g)||b.content.toLowerCase().includes(g));a(v)}},[o,r]),w.jsxs("div",{className:"min-h-screen bg-[#3CBCC3] py-6 px-6 text-white relative",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h1",{className:"text-[40px] text-black font-extrabold",children:"Course Reviews"}),w.jsx("button",{className:"bg-yellow-400 px-4 py-2 rounded-lg text-black font-semibold",onClick:m,children:"Refresh"})]}),w.jsx(eV,{searchTerm:o,setSearchTerm:l}),w.jsx("div",{className:"mt-8 flex flex-col gap-6",children:t.length>0?t.map(g=>w.jsx(JP,{username:g.username,time:g.time,title:g.title,content:g.content,likes:g.likes,comments:g.comments},g.id)):w.jsx("div",{className:"text-center text-gray-300 mt-12 text-lg",children:"No matching reviews found."})}),c&&w.jsx(tV,{onClose:()=>d(!1)}),w.jsxs("button",{onClick:()=>d(!0),className:"fixed bottom-8 right-8 bg-[#18223B] text-white rounded-[30px] px-20 py-6 text-2xl font-bold shadow-2xl hover:bg-[#1e3d42] transition duration-200 flex items-center gap-4",children:["Add Yours",w.jsx("img",{src:SS,alt:"Add",className:"w-7 h-7"})]})]})},rV=()=>w.jsx(w.Fragment,{children:w.jsx("h1",{children:"Yes"})}),iV="/UnoLoopin/assets/app-icon-BlVtsFOO.png",aV=()=>{const r=Ha();return w.jsxs("div",{className:"fixed top-4 left-0 right-0 w-[100%] mx-auto px-10 py-3 flex items-center justify-between z-50",children:[w.jsx("div",{className:"cursor-pointer flex items-center",onClick:()=>r("/"),children:w.jsx("img",{src:iV,alt:"App Icon",className:"w-[90px] h-[90px]"})}),w.jsxs("div",{className:"flex items-center gap-10 text-white",children:[w.jsx(CD,{size:36,className:"cursor-pointer hover:text-gray-700",onClick:()=>r("/")}),w.jsx(pw,{size:36,className:"cursor-pointer hover:text-gray-700",onClick:()=>r("/profile")})]})]})},sV=Jx(Ix(w.jsxs(Dn,{path:"/",children:[w.jsx(Dn,{index:!0,element:w.jsxs(w.Fragment,{children:[w.jsx(aV,{})," ",w.jsx(GD,{})," "]})}),w.jsx(Dn,{path:"/verifiedLogin",element:w.jsx(bP,{})}),w.jsx(Dn,{path:"/verifiedCreate",element:w.jsx(wP,{})}),w.jsx(Dn,{path:"/anonymousLogin",element:w.jsx(MP,{})}),w.jsx(Dn,{path:"/anonymousCreate",element:w.jsx(SP,{})}),w.jsx(Dn,{path:"/polls",element:w.jsx(DP,{})}),w.jsx(Dn,{path:"/confessions",element:w.jsx(IP,{})}),w.jsx(Dn,{path:"/globalChat",element:w.jsx(HP,{})}),w.jsx(Dn,{path:"/testingSite",element:w.jsx(rV,{})}),w.jsx(Dn,{path:"/generalAnonymous",element:w.jsx(YP,{})}),w.jsx(Dn,{path:"/projectVacancies",element:w.jsx(ZP,{})}),w.jsx(Dn,{path:"/courseReview",element:w.jsx(nV,{})}),w.jsx(Dn,{path:"/queries",element:w.jsx(xP,{})})]}))),oV=()=>w.jsx(fC,{router:sV});aR.createRoot(document.getElementById("root")).render(w.jsx(L.StrictMode,{children:w.jsx(oV,{})}));
